{"version":3,"sources":["webpack:///webpack/bootstrap cfd40e1167b734015806","webpack:///./app/src/main.js","webpack:///./app/lib/famousArchives-polyfills/functionPrototypeBind.js","webpack:///./app/lib/famousArchives-polyfills/classList.js","webpack:///./app/lib/famousArchives-polyfills/requestAnimationFrame.js","webpack:///./app/lib/famous/src/core/famous.css?cf20","webpack:///./app/lib/famous/src/core/famous.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./app/src/content/app.css?9b7e","webpack:///./app/src/content/app.css","webpack:///./app/src/app.js","webpack:///./app/lib/famous/src/core/Engine.js","webpack:///./app/lib/famous/src/core/Context.js","webpack:///./app/lib/famous/src/core/RenderNode.js","webpack:///./app/lib/famous/src/core/Entity.js","webpack:///./app/lib/famous/src/core/SpecParser.js","webpack:///./app/lib/famous/src/core/Transform.js","webpack:///./app/lib/famous/src/core/EventHandler.js","webpack:///./app/lib/famous/src/core/EventEmitter.js","webpack:///./app/lib/famous/src/core/ElementAllocator.js","webpack:///./app/lib/famous/src/transitions/Transitionable.js","webpack:///./app/lib/famous/src/transitions/MultipleTransition.js","webpack:///./app/lib/famous/src/utilities/Utility.js","webpack:///./app/lib/famous/src/transitions/TweenTransition.js","webpack:///./app/lib/famous/src/core/OptionsManager.js","webpack:///./app/src/AdsWall.js","webpack:///./app/lib/famous/src/core/View.js","webpack:///./app/lib/famous/src/core/Surface.js","webpack:///./app/lib/famous/src/core/ElementOutput.js","webpack:///./app/lib/famous/src/modifiers/StateModifier.js","webpack:///./app/lib/famous/src/core/Modifier.js","webpack:///./app/lib/famous/src/transitions/TransitionableTransform.js","webpack:///./app/lib/famous/src/surfaces/ImageSurface.js","webpack:///./app/lib/famous-flex/src/VirtualViewSequence.js","webpack:///./app/lib/famous-flex/src/FlexScrollView.js","webpack:///./app/lib/famous-flex/src/LayoutUtility.js","webpack:///./app/lib/famous-flex/src/ScrollController.js","webpack:///./app/lib/famous-flex/src/LayoutController.js","webpack:///./app/lib/famous/src/core/ViewSequence.js","webpack:///./app/lib/famous-flex/src/LinkedListViewSequence.js","webpack:///./app/lib/famous-flex/src/LayoutNodeManager.js","webpack:///./app/lib/famous-flex/src/LayoutContext.js","webpack:///./app/lib/famous-flex/src/LayoutNode.js","webpack:///./app/lib/famous-flex/src/FlowLayoutNode.js","webpack:///./app/lib/famous/src/math/Vector.js","webpack:///./app/lib/famous/src/physics/bodies/Particle.js","webpack:///./app/lib/famous/src/physics/integrators/SymplecticEuler.js","webpack:///./app/lib/famous/src/physics/forces/Spring.js","webpack:///./app/lib/famous/src/physics/forces/Force.js","webpack:///./app/lib/famous/src/physics/PhysicsEngine.js","webpack:///./app/lib/famous-flex/src/helpers/LayoutDockHelper.js","webpack:///./app/lib/famous/src/surfaces/ContainerSurface.js","webpack:///./app/lib/famous/src/core/Group.js","webpack:///./app/lib/famous/src/physics/forces/Drag.js","webpack:///./app/lib/famous/src/inputs/ScrollSync.js","webpack:///./app/lib/famous-flex/src/layouts/ListLayout.js","webpack:///./app/lib/lodash/lodash.js","webpack:///(webpack)/buildin/module.js","webpack:///./app/src/content/whatsdota.jpg","webpack:///./app/lib/dat.gui.js/build/dat.gui.js?6a1b","webpack:///./app/lib/dat.gui.js/build/dat.gui.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iC;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,aAAa;AAClB;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA,EAAC;;AAED;;;;;;;ACzIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,EAAC;;;;;;;ACZD;;AAEA;AACA;AACA;AACA;AACA,gDAA4F;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,0VAAyV,kBAAkB,mBAAmB,kBAAkB,mBAAmB,uBAAuB,yCAAyC,2CAA2C,mCAAmC,GAAG,sCAAsC,yBAAyB,eAAe,gBAAgB,kBAAkB,iBAAiB,wBAAwB,2CAA2C,mCAAmC,2CAA2C,mCAAmC,2BAA2B,GAAG,mBAAmB,iBAAiB,kBAAkB,kBAAkB,mBAAmB,GAAG,qBAAqB,yBAAyB,8CAA8C,sCAAsC,0CAA0C,kCAAkC,2CAA2C,mCAAmC,qCAAqC,kCAAkC,6BAA6B,+CAA+C,2BAA2B,GAAG,6BAA6B,yBAAyB,kBAAkB,mBAAmB,GAAG;;AAEhhD;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;AC1NA;;AAEA;AACA;AACA;AACA;AACA,gDAAsF;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,iCAAgC,0BAA0B;;AAE1D;;;;;;;ACPA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAmB,qBAAqB;;AAExC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,QAAQ;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;;;;;;AC1ZD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzOD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;;;;;;ACtKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AC5ED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,QAAQ;AACvB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA,4BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA,EAAC;;;;;;;AC/KD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,aAAa;AAC5B,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,UAAU;AACzB,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,aAAa;AAC5B;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA,qCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,iBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAmC;AACnC,+BAA8B;AAC9B,8BAA6B;AAC7B,kDAAiD;AACjD,wCAAuC;;AAEvC;AACA;AACA,qBAAoB;AACpB;;AAEA;AACA;;AAEA;AACA,yCAAwC;AACxC,yCAAwC;AACxC,yCAAwC;;AAExC;AACA,qCAAoC;AACpC,qCAAoC;AACpC,qCAAoC;;AAEpC;AACA,uBAAsB;AACtB,uBAAsB;AACtB,uBAAsB;;AAEtB;AACA;;AAEA;AACA;AACA,iCAAgC;AAChC,gCAA+B;AAC/B,iDAAgD;AAChD,0CAAyC;;AAEzC;AACA;;AAEA;AACA,4CAA2C;AAC3C,4CAA2C;;AAE3C;AACA,wCAAuC;AACvC,uBAAsB;;AAEtB;AACA,4CAA2C;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,MAAM;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,MAAM;AACxB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzqBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA6B;AAC7B,gCAA+B;;AAE/B,4BAA2B;AAC3B,qCAAoC;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA,oBAAmB,4BAA4B;AAC/C;AACA;AACA,oBAAmB,8BAA8B;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC7MD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA,4BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC9FD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,mDAAmD;AAClE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yDAAyD;AACxE;AACA,gBAAe,YAAY,4BAA4B;AACvD,mCAAkC;AAClC;AACA,gBAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,4CAA4C;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAmC;AACnC;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA,iBAAgB,sCAAsC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClOD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAsB,aAAa;AACnC;AACA;AACA,wBAAuB,4BAA4B;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA,wBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC5ED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,OAAO;AACzB,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,mBAAmB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACxHD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yDAAyD;AACxE;AACA,gBAAe,YAAY,4BAA4B;AACvD,mCAAkC;AAClC;AACA,gBAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,4CAA4C;AAC3D;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA,iBAAgB,sCAAsC;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzaD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA,4EAA2E,kCAAkC;AAC7G;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA,2FAA0F,sBAAsB;AAChH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;mCCxMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC/FD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,+BAA8B;;AAE9B;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC7GD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA,oBAAmB,2BAA2B;AAC9C;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA,oBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,+BAA+B;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,gCAA+B,8BAA8B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA2B,sBAAsB;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA,4BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC/eD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,aAAa;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACjUD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,eAAe,4BAA4B;AAC1D,mCAAkC;AAClC;AACA,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,eAAe,4BAA4B;AAC1D,mCAAkC;AAClC;AACA,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe,4BAA4B;AAC1D,mCAAkC;AAClC;AACA,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe,4BAA4B;AAC1D,mCAAkC;AAClC;AACA,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe,4BAA4B;AAC1D,mCAAkC;AAClC;AACA,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC7TD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACjbD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,UAAU;AACxD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,MAAM;AAC/B,6BAA4B,OAAO;AACnC,2BAA0B,SAAS;AACnC,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,MAAM;AAC3B,6BAA4B,OAAO;AACnC,2BAA0B,SAAS;AACnC,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,MAAM;AACjC,6BAA4B,OAAO;AACnC,2BAA0B,SAAS;AACnC,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,MAAM;AAChC,6BAA4B,OAAO;AACnC,2BAA0B,SAAS;AACnC,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,MAAM;AAC/B,6BAA4B,OAAO;AACnC,2BAA0B,SAAS;AACnC,iBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA0B,OAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;;;;;;;ACpOD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzHD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,WAAW;AAC1B,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,WAAW;AAC1B,gBAAe,WAAW;AAC1B,gBAAe,eAAe;AAC9B,gBAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,WAAW;AAC1B,gBAAe,WAAW;AAC1B,gBAAe,eAAe;AAC9B,gBAAe,eAAe;AAC9B,iBAAgB,eAAe;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,6BAA6B;AAC5C,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,OAAO;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC9lBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA,YAAW;AACX;AACA,iCAAgC,kBAAkB;AAClD,iCAAgC,kBAAkB;AAClD,kCAAiC,mBAAmB;AACpD;AACA,SAAQ;AACR;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;AChSD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB,gBAAe,eAAe;AAC9B,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,gBAAe,OAAO,uEAAuE;AAC7F,gBAAe,OAAO,6HAA6H,+BAA+B;AAClL,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAwB,gCAAgC;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,sCAAsC;;AAEnF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB,gBAAe,eAAe;AAC9B,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,gBAAe,OAAO,uEAAuE;AAC7F,gBAAe,OAAO,6HAA6H,+BAA+B;AAClL,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,0BAA0B;AAC7C;AACA;AACA,wBAAuB,uCAAuC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,iCAAiC;AACxD;AACA,4BAA2B,uCAAuC;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,iCAAiC;AACxD;AACA,4BAA2B,uCAAuC;AAClE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,uBAAuB;AAC/C,kBAAiB,OAAO;AACxB,uBAAsB,WAAW;AACjC,wBAAuB,OAAO;AAC9B;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yCAAyC;AACxD,iBAAgB,iBAAiB;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,KAAK;AACpB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4CAA2C,SAAS;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClgED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,oCAAoC;AACnD,gBAAe,kBAAkB;AACjC,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO,sFAAsF,+BAA+B;AAC3I,gBAAe,OAAO;AACtB,gBAAe,KAAK,gIAAgI;AACpJ,gBAAe,KAAK,2HAA2H;AAC/I,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,gBAAe,OAAO,oIAAoI,kBAAkB,4CAA4C;AACxN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,oCAAoC;AACnD,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO,sFAAsF,+BAA+B;AAC3I,gBAAe,OAAO;AACtB,gBAAe,KAAK,gIAAgI;AACpJ,gBAAe,KAAK,2HAA2H;AAC/I,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oCAAoC;AACnD,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,oCAAoC;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gCAA+B,gDAAgD;AAC/E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,gBAAe,WAAW;AAC1B,gBAAe,KAAK;AACpB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yBAAyB;AACxC,gBAAe,KAAK;AACpB,iBAAgB,WAAW;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA,2CAA0C,OAAO;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACthCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,kDAAiD;;AAEjD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAgF,8CAA8C;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD,iCAAiC;AAC1F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA6E,oCAAoC;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,iCAAiC;AACtF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACjVD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;;AAEN;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,WAAW;AAC1B,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,uBAAuB;AACtC,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AChaD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,mCAAkC;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,iBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA,oBAAmB,WAAW;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uDAAsD,OAAO;AAC7D;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE;AAChE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC5xBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAQ,SAAS;AACjB;AACA;;AAEA;AACA,SAAQ,SAAS;AACjB;AACA;;AAEA;AACA,SAAQ,SAAS,EAAE,OAAO;AAC1B;AACA;;AAEA;AACA,SAAQ,SAAS,EAAE,OAAO;AAC1B;AACA;;AAEA;AACA,SAAQ,SAAS,EAAE,OAAO;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ,kCAAiC;AACjC;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,uBAAuB;AACrD;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ,WAAU;AACV;AACA,+BAA8B,gBAAgB;AAC9C,gCAA+B,iBAAiB;AAChD,iCAAgC,kBAAkB;AAClD;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uBAAuB;AACxD;AACA;AACA;AACA;AACA,2BAA0B,sBAAsB;AAChD;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA,WAAU;AACV;AACA,gCAA+B,iBAAiB;AAChD;AACA,2BAA0B,iBAAiB;AAC3C,2BAA0B,iBAAiB;AAC3C;AACA;AACA,SAAQ;AACR;AACA;AACA,gBAAe,cAAc;AAC7B,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,mBAAmB;AACrD;AACA;AACA;AACA,aAAY;AACZ,WAAU;AACV;AACA,iCAAgC,kBAAkB;AAClD,sCAAqC,uBAAuB;AAC5D;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACrQD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACvMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC9iBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAC;;;;;;;AC3XD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,QAAQ;AACjC,mCAAkC,MAAM;AACxC,mCAAkC,MAAM;AACxC,+BAA8B,OAAO;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB;AACxB,yBAAwB;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClYD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACrGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,oBAAoB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC1QD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC5DD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,OAAO;AAC9B;AACA;AACA;AACA;;AAEA,mCAAkC;AAClC,mCAAkC;AAClC,mCAAkC;AAClC,mCAAkC;AAClC,mCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAsB,kBAAkB;AACxC,8BAA6B,gBAAgB;AAC7C,yBAAwB,KAAK;AAC7B,yBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA,4BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,QAAQ;AAC/B,uBAAsB,KAAK;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B,uBAAsB,KAAK;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA,oDAAmD,aAAa;AAChE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA,iDAAgD,aAAa;AAC7D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kDAAiD,YAAY;AAC7D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2DAA0D,YAAY;AACtE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,OAAO;AAC9B,wBAAuB;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC9gBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA,QAAO;AACP;AACA,6BAA4B,kBAAkB;AAC9C,6BAA4B,kBAAkB;AAC9C,8BAA6B,mBAAmB;AAChD;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAe,cAAc;AAC7B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO,GAAG,2CAA2C;AACrE;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;;;;;;;AClRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,UAAU;AACzB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClHD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO,8CAA8C;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA,EAAC;;;;;;;AC3HD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACtHD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,sBAAsB;AACrC,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,qCAAoC;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yEAAwE;;AAExE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACpMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;mCCrTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA2C;AAC3C;AACA,4DAA2D;;AAE3D;AACA,oDAAmD;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA8C;AAC9C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA0B,MAAM,aAAa,OAAO;;AAEpD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe;AACf,eAAc;AACd,eAAc;AACd,iBAAgB;AAChB,gBAAe;AACf,gBAAe;AACf;;AAEA;AACA;AACA,WAAU;AACV,UAAS;AACT,UAAS;AACT,YAAW;AACX,WAAU;AACV,WAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,cAAa,EAAE;AACf,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,SAAS;AACtB,cAAa,QAAQ;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,EAAE;AACf,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,UAAU;AACvB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,EAAE;AACf,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,SAAS;AACtB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,SAAS;AACxB;AACA;AACA,eAAc,2BAA2B;AACzC;AACA;AACA,oBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,OAAM;AACN;AACA;AACA,kCAAiC,6BAA6B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gEAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;;AAEA,oBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,kBAAkB;AACjC,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,OAAO,WAAW;AACjC,kBAAiB,OAAO;AACxB;AACA;AACA,6BAA4B;;AAE5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA,+CAA8C;AAC9C;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,qCAAoC,6BAA6B,EAAE;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB;AACA,gBAAe,SAAS;AACxB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,6BAA6B;AAC5C,gBAAe,UAAU;AACzB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA,2DAA0D,2BAA2B,EAAE;;AAEvF;AACA,gEAA+D,wBAAwB,EAAE;AACzF,iBAAgB;AAChB,QAAO;;AAEP;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,YAAY;AAC3B,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CAA0C;AAC1C,yCAAwC;AACxC,gEAA+D;AAC/D,kEAAiE;AACjE;AACA;AACA,eAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA,yCAAwC,qCAAqC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,qCAAqC;AAC/C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA,oCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,qCAAqC;AAC/C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,4BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,gCAA+B,mCAAmC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,QAAQ;AACvB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,eAAe;AAC9B;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,eAAe;AAC9B;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,qBAAqB;AACpC;AACA,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU,yCAAyC;AACtE;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,wBAAuB,UAAU,GAAG,UAAU,IAAI,UAAU;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA,yCAAwC,qCAAqC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,qCAAqC;AAC/C,WAAU,oCAAoC;AAC9C,WAAU;AACV;AACA;AACA;AACA,oCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,QAAQ;AACvB,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,iBAAgB,SAAS,GAAG,SAAS,GAAG,SAAS;AACjD,gBAAe,SAAS,GAAG,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,+BAA+B;AACzC,WAAU,+BAA+B;AACzC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,4DAA4D;AAC9F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,qCAAqC;AACpD;AACA,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU;AACV;AACA;AACA;AACA,wBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,8CAA8C;AACxD,WAAU;AACV;AACA;AACA;AACA,iCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,+CAA+C;AACzD,WAAU,gDAAgD;AAC1D,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,gCAA+B,2BAA2B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,8CAA8C;AACxD,WAAU;AACV;AACA;AACA,qCAAoC,4BAA4B;AAChE;AACA;AACA,qCAAoC,6BAA6B;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,mBAAkB,iBAAiB;AACnC;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,4BAA4B;AACtC,WAAU;AACV;AACA;AACA;AACA,eAAc,UAAU,4BAA4B,YAAY,8BAA8B;AAC9F;AACA;AACA;AACA,SAAQ;AACR,eAAc,OAAO,4BAA4B,QAAQ,8BAA8B;AACvF;AACA;AACA;AACA,SAAQ;AACR,eAAc,OAAO,4BAA4B,QAAQ,8BAA8B;AACvF;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,sBAAsB;AACrC;AACA,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,iBAAiB;AAC/B;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,gDAAgD;AAC1D,WAAU,+CAA+C;AACzD,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,4BAA4B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,cAAc,iBAAiB,EAAE;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,aAAa;AAC5B,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,kBAAiB,iBAAiB;AAClC;AACA;AACA,SAAQ,IAAI;AACZ,eAAc,iBAAiB;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,+CAA+C;AACzD,WAAU;AACV;AACA;AACA;AACA,iCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,mCAAmC;AAC7C,WAAU;AACV;AACA;AACA;AACA,uBAAsB,oCAAoC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,iBAAiB;AAC3B,WAAU,oBAAoB;AAC9B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB;AAChB,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,yDAAyD;AACxE;AACA,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,6BAA6B;AAC5C,gBAAe,UAAU;AACzB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,kEAAkE;AAC5E,WAAU;AACV;AACA;AACA,gCAA+B,6BAA6B;AAC5D;AACA;AACA,gCAA+B,mBAAmB;AAClD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,qBAAoB,iCAAiC;AACrD,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,qBAAqB;AACpC;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,OAAO;AACtB;AACA,gBAAe,QAAQ;AACvB;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,kCAAkC;AAChE;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,KAAK;AACpB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,YAAY;AAC3B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,YAAY;AAC3B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,qBAAoB;AACpB;AACA;AACA;AACA,eAAc;AACd;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,yBAAyB;AACxC;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,qBAAqB;AACpC;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,QAAQ;AACvB;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,oCAAmC,6DAA6D;AAChG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,wDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,kCAAiC,kBAAkB,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,8BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,sBAAqB;AACrB,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,sBAAqB;AACrB;AACA,2BAA0B,YAAY;AACtC;AACA;AACA,2BAA0B,YAAY;AACtC;AACA;AACA;AACA,sBAAqB;AACrB,sBAAqB;AACrB;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B,eAAc;AACd;AACA,kBAAiB,SAAS;AAC1B,eAAc;AACd;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,oBAAmB,mBAAmB,GAAG,iBAAiB;AAC1D;AACA;AACA;AACA,oBAAmB,YAAY,GAAG,YAAY;AAC9C;AACA;AACA;AACA,eAAc,WAAW,8BAA8B,GAAG,4BAA4B;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,kBAAiB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACvE,eAAc;AACd;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA,kBAAiB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACvE,eAAc;AACd;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,kBAAiB,OAAO;AACxB;AACA;AACA,oBAAmB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACzE,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,kBAAiB,OAAO;AACxB;AACA;AACA,wBAAuB,UAAU,mBAAmB,EAAE,GAAG,UAAU,4BAA4B,EAAE;AACjG,eAAc,UAAU,8BAA8B;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,sBAAqB,4BAA4B;AACjD,sBAAqB,6BAA6B;AAClD,sBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,0BAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,sBAAqB,4BAA4B;AACjD,sBAAqB,6BAA6B;AAClD,sBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,8BAA6B,4BAA4B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA,sBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,kBAAiB,QAAQ;AACzB;AACA;AACA,sBAAqB,OAAO,OAAO,SAAS,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB;AACrB;AACA;AACA,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,mBAAkB,iBAAiB;AACnC;AACA,SAAQ;AACR,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA,sBAAqB,+BAA+B;AACpD,sBAAqB;AACrB;AACA;AACA;AACA;AACA,eAAc,2BAA2B;AACzC;AACA;;AAEA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,8BAA8B;AAC7C;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB;AACrB;AACA;AACA,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA,iBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,8BAA8B;AAC7C;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB;AACrB;AACA;AACA,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA,sBAAqB,QAAQ,OAAO,+BAA+B,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,sBAAsB;AACvC,sBAAqB,UAAU;AAC/B;AACA;AACA,uEAAsE,2BAA2B,EAAE;AACnG,kBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,6DAA4D;AAC5D,kBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,2CAA0C,OAAO;AACjD,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,4CAA2C,YAAY;AACvD,2CAA0C,QAAQ;AAClD,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA,sDAAqD,2BAA2B,EAAE;AAClF,yCAAwC,aAAa,eAAe,EAAE;AACtE,kBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,yDAAwD,qCAAqC;AAC7F;AACA;AACA;AACA;AACA,2DAA0D,qBAAqB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAwC;;AAExC,6CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP,oBAAmB;;AAEnB;AACA;AACA;AACA;AACA,+BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA,6CAA4C;;AAE5C;AACA,wDAAuD;AACvD;AACA;AACA,8BAA6B,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C;AAC1C,gCAA+B,iCAAiC;AAChE,eAAc;AACd;AACA;AACA,uBAAsB;;AAEtB;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,cAAc;AAC7B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,cAAc;AAC7B,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;AACjC,cAAa,QAAQ,QAAQ,UAAU,SAAS,aAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,cAAc;AAC7B,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,gBAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,8CAA8C;AACxD,WAAU;AACV;AACA;AACA,mCAAkC,6BAA6B;AAC/D,gBAAe,6CAA6C;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,OAAO,OAAO,qBAAqB,EAAE,EAAE;AACjD,WAAU,OAAO,OAAO,qBAAqB,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,mBAAmB,GAAG,iBAAiB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA8B,qDAAqD;AACnF;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,OAAO,OAAO,SAAS,EAAE,EAAE;AACrC,WAAU,OAAO,OAAO,SAAS,EAAE;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,eAAc,iBAAiB;AAC/B;AACA;AACA;AACA,WAAU,SAAS;AACnB,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT,kCAAiC,sEAAsE;AACvG;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAmC,8DAA8D;AACjG;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,4DAA4D;AAClF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB,yCAAyC;AAC7D;AACA,MAAK;;AAEL,uEAAsE,uCAAuC;;AAE7G;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;AC/jYD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACTA,iF;;;;;;ACAA;AACA,iE;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,W;;AAEA,cAAa;;AAEb;;AAEA;;AAEA;AACA;AACA;;AAEA,QAAO;;AAEP;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA,QAAO;;AAEP;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;AACA,6CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA,iE;;AAEA;;AAEA,QAAO,0CAA0C;;AAEjD,0CAAyC,SAAS;AAClD;AACA;;AAEA,QAAO;;AAEP;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA,EAAC;;;AAGD;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,sBAAqB,OAAO;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA,UAAS;;AAET;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA,EAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAC;AACD;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,gCAA+B;AAC/B,QAAO;AACP;AACA;AACA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA,sBAAqB,iCAAiC;AACtD;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA,sBAAqB,iCAAiC;AACtD;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA,sBAAqB,iCAAiC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA,EAAC;AACD;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,SAAQ,OAAO;AACf;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC;AACD;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA,qEAAoE,iCAAiC;;AAErG;;AAEA;AACA;;;;AAIA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAC;AACD;AACA;AACA;AACA,yNAAwN,sLAAsL,iDAAiD,gBAAgB,uBAAuB,2BAA2B,qBAAqB,qBAAqB,GAAG,gBAAgB,yBAAyB,2BAA2B,gBAAgB,wBAAwB,yBAAyB,+BAA+B,GAAG,sBAAsB,0BAA0B,uBAAuB,2BAA2B,4BAA4B,gBAAgB,iBAAiB,uBAAuB,qBAAqB,kBAAkB,iBAAiB,GAAG;;;AAGt8B;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAC;AACD;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA,4C;AACA,YAAW;AACX;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA,EAAC;AACD;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA,EAAC;;;AAGD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,UAAS;;AAET;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAW;;AAEX;;AAEA,UAAS;;AAET;;AAEA;;AAEA,oDAAmD,EAAE;AACrD;;AAEA;AACA;AACA;AACA;;AAEA,YAAW;;AAEX;;AAEA,UAAS;;AAET;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAW;;AAEX;;AAEA,UAAS;;AAET;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAW;;AAEX;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;;AAGA,EAAC;AACD;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA,cAAa,QAAQ;AACrB,cAAa,YAAY;AACzB,cAAa,QAAQ;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;;AAGL;;AAEA;AACA;;AAEA,MAAK;;AAEL,sBAAqB;;AAErB;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;;AAEA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;;AAEA,UAAS;;AAET;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA,QAAO;;;AAGP;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA,4CAA2C,mBAAmB;AAC9D,4DAA2D,kBAAkB,EAAE;AAC/E,sDAAqD,mBAAmB;AACxE,uDAAsD,mBAAmB;AACzE;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA,sBAAqB,gCAAgC;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA,sBAAqB,YAAY;AACjC,qBAAoB,MAAM;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAgC;;AAEhC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,yCAAwC;;AAExC;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B,qBAAoB,MAAM;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;;AAEA,UAAS;;AAET;AACA,sBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,sBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW;;AAEX;;AAEA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,UAAS;;AAET;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,YAAW;;AAEX;AACA;AACA,YAAW;;AAEX;AACA;AACA;;;AAGA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;;AAEA;AACA,YAAW,wEAAwE;;AAEnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;;AAEf;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA,6BAA4B;AAC5B,QAAO;;AAEP;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,UAAS;;AAET;AACA;;AAEA,UAAS;;AAET;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,8BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,QAAO;;AAEP,MAAK;AACL;AACA;;AAEA;;;AAGA,0BAAyB,oCAAoC;AAC7D;AACA;;AAEA;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA,EAAC;AACD;AACA,OAAM,yaAAya,YAAY,uBAAuB,gBAAgB,iBAAiB,kBAAkB,kBAAkB,EAAE,YAAY,sBAAsB,aAAa,cAAc,eAAe,gBAAgB,iBAAiB,EAAE,wBAAwB,0FAA0F,EAAE,cAAc,8CAA8C,yCAAyC,2CAA2C,sCAAsC,EAAE,mCAAmC,yBAAyB,EAAE,mDAAmD,qBAAqB,sEAAsE,wCAAwC,EAAE,wCAAwC,8BAA8B,EAAE,sEAAsE,mBAAmB,EAAE,8BAA8B,qBAAqB,kDAAkD,2CAA2C,6CAA6C,wCAAwC,kBAAkB,2BAA2B,0BAA0B,qBAAqB,iEAAiE,2BAA2B,+BAA+B,EAAE,sCAAsC,iCAAiC,EAAE,WAAW,mBAAmB,yBAAyB,yBAAyB,EAAE,2BAA2B,yBAAyB,EAAE,oCAAoC,wBAAwB,EAAE,uBAAuB,wBAAwB,eAAe,sBAAsB,EAAE,YAAY,+CAA+C,0CAA0C,4CAA4C,uCAAuC,EAAE,yBAAyB,mBAAmB,mBAAmB,wBAAwB,uBAAuB,2BAA2B,EAAE,mBAAmB,iBAAiB,8CAA8C,EAAE,kBAAkB,sBAAsB,wBAAwB,EAAE,gFAAgF,gBAAgB,uBAAuB,gBAAgB,EAAE,aAAa,kBAAkB,wBAAwB,mBAAmB,EAAE,wBAAwB,sBAAsB,kBAAkB,kBAAkB,iBAAiB,uBAAuB,8BAA8B,EAAE,YAAY,kBAAkB,iBAAiB,EAAE,6BAA6B,gBAAgB,sBAAsB,mBAAmB,kBAAkB,mBAAmB,EAAE,sCAAsC,iBAAiB,sBAAsB,uBAAuB,EAAE,iBAAiB,kBAAkB,iBAAiB,wBAAwB,sBAAsB,mBAAmB,sBAAsB,EAAE,oBAAoB,mBAAmB,EAAE,iCAAiC,sBAAsB,EAAE,mBAAmB,sBAAsB,EAAE,2HAA2H,sBAAsB,EAAE,mBAAmB,oBAAoB,yBAAyB,wBAAwB,uBAAuB,kBAAkB,EAAE,mDAAmD,qBAAqB,EAAE,qBAAqB,iBAAiB,EAAE,+BAA+B,8BAA8B,yBAAyB,EAAE,kBAAkB,6BAA6B,mBAAmB,oBAAoB,sBAAsB,wBAAwB,EAAE,kEAAkE,kBAAkB,gBAAgB,mCAAmC,oBAAoB,cAAc,iBAAiB,uCAAuC,0BAA0B,mBAAmB,mBAAmB,iBAAiB,uBAAuB,kBAAkB,uBAAuB,EAAE,uBAAuB,kBAAkB,oBAAoB,sBAAsB,uBAAuB,2BAA2B,iBAAiB,qBAAqB,EAAE,4BAA4B,sBAAsB,EAAE,2BAA2B,kBAAkB,EAAE,2BAA2B,gBAAgB,2CAA2C,+BAA+B,2EAA2E,cAAc,wBAAwB,mCAAmC,mBAAmB,4BAA4B,EAAE,0CAA0C,kBAAkB,sBAAsB,EAAE,yCAAyC,2BAA2B,4BAA4B,EAAE,yBAAyB,0BAA0B,uCAAuC,EAAE,qBAAqB,wBAAwB,0BAA0B,gBAAgB,EAAE,8BAA8B,yBAAyB,qBAAqB,EAAE,+BAA+B,yBAAyB,wBAAwB,2BAA2B,uBAAuB,yBAAyB,iCAAiC,4BAA4B,oBAAoB,qCAAqC,qCAAqC,wBAAwB,EAAE,uCAAuC,iDAAiD,mfAAmf,sBAAsB,qBAAqB,EAAE,uCAAuC,oCAAoC,uCAAuC,EAAE,mBAAmB,uBAAuB,EAAE,kBAAkB,yBAAyB,2CAA2C,wGAAwG,sBAAsB,wDAAwD,EAAE,0BAA0B,2CAA2C,qFAAqF,EAAE,qBAAqB,qCAAqC,EAAE,sBAAsB,qCAAqC,EAAE,oBAAoB,qCAAqC,EAAE,uCAAuC,uBAAuB,EAAE,oBAAoB,qCAAqC,EAAE,uCAAuC,uBAAuB,EAAE,mDAAmD,uBAAuB,EAAE,6BAA6B,0BAA0B,oBAAoB,EAAE,qCAAqC,4BAA4B,EAAE,qCAAqC,4BAA4B,oBAAoB,EAAE,oBAAoB,0BAA0B,wBAAwB,EAAE,uBAAuB,0BAA0B,EAAE,0BAA0B,0BAA0B,EAAE,uCAAuC,4BAA4B,EAAE;AAC/2P;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,YAAW;;AAEX,+DAA8D,uCAAuC;;AAErG;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,8BAA6B;AAC7B;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,YAAW;;AAEX;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,yGAAwG;AACxG,MAAK;AACL;;AAEA;AACA;AACA,8JAA6J;AAC7J,2JAA0J;AAC1J,sJAAqJ;AACrJ,uJAAsJ;AACtJ,mJAAkJ;AAClJ;;;AAGA;;AAEA,EAAC;AACD;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,QAAO;;AAEP;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,QAAO;;AAEP;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;;AAEA,EAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA,EAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,EAAC;AACD;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;;AAEA;AACA;AACA;AACA,MAAK;;;AAGL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAC;AACD;AACA;AACA,mB","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap cfd40e1167b734015806\n **/","//pollfill\nrequire('famousArchives-polyfills/functionPrototypeBind');\nrequire('famousArchives-polyfills/classList');\nrequire('famousArchives-polyfills/requestAnimationFrame');\n\n//依赖的css\nrequire('famous/core/famous.css');\nrequire('content/app.css');\n\n//启动程序\nrequire('app').start();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/main.js\n ** module id = 1\n ** module chunks = 0\n **/","if (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n        if (typeof this !== \"function\") {\n            // closest thing possible to the ECMAScript 5 internal IsCallable function\n            throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\n        }\n\n        var aArgs = Array.prototype.slice.call(arguments, 1),\n        fToBind = this,\n        fNOP = function () {},\n        fBound = function () {\n            return fToBind.apply(this instanceof fNOP && oThis\n                ? this\n                : oThis,\n                aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n        fNOP.prototype = this.prototype;\n        fBound.prototype = new fNOP();\n\n        return fBound;\n    };\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famousArchives-polyfills/functionPrototypeBind.js\n ** module id = 2\n ** module chunks = 0\n **/","\n/*\n * classList.js: Cross-browser full element.classList implementation.\n * 2011-06-15\n *\n * By Eli Grey, http://eligrey.com\n * Public Domain.\n * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/\n\nif (typeof document !== \"undefined\" && !(\"classList\" in document.createElement(\"a\"))) {\n\n(function (view) {\n\n\"use strict\";\n\nvar\n      classListProp = \"classList\"\n    , protoProp = \"prototype\"\n    , elemCtrProto = (view.HTMLElement || view.Element)[protoProp]\n    , objCtr = Object\n    , strTrim = String[protoProp].trim || function () {\n        return this.replace(/^\\s+|\\s+$/g, \"\");\n    }\n    , arrIndexOf = Array[protoProp].indexOf || function (item) {\n        var\n              i = 0\n            , len = this.length\n        ;\n        for (; i < len; i++) {\n            if (i in this && this[i] === item) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    // Vendors: please allow content code to instantiate DOMExceptions\n    , DOMEx = function (type, message) {\n        this.name = type;\n        this.code = DOMException[type];\n        this.message = message;\n    }\n    , checkTokenAndGetIndex = function (classList, token) {\n        if (token === \"\") {\n            throw new DOMEx(\n                  \"SYNTAX_ERR\"\n                , \"An invalid or illegal string was specified\"\n            );\n        }\n        if (/\\s/.test(token)) {\n            throw new DOMEx(\n                  \"INVALID_CHARACTER_ERR\"\n                , \"String contains an invalid character\"\n            );\n        }\n        return arrIndexOf.call(classList, token);\n    }\n    , ClassList = function (elem) {\n        var\n              trimmedClasses = strTrim.call(elem.className)\n            , classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n            , i = 0\n            , len = classes.length\n        ;\n        for (; i < len; i++) {\n            this.push(classes[i]);\n        }\n        this._updateClassName = function () {\n            elem.className = this.toString();\n        };\n    }\n    , classListProto = ClassList[protoProp] = []\n    , classListGetter = function () {\n        return new ClassList(this);\n    }\n;\n// Most DOMException implementations don't allow calling DOMException's toString()\n// on non-DOMExceptions. Error's toString() is sufficient here.\nDOMEx[protoProp] = Error[protoProp];\nclassListProto.item = function (i) {\n    return this[i] || null;\n};\nclassListProto.contains = function (token) {\n    token += \"\";\n    return checkTokenAndGetIndex(this, token) !== -1;\n};\nclassListProto.add = function (token) {\n    token += \"\";\n    if (checkTokenAndGetIndex(this, token) === -1) {\n        this.push(token);\n        this._updateClassName();\n    }\n};\nclassListProto.remove = function (token) {\n    token += \"\";\n    var index = checkTokenAndGetIndex(this, token);\n    if (index !== -1) {\n        this.splice(index, 1);\n        this._updateClassName();\n    }\n};\nclassListProto.toggle = function (token) {\n    token += \"\";\n    if (checkTokenAndGetIndex(this, token) === -1) {\n        this.add(token);\n    } else {\n        this.remove(token);\n    }\n};\nclassListProto.toString = function () {\n    return this.join(\" \");\n};\n\nif (objCtr.defineProperty) {\n    var classListPropDesc = {\n          get: classListGetter\n        , enumerable: true\n        , configurable: true\n    };\n    try {\n        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n    } catch (ex) { // IE 8 doesn't support enumerable:true\n        if (ex.number === -0x7FF5EC54) {\n            classListPropDesc.enumerable = false;\n            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n        }\n    }\n} else if (objCtr[protoProp].__defineGetter__) {\n    elemCtrProto.__defineGetter__(classListProp, classListGetter);\n}\n\n}(self));\n\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famousArchives-polyfills/classList.js\n ** module id = 3\n ** module chunks = 0\n **/","// adds requestAnimationFrame functionality\n// Source: http://strd6.com/2011/05/better-window-requestanimationframe-shim/\n\nwindow.requestAnimationFrame || (window.requestAnimationFrame =\n  window.webkitRequestAnimationFrame ||\n  window.mozRequestAnimationFrame    ||\n  window.oRequestAnimationFrame      ||\n  window.msRequestAnimationFrame     ||\n  function(callback, element) {\n    return window.setTimeout(function() {\n      callback(+new Date());\n  }, 1000 / 60);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famousArchives-polyfills/requestAnimationFrame.js\n ** module id = 4\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../../node_modules/css-loader/index.js!./famous.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../../node_modules/css-loader/index.js!./famous.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../../node_modules/css-loader/index.js!./famous.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/famous.css\n ** module id = 5\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* This Source Code Form is subject to the terms of the Mozilla Public\\n * License, v. 2.0. If a copy of the MPL was not distributed with this\\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\\n *\\n * Owner: mark@famo.us\\n * @license MPL 2.0\\n * @copyright Famous Industries, Inc. 2015\\n */\\n\\n.famous-root {\\n    width: 100%;\\n    height: 100%;\\n    margin: 0px;\\n    padding: 0px;\\n    opacity: .999999; /* ios8 hotfix */\\n    overflow: hidden;\\n    -webkit-transform-style: preserve-3d;\\n    transform-style: preserve-3d;\\n}\\n\\n.famous-container, .famous-group {\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    bottom: 0px;\\n    right: 0px;\\n    overflow: visible;\\n    -webkit-transform-style: preserve-3d;\\n    transform-style: preserve-3d;\\n    -webkit-backface-visibility: visible;\\n    backface-visibility: visible;\\n    pointer-events: none;\\n}\\n\\n.famous-group {\\n    width: 0px;\\n    height: 0px;\\n    margin: 0px;\\n    padding: 0px;\\n}\\n\\n.famous-surface {\\n    position: absolute;\\n    -webkit-transform-origin: center center;\\n    transform-origin: center center;\\n    -webkit-backface-visibility: hidden;\\n    backface-visibility: hidden;\\n    -webkit-transform-style: preserve-3d;\\n    transform-style: preserve-3d;\\n    -webkit-box-sizing: border-box;\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    -webkit-tap-highlight-color: transparent;\\n    pointer-events: auto;\\n}\\n\\n.famous-container-group {\\n    position: relative;\\n    width: 100%;\\n    height: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./app/lib/famous/src/core/famous.css\n ** module id = 6\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 7\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0;\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction createStyleElement() {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = getHeadElement();\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement() {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tvar head = getHeadElement();\r\n\tlinkElement.rel = \"stylesheet\";\r\n\thead.appendChild(linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement();\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement();\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 8\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./app.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./app.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./app.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/content/app.css\n ** module id = 9\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body {\\n\\tbackground: #000000\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./app/src/content/app.css\n ** module id = 10\n ** module chunks = 0\n **/","/**\n * 上海地铁运行中车窗外视频广告模拟演示\n */\n\nvar Engine = require('famous/core/Engine');\nvar AdsWall = require('AdsWall');\nrequire('expose?dat.gui!dat-gui');\n\nconsole.log(dat);\n\nfunction start() {\n\tvar mainContext = Engine.createContext();\n\n\tvar adsWall = new AdsWall();\n\tmainContext.add(adsWall);\n\n\tvar data = adsWall.getMovingVars();\n\tvar gui = new dat.GUI();\n\tgui.add(data, 'speed');\n\tgui.add(data, 'spacing');\n\tgui.add(data, 'isMoving');\n};\n\nmodule.exports.start = start;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/app.js\n ** module id = 11\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n\n    /**\n     * The singleton object initiated upon process\n     *   startup which manages all active Context instances, runs\n     *   the render dispatch loop, and acts as a listener and dispatcher\n     *   for events.  All methods are therefore static.\n     *\n     *   On static initialization, window.requestAnimationFrame is called with\n     *     the event loop function.\n     *\n     *   Note: Any window in which Engine runs will prevent default\n     *     scrolling behavior on the 'touchmove' event.\n     *\n     * @static\n     * @class Engine\n     */\n    var Context = require('./Context');\n    var EventHandler = require('./EventHandler');\n    var OptionsManager = require('./OptionsManager');\n\n    var Engine = {};\n\n    var contexts = [];\n\n    var nextTickQueue = [];\n\n    var currentFrame = 0;\n    var nextTickFrame = 0;\n\n    var deferQueue = [];\n\n    var lastTime = Date.now();\n    var frameTime;\n    var frameTimeLimit;\n    var loopEnabled = true;\n    var eventForwarders = {};\n    var eventHandler = new EventHandler();\n\n    var options = {\n        containerType: 'div',\n        containerClass: 'famous-container',\n        fpsCap: undefined,\n        runLoop: true,\n        appMode: true\n    };\n    var optionsManager = new OptionsManager(options);\n\n    /** @const */\n    var MAX_DEFER_FRAME_TIME = 10;\n\n    /**\n     * Inside requestAnimationFrame loop, step() is called, which:\n     *   calculates current FPS (throttling loop if it is over limit set in setFPSCap),\n     *   emits dataless 'prerender' event on start of loop,\n     *   calls in order any one-shot functions registered by nextTick on last loop,\n     *   calls Context.update on all Context objects registered,\n     *   and emits dataless 'postrender' event on end of loop.\n     *\n     * @static\n     * @private\n     * @method step\n     */\n    Engine.step = function step() {\n        currentFrame++;\n        nextTickFrame = currentFrame;\n\n        var currentTime = Date.now();\n\n        // skip frame if we're over our framerate cap\n        if (frameTimeLimit && currentTime - lastTime < frameTimeLimit) return;\n\n        var i = 0;\n\n        frameTime = currentTime - lastTime;\n        lastTime = currentTime;\n\n        Engine.frameTime = frameTime;\n\n        eventHandler.emit('prerender');\n\n        // empty the queue\n        var numFunctions = nextTickQueue.length;\n        while (numFunctions--) (nextTickQueue.shift())(currentFrame);\n\n        // limit total execution time for deferrable functions\n        while (deferQueue.length && (Date.now() - currentTime) < MAX_DEFER_FRAME_TIME) {\n            deferQueue.shift().call(this);\n        }\n\n        for (i = 0; i < contexts.length; i++) contexts[i].update();\n\n        eventHandler.emit('postrender');\n    };\n\n    // engage requestAnimationFrame\n    function loop() {\n        if (options.runLoop) {\n            Engine.step();\n            window.requestAnimationFrame(loop);\n        }\n        else loopEnabled = false;\n    }\n    window.requestAnimationFrame(loop);\n\n    //\n    // Upon main document window resize (unless on an \"input\" HTML element):\n    //   scroll to the top left corner of the window,\n    //   and for each managed Context: emit the 'resize' event and update its size.\n    // @param {Object=} event document event\n    //\n    function handleResize(event) {\n        for (var i = 0; i < contexts.length; i++) {\n            contexts[i].emit('resize');\n        }\n        eventHandler.emit('resize');\n    }\n    window.addEventListener('resize', handleResize, false);\n    handleResize();\n\n    /**\n     * Initialize famous for app mode\n     *\n     * @static\n     * @private\n     * @method initialize\n     */\n    function initialize() {\n        // prevent scrolling via browser\n        window.addEventListener('touchmove', function(event) {\n            event.preventDefault();\n        }, true);\n\n        addRootClasses();\n    }\n    var initialized = false;\n\n    function addRootClasses() {\n        if (!document.body) {\n            Engine.nextTick(addRootClasses);\n            return;\n        }\n\n        document.body.classList.add('famous-root');\n        document.documentElement.classList.add('famous-root');\n    }\n\n    /**\n     * Add event handler object to set of downstream handlers.\n     *\n     * @method pipe\n     *\n     * @param {EventHandler} target event handler target object\n     * @return {EventHandler} passed event handler\n     */\n    Engine.pipe = function pipe(target) {\n        if (target.subscribe instanceof Function) return target.subscribe(Engine);\n        else return eventHandler.pipe(target);\n    };\n\n    /**\n     * Remove handler object from set of downstream handlers.\n     *   Undoes work of \"pipe\".\n     *\n     * @method unpipe\n     *\n     * @param {EventHandler} target target handler object\n     * @return {EventHandler} provided target\n     */\n    Engine.unpipe = function unpipe(target) {\n        if (target.unsubscribe instanceof Function) return target.unsubscribe(Engine);\n        else return eventHandler.unpipe(target);\n    };\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @static\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} handler callback\n     * @return {EventHandler} this\n     */\n    Engine.on = function on(type, handler) {\n        if (!(type in eventForwarders)) {\n            eventForwarders[type] = eventHandler.emit.bind(eventHandler, type);\n\n            addEngineListener(type, eventForwarders[type]);\n        }\n        return eventHandler.on(type, handler);\n    };\n\n    function addEngineListener(type, forwarder) {\n        if (!document.body) {\n            Engine.nextTick(addEventListener.bind(this, type, forwarder));\n            return;\n        }\n\n        document.body.addEventListener(type, forwarder);\n    }\n\n    /**\n     * Trigger an event, sending to all downstream handlers\n     *   listening for provided 'type' key.\n     *\n     * @method emit\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {Object} event event data\n     * @return {EventHandler} this\n     */\n    Engine.emit = function emit(type, event) {\n        return eventHandler.emit(type, event);\n    };\n\n    /**\n     * Unbind an event by type and handler.\n     *   This undoes the work of \"on\".\n     *\n     * @static\n     * @method removeListener\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function} handler function object to remove\n     * @return {EventHandler} internal event handler object (for chaining)\n     */\n    Engine.removeListener = function removeListener(type, handler) {\n        return eventHandler.removeListener(type, handler);\n    };\n\n    /**\n     * Return the current calculated frames per second of the Engine.\n     *\n     * @static\n     * @method getFPS\n     *\n     * @return {Number} calculated fps\n     */\n    Engine.getFPS = function getFPS() {\n        return 1000 / frameTime;\n    };\n\n    /**\n     * Set the maximum fps at which the system should run. If internal render\n     *    loop is called at a greater frequency than this FPSCap, Engine will\n     *    throttle render and update until this rate is achieved.\n     *\n     * @static\n     * @method setFPSCap\n     *\n     * @param {Number} fps maximum frames per second\n     */\n    Engine.setFPSCap = function setFPSCap(fps) {\n        frameTimeLimit = Math.floor(1000 / fps);\n    };\n\n    /**\n     * Return engine options.\n     *\n     * @static\n     * @method getOptions\n     * @param {string} key\n     * @return {Object} engine options\n     */\n    Engine.getOptions = function getOptions(key) {\n        return optionsManager.getOptions(key);\n    };\n\n    /**\n     * Set engine options\n     *\n     * @static\n     * @method setOptions\n     *\n     * @param {Object} [options] overrides of default options\n     * @param {Number} [options.fpsCap]  maximum fps at which the system should run\n     * @param {boolean} [options.runLoop=true] whether the run loop should continue\n     * @param {string} [options.containerType=\"div\"] type of container element.  Defaults to 'div'.\n     * @param {string} [options.containerClass=\"famous-container\"] type of container element.  Defaults to 'famous-container'.\n     */\n    Engine.setOptions = function setOptions(options) {\n        return optionsManager.setOptions.apply(optionsManager, arguments);\n    };\n\n    /**\n     * Creates a new Context for rendering and event handling with\n     *    provided document element as top of each tree. This will be tracked by the\n     *    process-wide Engine.\n     *\n     * @static\n     * @method createContext\n     *\n     * @param {Node} el will be top of Famo.us document element tree\n     * @return {Context} new Context within el\n     */\n    Engine.createContext = function createContext(el) {\n        if (!initialized && options.appMode) Engine.nextTick(initialize);\n\n        var needMountContainer = false;\n        if (!el) {\n            el = document.createElement(options.containerType);\n            el.classList.add(options.containerClass);\n            needMountContainer = true;\n        }\n\n        var context = new Context(el);\n        Engine.registerContext(context);\n\n        if (needMountContainer) mount(context, el);\n\n        return context;\n    };\n\n    function mount(context, el) {\n        if (!document.body) {\n            Engine.nextTick(mount.bind(this, context, el));\n            return;\n        }\n\n        document.body.appendChild(el);\n        context.emit('resize');\n    }\n\n    /**\n     * Registers an existing context to be updated within the run loop.\n     *\n     * @static\n     * @method registerContext\n     *\n     * @param {Context} context Context to register\n     * @return {FamousContext} provided context\n     */\n    Engine.registerContext = function registerContext(context) {\n        contexts.push(context);\n        return context;\n    };\n\n    /**\n     * Returns a list of all contexts.\n     *\n     * @static\n     * @method getContexts\n     * @return {Array} contexts that are updated on each tick\n     */\n    Engine.getContexts = function getContexts() {\n        return contexts;\n    };\n\n    /**\n     * Removes a context from the run loop. Note: this does not do any\n     *     cleanup.\n     *\n     * @static\n     * @method deregisterContext\n     *\n     * @param {Context} context Context to deregister\n     */\n    Engine.deregisterContext = function deregisterContext(context) {\n        var i = contexts.indexOf(context);\n        if (i >= 0) contexts.splice(i, 1);\n    };\n\n    /**\n     * Queue a function to be executed on the next tick of the\n     *    Engine.\n     *\n     * @static\n     * @method nextTick\n     *\n     * @param {function(Object)} fn function accepting window object\n     */\n    Engine.nextTick = function nextTick(fn) {\n        nextTickQueue.push(fn);\n    };\n\n    /**\n     * Queue a function to be executed sometime soon, at a time that is\n     *    unlikely to affect frame rate.\n     *\n     * @static\n     * @method defer\n     *\n     * @param {Function} fn\n     */\n    Engine.defer = function defer(fn) {\n        deferQueue.push(fn);\n    };\n\n    optionsManager.on('change', function(data) {\n        if (data.id === 'fpsCap') Engine.setFPSCap(data.value);\n        else if (data.id === 'runLoop') {\n            // kick off the loop only if it was stopped\n            if (!loopEnabled && data.value) {\n                loopEnabled = true;\n                window.requestAnimationFrame(loop);\n            }\n        }\n    });\n\n    module.exports = Engine;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Engine.js\n ** module id = 12\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var RenderNode = require('./RenderNode');\n    var EventHandler = require('./EventHandler');\n    var ElementAllocator = require('./ElementAllocator');\n    var Transform = require('./Transform');\n    var Transitionable = require('../transitions/Transitionable');\n\n    var _zeroZero = [0, 0];\n    var usePrefix = !('perspective' in document.documentElement.style);\n\n    function _getElementSize() {\n        var element = this.container;\n        return [element.clientWidth, element.clientHeight];\n    }\n\n    var _setPerspective = usePrefix ? function(element, perspective) {\n        element.style.webkitPerspective = perspective ? perspective.toFixed() + 'px' : '';\n    } : function(element, perspective) {\n        element.style.perspective = perspective ? perspective.toFixed() + 'px' : '';\n    };\n\n    /**\n     * The top-level container for a Famous-renderable piece of the document.\n     *   It is directly updated by the process-wide Engine object, and manages one\n     *   render tree root, which can contain other renderables.\n     *\n     * @class Context\n     * @constructor\n     * @private\n     * @param {Node} container Element in which content will be inserted\n     */\n    function Context(container) {\n        this.container = container;\n        this._allocator = new ElementAllocator(container);\n\n        this._node = new RenderNode();\n        this._eventOutput = new EventHandler();\n        this._size = _getElementSize.call(this);\n\n        this._perspectiveState = new Transitionable(0);\n        this._perspective = undefined;\n\n        this._nodeContext = {\n            allocator: this._allocator,\n            transform: Transform.identity,\n            opacity: 1,\n            origin: _zeroZero,\n            align: _zeroZero,\n            size: this._size\n        };\n\n        this._eventOutput.on('resize', function() {\n            this.setSize(_getElementSize.call(this));\n        }.bind(this));\n\n    }\n\n    // Note: Unused\n    Context.prototype.getAllocator = function getAllocator() {\n        return this._allocator;\n    };\n\n    /**\n     * Add renderables to this Context's render tree.\n     *\n     * @method add\n     *\n     * @param {Object} obj renderable object\n     * @return {RenderNode} RenderNode wrapping this object, if not already a RenderNode\n     */\n    Context.prototype.add = function add(obj) {\n        return this._node.add(obj);\n    };\n\n    /**\n     * Move this Context to another containing document element.\n     *\n     * @method migrate\n     *\n     * @param {Node} container Element to which content will be migrated\n     */\n    Context.prototype.migrate = function migrate(container) {\n        if (container === this.container) return;\n        this.container = container;\n        this._allocator.migrate(container);\n    };\n\n    /**\n     * Gets viewport size for Context.\n     *\n     * @method getSize\n     *\n     * @return {Array.Number} viewport size as [width, height]\n     */\n    Context.prototype.getSize = function getSize() {\n        return this._size;\n    };\n\n    /**\n     * Sets viewport size for Context.\n     *\n     * @method setSize\n     *\n     * @param {Array.Number} size [width, height].  If unspecified, use size of root document element.\n     */\n    Context.prototype.setSize = function setSize(size) {\n        if (!size) size = _getElementSize.call(this);\n        this._size[0] = size[0];\n        this._size[1] = size[1];\n    };\n\n    /**\n     * Commit this Context's content changes to the document.\n     *\n     * @private\n     * @method update\n     * @param {Object} contextParameters engine commit specification\n     */\n    Context.prototype.update = function update(contextParameters) {\n        if (contextParameters) {\n            if (contextParameters.transform) this._nodeContext.transform = contextParameters.transform;\n            if (contextParameters.opacity) this._nodeContext.opacity = contextParameters.opacity;\n            if (contextParameters.origin) this._nodeContext.origin = contextParameters.origin;\n            if (contextParameters.align) this._nodeContext.align = contextParameters.align;\n            if (contextParameters.size) this._nodeContext.size = contextParameters.size;\n        }\n        var perspective = this._perspectiveState.get();\n        if (perspective !== this._perspective) {\n            _setPerspective(this.container, perspective);\n            this._perspective = perspective;\n        }\n\n        this._node.commit(this._nodeContext);\n    };\n\n    /**\n     * Get current perspective of this context in pixels.\n     *\n     * @method getPerspective\n     * @return {Number} depth perspective in pixels\n     */\n    Context.prototype.getPerspective = function getPerspective() {\n        return this._perspectiveState.get();\n    };\n\n    /**\n     * Set current perspective of this context in pixels.\n     *\n     * @method setPerspective\n     * @param {Number} perspective in pixels\n     * @param {Object} [transition] Transitionable object for applying the change\n     * @param {function(Object)} callback function called on completion of transition\n     */\n    Context.prototype.setPerspective = function setPerspective(perspective, transition, callback) {\n        return this._perspectiveState.set(perspective, transition, callback);\n    };\n\n    /**\n     * Trigger an event, sending to all downstream handlers\n     *   listening for provided 'type' key.\n     *\n     * @method emit\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {Object} event event data\n     * @return {EventHandler} this\n     */\n    Context.prototype.emit = function emit(type, event) {\n        return this._eventOutput.emit(type, event);\n    };\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} handler callback\n     * @return {EventHandler} this\n     */\n    Context.prototype.on = function on(type, handler) {\n        return this._eventOutput.on(type, handler);\n    };\n\n    /**\n     * Unbind an event by type and handler.\n     *   This undoes the work of \"on\".\n     *\n     * @method removeListener\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function} handler function object to remove\n     * @return {EventHandler} internal event handler object (for chaining)\n     */\n    Context.prototype.removeListener = function removeListener(type, handler) {\n        return this._eventOutput.removeListener(type, handler);\n    };\n\n    /**\n     * Add event handler object to set of downstream handlers.\n     *\n     * @method pipe\n     *\n     * @param {EventHandler} target event handler target object\n     * @return {EventHandler} passed event handler\n     */\n    Context.prototype.pipe = function pipe(target) {\n        return this._eventOutput.pipe(target);\n    };\n\n    /**\n     * Remove handler object from set of downstream handlers.\n     *   Undoes work of \"pipe\".\n     *\n     * @method unpipe\n     *\n     * @param {EventHandler} target target handler object\n     * @return {EventHandler} provided target\n     */\n    Context.prototype.unpipe = function unpipe(target) {\n        return this._eventOutput.unpipe(target);\n    };\n\n    module.exports = Context;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Context.js\n ** module id = 13\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Entity = require('./Entity');\n    var SpecParser = require('./SpecParser');\n\n    /**\n     * A wrapper for inserting a renderable component (like a Modifer or\n     *   Surface) into the render tree.\n     *\n     * @class RenderNode\n     * @constructor\n     *\n     * @param {Object} object Target renderable component\n     */\n    function RenderNode(object) {\n        this._object = null;\n        this._child = null;\n        this._hasMultipleChildren = false;\n        this._isRenderable = false;\n        this._isModifier = false;\n\n        this._resultCache = {};\n        this._prevResults = {};\n\n        this._childResult = null;\n\n        if (object) this.set(object);\n    }\n\n    /**\n     * Append a renderable to the list of this node's children.\n     *   This produces a new RenderNode in the tree.\n     *   Note: Does not double-wrap if child is a RenderNode already.\n     *\n     * @method add\n     * @param {Object} child renderable object\n     * @return {RenderNode} new render node wrapping child\n     */\n    RenderNode.prototype.add = function add(child) {\n        var childNode = (child instanceof RenderNode) ? child : new RenderNode(child);\n        if (this._child instanceof Array) this._child.push(childNode);\n        else if (this._child) {\n            this._child = [this._child, childNode];\n            this._hasMultipleChildren = true;\n            this._childResult = []; // to be used later\n        }\n        else this._child = childNode;\n\n        return childNode;\n    };\n\n    /**\n     * Return the single wrapped object.  Returns null if this node has multiple child nodes.\n     *\n     * @method get\n     *\n     * @return {Ojbect} contained renderable object\n     */\n    RenderNode.prototype.get = function get() {\n        return this._object || (this._hasMultipleChildren ? null : (this._child ? this._child.get() : null));\n    };\n\n    /**\n     * Overwrite the list of children to contain the single provided object\n     *\n     * @method set\n     * @param {Object} child renderable object\n     * @return {RenderNode} this render node, or child if it is a RenderNode\n     */\n    RenderNode.prototype.set = function set(child) {\n        this._childResult = null;\n        this._hasMultipleChildren = false;\n        this._isRenderable = child.render ? true : false;\n        this._isModifier = child.modify ? true : false;\n        this._object = child;\n        this._child = null;\n        if (child instanceof RenderNode) return child;\n        else return this;\n    };\n\n    /**\n     * Get render size of contained object.\n     *\n     * @method getSize\n     * @return {Array.Number} size of this or size of single child.\n     */\n    RenderNode.prototype.getSize = function getSize() {\n        var result = null;\n        var target = this.get();\n        if (target && target.getSize) result = target.getSize();\n        if (!result && this._child && this._child.getSize) result = this._child.getSize();\n        return result;\n    };\n\n    // apply results of rendering this subtree to the document\n    function _applyCommit(spec, context, cacheStorage) {\n        var result = SpecParser.parse(spec, context);\n        var keys = Object.keys(result);\n        for (var i = 0; i < keys.length; i++) {\n            var id = keys[i];\n            var childNode = Entity.get(id);\n            var commitParams = result[id];\n            commitParams.allocator = context.allocator;\n            var commitResult = childNode.commit(commitParams);\n            if (commitResult) _applyCommit(commitResult, context, cacheStorage);\n            else cacheStorage[id] = commitParams;\n        }\n    }\n\n    /**\n     * Commit the content change from this node to the document.\n     *\n     * @private\n     * @method commit\n     * @param {Context} context render context\n     */\n    RenderNode.prototype.commit = function commit(context) {\n        // free up some divs from the last loop\n        var prevKeys = Object.keys(this._prevResults);\n        for (var i = 0; i < prevKeys.length; i++) {\n            var id = prevKeys[i];\n            if (this._resultCache[id] === undefined) {\n                var object = Entity.get(id);\n                if (object.cleanup) object.cleanup(context.allocator);\n            }\n        }\n\n        this._prevResults = this._resultCache;\n        this._resultCache = {};\n        _applyCommit(this.render(), context, this._resultCache);\n    };\n\n    /**\n     * Generate a render spec from the contents of the wrapped component.\n     *\n     * @private\n     * @method render\n     *\n     * @return {Object} render specification for the component subtree\n     *    only under this node.\n     */\n    RenderNode.prototype.render = function render() {\n        if (this._isRenderable) return this._object.render();\n\n        var result = null;\n        if (this._hasMultipleChildren) {\n            result = this._childResult;\n            var children = this._child;\n            for (var i = 0; i < children.length; i++) {\n                result[i] = children[i].render();\n            }\n        }\n        else if (this._child) result = this._child.render();\n\n        return this._isModifier ? this._object.modify(result) : result;\n    };\n\n    module.exports = RenderNode;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/RenderNode.js\n ** module id = 14\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    /**\n     * A singleton that maintains a global registry of Surfaces.\n     *   Private.\n     *\n     * @private\n     * @static\n     * @class Entity\n     */\n\n    var entities = [];\n\n    /**\n     * Get entity from global index.\n     *\n     * @private\n     * @method get\n     * @param {Number} id entity registration id\n     * @return {Surface} entity in the global index\n     */\n    function get(id) {\n        return entities[id];\n    }\n\n    /**\n     * Overwrite entity in the global index\n     *\n     * @private\n     * @method set\n     * @param {Number} id entity registration id\n     * @param {Surface} entity to add to the global index\n     */\n    function set(id, entity) {\n        entities[id] = entity;\n    }\n\n    /**\n     * Add entity to global index\n     *\n     * @private\n     * @method register\n     * @param {Surface} entity to add to global index\n     * @return {Number} new id\n     */\n    function register(entity) {\n        var id = entities.length;\n        set(id, entity);\n        return id;\n    }\n\n    /**\n     * Remove entity from global index\n     *\n     * @private\n     * @method unregister\n     * @param {Number} id entity registration id\n     */\n    function unregister(id) {\n        set(id, null);\n    }\n\n    module.exports = {\n        register: register,\n        unregister: unregister,\n        get: get,\n        set: set\n    };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Entity.js\n ** module id = 15\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Transform = require('./Transform');\n\n    /**\n     *\n     * This object translates the rendering instructions (\"render specs\")\n     *   that renderable components generate into document update\n     *   instructions (\"update specs\").  Private.\n     *\n     * @private\n     * @class SpecParser\n     * @constructor\n     */\n    function SpecParser() {\n        this.result = {};\n    }\n    SpecParser._instance = new SpecParser();\n\n    /**\n     * Convert a render spec coming from the context's render chain to an\n     *    update spec for the update chain. This is the only major entry point\n     *    for a consumer of this class.\n     *\n     * @method parse\n     * @static\n     * @private\n     *\n     * @param {renderSpec} spec input render spec\n     * @param {Object} context context to do the parse in\n     * @return {Object} the resulting update spec (if no callback\n     *   specified, else none)\n     */\n    SpecParser.parse = function parse(spec, context) {\n        return SpecParser._instance.parse(spec, context);\n    };\n\n    /**\n     * Convert a renderSpec coming from the context's render chain to an update\n     *    spec for the update chain. This is the only major entrypoint for a\n     *    consumer of this class.\n     *\n     * @method parse\n     *\n     * @private\n     * @param {renderSpec} spec input render spec\n     * @param {Context} context\n     * @return {updateSpec} the resulting update spec\n     */\n    SpecParser.prototype.parse = function parse(spec, context) {\n        this.reset();\n        this._parseSpec(spec, context, Transform.identity);\n        return this.result;\n    };\n\n    /**\n     * Prepare SpecParser for re-use (or first use) by setting internal state\n     *  to blank.\n     *\n     * @private\n     * @method reset\n     */\n    SpecParser.prototype.reset = function reset() {\n        this.result = {};\n    };\n\n    // Multiply matrix M by vector v\n    function _vecInContext(v, m) {\n        return [\n            v[0] * m[0] + v[1] * m[4] + v[2] * m[8],\n            v[0] * m[1] + v[1] * m[5] + v[2] * m[9],\n            v[0] * m[2] + v[1] * m[6] + v[2] * m[10]\n        ];\n    }\n\n    var _zeroZero = [0, 0];\n\n    // From the provided renderSpec tree, recursively compose opacities,\n    //    origins, transforms, and sizes corresponding to each surface id from\n    //    the provided renderSpec tree structure. On completion, those\n    //    properties of 'this' object should be ready to use to build an\n    //    updateSpec.\n    SpecParser.prototype._parseSpec = function _parseSpec(spec, parentContext, sizeContext) {\n        var id;\n        var target;\n        var transform;\n        var opacity;\n        var origin;\n        var align;\n        var size;\n\n        if (typeof spec === 'number') {\n            id = spec;\n            transform = parentContext.transform;\n            align = parentContext.align || _zeroZero;\n            if (parentContext.size && align && (align[0] || align[1])) {\n                var alignAdjust = [align[0] * parentContext.size[0], align[1] * parentContext.size[1], 0];\n                transform = Transform.thenMove(transform, _vecInContext(alignAdjust, sizeContext));\n            }\n            this.result[id] = {\n                transform: transform,\n                opacity: parentContext.opacity,\n                origin: parentContext.origin || _zeroZero,\n                align: parentContext.align || _zeroZero,\n                size: parentContext.size\n            };\n        }\n        else if (!spec) { // placed here so 0 will be cached earlier\n            return;\n        }\n        else if (spec instanceof Array) {\n            for (var i = 0; i < spec.length; i++) {\n                this._parseSpec(spec[i], parentContext, sizeContext);\n            }\n        }\n        else {\n            target = spec.target;\n            transform = parentContext.transform;\n            opacity = parentContext.opacity;\n            origin = parentContext.origin;\n            align = parentContext.align;\n            size = parentContext.size;\n            var nextSizeContext = sizeContext;\n\n            if (spec.opacity !== undefined) opacity = parentContext.opacity * spec.opacity;\n            if (spec.transform) transform = Transform.multiply(parentContext.transform, spec.transform);\n            if (spec.origin) {\n                origin = spec.origin;\n                nextSizeContext = parentContext.transform;\n            }\n            if (spec.align) align = spec.align;\n\n            if (spec.size || spec.proportions) {\n                var parentSize = size;\n                size = [size[0], size[1]];\n\n                if (spec.size) {\n                    if (spec.size[0] !== undefined) size[0] = spec.size[0];\n                    if (spec.size[1] !== undefined) size[1] = spec.size[1];\n                }\n\n                if (spec.proportions) {\n                    if (spec.proportions[0] !== undefined) size[0] = size[0] * spec.proportions[0];\n                    if (spec.proportions[1] !== undefined) size[1] = size[1] * spec.proportions[1];\n                }\n\n                if (parentSize) {\n                    if (align && (align[0] || align[1])) transform = Transform.thenMove(transform, _vecInContext([align[0] * parentSize[0], align[1] * parentSize[1], 0], sizeContext));\n                    if (origin && (origin[0] || origin[1])) transform = Transform.moveThen([-origin[0] * size[0], -origin[1] * size[1], 0], transform);\n                }\n\n                nextSizeContext = parentContext.transform;\n                origin = null;\n                align = null;\n            }\n\n            this._parseSpec(target, {\n                transform: transform,\n                opacity: opacity,\n                origin: origin,\n                align: align,\n                size: size\n            }, nextSizeContext);\n        }\n    };\n\n    module.exports = SpecParser;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/SpecParser.js\n ** module id = 16\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n\n    /**\n     *  A high-performance static matrix math library used to calculate\n     *    affine transforms on surfaces and other renderables.\n     *    Famo.us uses 4x4 matrices corresponding directly to\n     *    WebKit matrices (column-major order).\n     *\n     *    The internal \"type\" of a Matrix is a 16-long float array in\n     *    row-major order, with:\n     *    elements [0],[1],[2],[4],[5],[6],[8],[9],[10] forming the 3x3\n     *          transformation matrix;\n     *    elements [12], [13], [14] corresponding to the t_x, t_y, t_z\n     *           translation;\n     *    elements [3], [7], [11] set to 0;\n     *    element [15] set to 1.\n     *    All methods are static.\n     *\n     * @static\n     *\n     * @class Transform\n     */\n    var Transform = {};\n\n    // WARNING: these matrices correspond to WebKit matrices, which are\n    //    transposed from their math counterparts\n    Transform.precision = 1e-6;\n    Transform.identity = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\n    /**\n     * Multiply two or more Transform matrix types to return a Transform matrix.\n     *\n     * @method multiply4x4\n     * @static\n     * @param {Transform} a left Transform\n     * @param {Transform} b right Transform\n     * @return {Transform}\n     */\n    Transform.multiply4x4 = function multiply4x4(a, b) {\n        return [\n            a[0] * b[0] + a[4] * b[1] + a[8] * b[2] + a[12] * b[3],\n            a[1] * b[0] + a[5] * b[1] + a[9] * b[2] + a[13] * b[3],\n            a[2] * b[0] + a[6] * b[1] + a[10] * b[2] + a[14] * b[3],\n            a[3] * b[0] + a[7] * b[1] + a[11] * b[2] + a[15] * b[3],\n            a[0] * b[4] + a[4] * b[5] + a[8] * b[6] + a[12] * b[7],\n            a[1] * b[4] + a[5] * b[5] + a[9] * b[6] + a[13] * b[7],\n            a[2] * b[4] + a[6] * b[5] + a[10] * b[6] + a[14] * b[7],\n            a[3] * b[4] + a[7] * b[5] + a[11] * b[6] + a[15] * b[7],\n            a[0] * b[8] + a[4] * b[9] + a[8] * b[10] + a[12] * b[11],\n            a[1] * b[8] + a[5] * b[9] + a[9] * b[10] + a[13] * b[11],\n            a[2] * b[8] + a[6] * b[9] + a[10] * b[10] + a[14] * b[11],\n            a[3] * b[8] + a[7] * b[9] + a[11] * b[10] + a[15] * b[11],\n            a[0] * b[12] + a[4] * b[13] + a[8] * b[14] + a[12] * b[15],\n            a[1] * b[12] + a[5] * b[13] + a[9] * b[14] + a[13] * b[15],\n            a[2] * b[12] + a[6] * b[13] + a[10] * b[14] + a[14] * b[15],\n            a[3] * b[12] + a[7] * b[13] + a[11] * b[14] + a[15] * b[15]\n        ];\n    };\n\n    /**\n     * Fast-multiply two Transform matrix types to return a\n     *    Matrix, assuming bottom row on each is [0 0 0 1].\n     *\n     * @method multiply\n     * @static\n     * @param {Transform} a left Transform\n     * @param {Transform} b right Transform\n     * @return {Transform}\n     */\n    Transform.multiply = function multiply(a, b) {\n        return [\n            a[0] * b[0] + a[4] * b[1] + a[8] * b[2],\n            a[1] * b[0] + a[5] * b[1] + a[9] * b[2],\n            a[2] * b[0] + a[6] * b[1] + a[10] * b[2],\n            0,\n            a[0] * b[4] + a[4] * b[5] + a[8] * b[6],\n            a[1] * b[4] + a[5] * b[5] + a[9] * b[6],\n            a[2] * b[4] + a[6] * b[5] + a[10] * b[6],\n            0,\n            a[0] * b[8] + a[4] * b[9] + a[8] * b[10],\n            a[1] * b[8] + a[5] * b[9] + a[9] * b[10],\n            a[2] * b[8] + a[6] * b[9] + a[10] * b[10],\n            0,\n            a[0] * b[12] + a[4] * b[13] + a[8] * b[14] + a[12],\n            a[1] * b[12] + a[5] * b[13] + a[9] * b[14] + a[13],\n            a[2] * b[12] + a[6] * b[13] + a[10] * b[14] + a[14],\n            1\n        ];\n    };\n\n    /**\n     * Return a Transform translated by additional amounts in each\n     *    dimension. This is equivalent to the result of\n     *\n     *    Transform.multiply(Matrix.translate(t[0], t[1], t[2]), m).\n     *\n     * @method thenMove\n     * @static\n     * @param {Transform} m a Transform\n     * @param {Array.Number} t floats delta vector of length 2 or 3\n     * @return {Transform}\n     */\n    Transform.thenMove = function thenMove(m, t) {\n        if (!t[2]) t[2] = 0;\n        return [m[0], m[1], m[2], 0, m[4], m[5], m[6], 0, m[8], m[9], m[10], 0, m[12] + t[0], m[13] + t[1], m[14] + t[2], 1];\n    };\n\n    /**\n     * Return a Transform matrix which represents the result of a transform matrix\n     *    applied after a move. This is faster than the equivalent multiply.\n     *    This is equivalent to the result of:\n     *\n     *    Transform.multiply(m, Transform.translate(t[0], t[1], t[2])).\n     *\n     * @method moveThen\n     * @static\n     * @param {Array.Number} v vector representing initial movement\n     * @param {Transform} m matrix to apply afterwards\n     * @return {Transform} the resulting matrix\n     */\n    Transform.moveThen = function moveThen(v, m) {\n        if (!v[2]) v[2] = 0;\n        var t0 = v[0] * m[0] + v[1] * m[4] + v[2] * m[8];\n        var t1 = v[0] * m[1] + v[1] * m[5] + v[2] * m[9];\n        var t2 = v[0] * m[2] + v[1] * m[6] + v[2] * m[10];\n        return Transform.thenMove(m, [t0, t1, t2]);\n    };\n\n    /**\n     * Return a Transform which represents a translation by specified\n     *    amounts in each dimension.\n     *\n     * @method translate\n     * @static\n     * @param {Number} x x translation\n     * @param {Number} y y translation\n     * @param {Number} z z translation\n     * @return {Transform}\n     */\n    Transform.translate = function translate(x, y, z) {\n        if (z === undefined) z = 0;\n        return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1];\n    };\n\n    /**\n     * Return a Transform scaled by a vector in each\n     *    dimension. This is a more performant equivalent to the result of\n     *\n     *    Transform.multiply(Transform.scale(s[0], s[1], s[2]), m).\n     *\n     * @method thenScale\n     * @static\n     * @param {Transform} m a matrix\n     * @param {Array.Number} s delta vector (array of floats &&\n     *    array.length == 3)\n     * @return {Transform}\n     */\n    Transform.thenScale = function thenScale(m, s) {\n        return [\n            s[0] * m[0], s[1] * m[1], s[2] * m[2], 0,\n            s[0] * m[4], s[1] * m[5], s[2] * m[6], 0,\n            s[0] * m[8], s[1] * m[9], s[2] * m[10], 0,\n            s[0] * m[12], s[1] * m[13], s[2] * m[14], 1\n        ];\n    };\n\n    /**\n     * Return a Transform which represents a scale by specified amounts\n     *    in each dimension.\n     *\n     * @method scale\n     * @static\n     * @param {Number} x x scale factor\n     * @param {Number} y y scale factor\n     * @param {Number} z z scale factor\n     * @return {Transform}\n     */\n    Transform.scale = function scale(x, y, z) {\n        if (z === undefined) z = 1;\n        if (y === undefined) y = x;\n        return [x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform which represents a clockwise\n     *    rotation around the x axis.\n     *\n     * @method rotateX\n     * @static\n     * @param {Number} theta radians\n     * @return {Transform}\n     */\n    Transform.rotateX = function rotateX(theta) {\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n        return [1, 0, 0, 0, 0, cosTheta, sinTheta, 0, 0, -sinTheta, cosTheta, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform which represents a clockwise\n     *    rotation around the y axis.\n     *\n     * @method rotateY\n     * @static\n     * @param {Number} theta radians\n     * @return {Transform}\n     */\n    Transform.rotateY = function rotateY(theta) {\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n        return [cosTheta, 0, -sinTheta, 0, 0, 1, 0, 0, sinTheta, 0, cosTheta, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform which represents a clockwise\n     *    rotation around the z axis.\n     *\n     * @method rotateZ\n     * @static\n     * @param {Number} theta radians\n     * @return {Transform}\n     */\n    Transform.rotateZ = function rotateZ(theta) {\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n        return [cosTheta, sinTheta, 0, 0, -sinTheta, cosTheta, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform which represents composed clockwise\n     *    rotations along each of the axes. Equivalent to the result of\n     *    Matrix.multiply(rotateX(phi), rotateY(theta), rotateZ(psi)).\n     *\n     * @method rotate\n     * @static\n     * @param {Number} phi radians to rotate about the positive x axis\n     * @param {Number} theta radians to rotate about the positive y axis\n     * @param {Number} psi radians to rotate about the positive z axis\n     * @return {Transform}\n     */\n    Transform.rotate = function rotate(phi, theta, psi) {\n        var cosPhi = Math.cos(phi);\n        var sinPhi = Math.sin(phi);\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n        var cosPsi = Math.cos(psi);\n        var sinPsi = Math.sin(psi);\n        var result = [\n            cosTheta * cosPsi,\n            cosPhi * sinPsi + sinPhi * sinTheta * cosPsi,\n            sinPhi * sinPsi - cosPhi * sinTheta * cosPsi,\n            0,\n            -cosTheta * sinPsi,\n            cosPhi * cosPsi - sinPhi * sinTheta * sinPsi,\n            sinPhi * cosPsi + cosPhi * sinTheta * sinPsi,\n            0,\n            sinTheta,\n            -sinPhi * cosTheta,\n            cosPhi * cosTheta,\n            0,\n            0, 0, 0, 1\n        ];\n        return result;\n    };\n\n    /**\n     * Return a Transform which represents an axis-angle rotation\n     *\n     * @method rotateAxis\n     * @static\n     * @param {Array.Number} v unit vector representing the axis to rotate about\n     * @param {Number} theta radians to rotate clockwise about the axis\n     * @return {Transform}\n     */\n    Transform.rotateAxis = function rotateAxis(v, theta) {\n        var sinTheta = Math.sin(theta);\n        var cosTheta = Math.cos(theta);\n        var verTheta = 1 - cosTheta; // versine of theta\n\n        var xxV = v[0] * v[0] * verTheta;\n        var xyV = v[0] * v[1] * verTheta;\n        var xzV = v[0] * v[2] * verTheta;\n        var yyV = v[1] * v[1] * verTheta;\n        var yzV = v[1] * v[2] * verTheta;\n        var zzV = v[2] * v[2] * verTheta;\n        var xs = v[0] * sinTheta;\n        var ys = v[1] * sinTheta;\n        var zs = v[2] * sinTheta;\n\n        var result = [\n            xxV + cosTheta, xyV + zs, xzV - ys, 0,\n            xyV - zs, yyV + cosTheta, yzV + xs, 0,\n            xzV + ys, yzV - xs, zzV + cosTheta, 0,\n            0, 0, 0, 1\n        ];\n        return result;\n    };\n\n    /**\n     * Return a Transform which represents a transform matrix applied about\n     * a separate origin point.\n     *\n     * @method aboutOrigin\n     * @static\n     * @param {Array.Number} v origin point to apply matrix\n     * @param {Transform} m matrix to apply\n     * @return {Transform}\n     */\n    Transform.aboutOrigin = function aboutOrigin(v, m) {\n        var t0 = v[0] - (v[0] * m[0] + v[1] * m[4] + v[2] * m[8]);\n        var t1 = v[1] - (v[0] * m[1] + v[1] * m[5] + v[2] * m[9]);\n        var t2 = v[2] - (v[0] * m[2] + v[1] * m[6] + v[2] * m[10]);\n        return Transform.thenMove(m, [t0, t1, t2]);\n    };\n\n    /**\n     * Return a Transform representation of a skew transformation\n     *\n     * @method skew\n     * @static\n     * @param {Number} phi scale factor skew in the x axis\n     * @param {Number} theta scale factor skew in the y axis\n     * @param {Number} psi scale factor skew in the z axis\n     * @return {Transform}\n     */\n    Transform.skew = function skew(phi, theta, psi) {\n        return [1, Math.tan(theta), 0, 0, Math.tan(psi), 1, 0, 0, 0, Math.tan(phi), 1, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform representation of a skew in the x-direction\n     *\n     * @method skewX\n     * @static\n     * @param {Number} angle the angle between the top and left sides\n     * @return {Transform}\n     */\n    Transform.skewX = function skewX(angle) {\n        return [1, 0, 0, 0, Math.tan(angle), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return a Transform representation of a skew in the y-direction\n     *\n     * @method skewY\n     * @static\n     * @param {Number} angle the angle between the top and right sides\n     * @return {Transform}\n     */\n    Transform.skewY = function skewY(angle) {\n        return [1, Math.tan(angle), 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    };\n\n    /**\n     * Returns a perspective Transform matrix\n     *\n     * @method perspective\n     * @static\n     * @param {Number} focusZ z position of focal point\n     * @return {Transform}\n     */\n    Transform.perspective = function perspective(focusZ) {\n        return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, -1 / focusZ, 0, 0, 0, 1];\n    };\n\n    /**\n     * Return translation vector component of given Transform\n     *\n     * @method getTranslate\n     * @static\n     * @param {Transform} m Transform\n     * @return {Array.Number} the translation vector [t_x, t_y, t_z]\n     */\n    Transform.getTranslate = function getTranslate(m) {\n        return [m[12], m[13], m[14]];\n    };\n\n    /**\n     * Return inverse affine transform for given Transform.\n     *   Note: This assumes m[3] = m[7] = m[11] = 0, and m[15] = 1.\n     *   Will provide incorrect results if not invertible or preconditions not met.\n     *\n     * @method inverse\n     * @static\n     * @param {Transform} m Transform\n     * @return {Transform}\n     */\n    Transform.inverse = function inverse(m) {\n        // only need to consider 3x3 section for affine\n        var c0 = m[5] * m[10] - m[6] * m[9];\n        var c1 = m[4] * m[10] - m[6] * m[8];\n        var c2 = m[4] * m[9] - m[5] * m[8];\n        var c4 = m[1] * m[10] - m[2] * m[9];\n        var c5 = m[0] * m[10] - m[2] * m[8];\n        var c6 = m[0] * m[9] - m[1] * m[8];\n        var c8 = m[1] * m[6] - m[2] * m[5];\n        var c9 = m[0] * m[6] - m[2] * m[4];\n        var c10 = m[0] * m[5] - m[1] * m[4];\n        var detM = m[0] * c0 - m[1] * c1 + m[2] * c2;\n        var invD = 1 / detM;\n        var result = [\n            invD * c0, -invD * c4, invD * c8, 0,\n            -invD * c1, invD * c5, -invD * c9, 0,\n            invD * c2, -invD * c6, invD * c10, 0,\n            0, 0, 0, 1\n        ];\n        result[12] = -m[12] * result[0] - m[13] * result[4] - m[14] * result[8];\n        result[13] = -m[12] * result[1] - m[13] * result[5] - m[14] * result[9];\n        result[14] = -m[12] * result[2] - m[13] * result[6] - m[14] * result[10];\n        return result;\n    };\n\n    /**\n     * Returns the transpose of a 4x4 matrix\n     *\n     * @method transpose\n     * @static\n     * @param {Transform} m matrix\n     * @return {Transform} the resulting transposed matrix\n     */\n    Transform.transpose = function transpose(m) {\n        return [m[0], m[4], m[8], m[12], m[1], m[5], m[9], m[13], m[2], m[6], m[10], m[14], m[3], m[7], m[11], m[15]];\n    };\n\n    function _normSquared(v) {\n        return (v.length === 2) ? v[0] * v[0] + v[1] * v[1] : v[0] * v[0] + v[1] * v[1] + v[2] * v[2];\n    }\n    function _norm(v) {\n        return Math.sqrt(_normSquared(v));\n    }\n    function _sign(n) {\n        return (n < 0) ? -1 : 1;\n    }\n\n    /**\n     * Decompose Transform into separate .translate, .rotate, .scale,\n     *    and .skew components.\n     *\n     * @method interpret\n     * @static\n     * @param {Transform} M transform matrix\n     * @return {Object} matrix spec object with component matrices .translate,\n     *    .rotate, .scale, .skew\n     */\n    Transform.interpret = function interpret(M) {\n\n        // QR decomposition via Householder reflections\n        //FIRST ITERATION\n\n        //default Q1 to the identity matrix;\n        var x = [M[0], M[1], M[2]];                // first column vector\n        var sgn = _sign(x[0]);                     // sign of first component of x (for stability)\n        var xNorm = _norm(x);                      // norm of first column vector\n        var v = [x[0] + sgn * xNorm, x[1], x[2]];  // v = x + sign(x[0])|x|e1\n        var mult = 2 / _normSquared(v);            // mult = 2/v'v\n\n        //bail out if our Matrix is singular\n        if (mult >= Infinity) {\n            return {translate: Transform.getTranslate(M), rotate: [0, 0, 0], scale: [0, 0, 0], skew: [0, 0, 0]};\n        }\n\n        //evaluate Q1 = I - 2vv'/v'v\n        var Q1 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1];\n\n        //diagonals\n        Q1[0]  = 1 - mult * v[0] * v[0];    // 0,0 entry\n        Q1[5]  = 1 - mult * v[1] * v[1];    // 1,1 entry\n        Q1[10] = 1 - mult * v[2] * v[2];    // 2,2 entry\n\n        //upper diagonal\n        Q1[1] = -mult * v[0] * v[1];        // 0,1 entry\n        Q1[2] = -mult * v[0] * v[2];        // 0,2 entry\n        Q1[6] = -mult * v[1] * v[2];        // 1,2 entry\n\n        //lower diagonal\n        Q1[4] = Q1[1];                      // 1,0 entry\n        Q1[8] = Q1[2];                      // 2,0 entry\n        Q1[9] = Q1[6];                      // 2,1 entry\n\n        //reduce first column of M\n        var MQ1 = Transform.multiply(Q1, M);\n\n        //SECOND ITERATION on (1,1) minor\n        var x2 = [MQ1[5], MQ1[6]];\n        var sgn2 = _sign(x2[0]);                    // sign of first component of x (for stability)\n        var x2Norm = _norm(x2);                     // norm of first column vector\n        var v2 = [x2[0] + sgn2 * x2Norm, x2[1]];    // v = x + sign(x[0])|x|e1\n        var mult2 = 2 / _normSquared(v2);           // mult = 2/v'v\n\n        //evaluate Q2 = I - 2vv'/v'v\n        var Q2 = [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1];\n\n        //diagonal\n        Q2[5]  = 1 - mult2 * v2[0] * v2[0]; // 1,1 entry\n        Q2[10] = 1 - mult2 * v2[1] * v2[1]; // 2,2 entry\n\n        //off diagonals\n        Q2[6] = -mult2 * v2[0] * v2[1];     // 2,1 entry\n        Q2[9] = Q2[6];                      // 1,2 entry\n\n        //calc QR decomposition. Q = Q1*Q2, R = Q'*M\n        var Q = Transform.multiply(Q2, Q1);      //note: really Q transpose\n        var R = Transform.multiply(Q, M);\n\n        //remove negative scaling\n        var remover = Transform.scale(R[0] < 0 ? -1 : 1, R[5] < 0 ? -1 : 1, R[10] < 0 ? -1 : 1);\n        R = Transform.multiply(R, remover);\n        Q = Transform.multiply(remover, Q);\n\n        //decompose into rotate/scale/skew matrices\n        var result = {};\n        result.translate = Transform.getTranslate(M);\n        result.rotate = [Math.atan2(-Q[6], Q[10]), Math.asin(Q[2]), Math.atan2(-Q[1], Q[0])];\n        if (!result.rotate[0]) {\n            result.rotate[0] = 0;\n            result.rotate[2] = Math.atan2(Q[4], Q[5]);\n        }\n        result.scale = [R[0], R[5], R[10]];\n        result.skew = [Math.atan2(R[9], result.scale[2]), Math.atan2(R[8], result.scale[2]), Math.atan2(R[4], result.scale[0])];\n\n        //double rotation workaround\n        if (Math.abs(result.rotate[0]) + Math.abs(result.rotate[2]) > 1.5 * Math.PI) {\n            result.rotate[1] = Math.PI - result.rotate[1];\n            if (result.rotate[1] > Math.PI) result.rotate[1] -= 2 * Math.PI;\n            if (result.rotate[1] < -Math.PI) result.rotate[1] += 2 * Math.PI;\n            if (result.rotate[0] < 0) result.rotate[0] += Math.PI;\n            else result.rotate[0] -= Math.PI;\n            if (result.rotate[2] < 0) result.rotate[2] += Math.PI;\n            else result.rotate[2] -= Math.PI;\n        }\n\n        return result;\n    };\n\n    /**\n     * Weighted average between two matrices by averaging their\n     *     translation, rotation, scale, skew components.\n     *     f(M1,M2,t) = (1 - t) * M1 + t * M2\n     *\n     * @method average\n     * @static\n     * @param {Transform} M1 f(M1,M2,0) = M1\n     * @param {Transform} M2 f(M1,M2,1) = M2\n     * @param {Number} t\n     * @return {Transform}\n     */\n    Transform.average = function average(M1, M2, t) {\n        t = (t === undefined) ? 0.5 : t;\n        var specM1 = Transform.interpret(M1);\n        var specM2 = Transform.interpret(M2);\n\n        var specAvg = {\n            translate: [0, 0, 0],\n            rotate: [0, 0, 0],\n            scale: [0, 0, 0],\n            skew: [0, 0, 0]\n        };\n\n        for (var i = 0; i < 3; i++) {\n            specAvg.translate[i] = (1 - t) * specM1.translate[i] + t * specM2.translate[i];\n            specAvg.rotate[i] = (1 - t) * specM1.rotate[i] + t * specM2.rotate[i];\n            specAvg.scale[i] = (1 - t) * specM1.scale[i] + t * specM2.scale[i];\n            specAvg.skew[i] = (1 - t) * specM1.skew[i] + t * specM2.skew[i];\n        }\n        return Transform.build(specAvg);\n    };\n\n    /**\n     * Compose .translate, .rotate, .scale, .skew components into\n     * Transform matrix\n     *\n     * @method build\n     * @static\n     * @param {matrixSpec} spec object with component matrices .translate,\n     *    .rotate, .scale, .skew\n     * @return {Transform} composed transform\n     */\n    Transform.build = function build(spec) {\n        var scaleMatrix = Transform.scale(spec.scale[0], spec.scale[1], spec.scale[2]);\n        var skewMatrix = Transform.skew(spec.skew[0], spec.skew[1], spec.skew[2]);\n        var rotateMatrix = Transform.rotate(spec.rotate[0], spec.rotate[1], spec.rotate[2]);\n        return Transform.thenMove(Transform.multiply(Transform.multiply(rotateMatrix, skewMatrix), scaleMatrix), spec.translate);\n    };\n\n    /**\n     * Determine if two Transforms are component-wise equal\n     *   Warning: breaks on perspective Transforms\n     *\n     * @method equals\n     * @static\n     * @param {Transform} a matrix\n     * @param {Transform} b matrix\n     * @return {boolean}\n     */\n    Transform.equals = function equals(a, b) {\n        return !Transform.notEquals(a, b);\n    };\n\n    /**\n     * Determine if two Transforms are component-wise unequal\n     *   Warning: breaks on perspective Transforms\n     *\n     * @method notEquals\n     * @static\n     * @param {Transform} a matrix\n     * @param {Transform} b matrix\n     * @return {boolean}\n     */\n    Transform.notEquals = function notEquals(a, b) {\n        if (a === b) return false;\n\n        // shortci\n        return !(a && b) ||\n            a[12] !== b[12] || a[13] !== b[13] || a[14] !== b[14] ||\n            a[0] !== b[0] || a[1] !== b[1] || a[2] !== b[2] ||\n            a[4] !== b[4] || a[5] !== b[5] || a[6] !== b[6] ||\n            a[8] !== b[8] || a[9] !== b[9] || a[10] !== b[10];\n    };\n\n    /**\n     * Constrain angle-trio components to range of [-pi, pi).\n     *\n     * @method normalizeRotation\n     * @static\n     * @param {Array.Number} rotation phi, theta, psi (array of floats\n     *    && array.length == 3)\n     * @return {Array.Number} new phi, theta, psi triplet\n     *    (array of floats && array.length == 3)\n     */\n    Transform.normalizeRotation = function normalizeRotation(rotation) {\n        var result = rotation.slice(0);\n        if (result[0] === Math.PI * 0.5 || result[0] === -Math.PI * 0.5) {\n            result[0] = -result[0];\n            result[1] = Math.PI - result[1];\n            result[2] -= Math.PI;\n        }\n        if (result[0] > Math.PI * 0.5) {\n            result[0] = result[0] - Math.PI;\n            result[1] = Math.PI - result[1];\n            result[2] -= Math.PI;\n        }\n        if (result[0] < -Math.PI * 0.5) {\n            result[0] = result[0] + Math.PI;\n            result[1] = -Math.PI - result[1];\n            result[2] -= Math.PI;\n        }\n        while (result[1] < -Math.PI) result[1] += 2 * Math.PI;\n        while (result[1] >= Math.PI) result[1] -= 2 * Math.PI;\n        while (result[2] < -Math.PI) result[2] += 2 * Math.PI;\n        while (result[2] >= Math.PI) result[2] -= 2 * Math.PI;\n        return result;\n    };\n\n    /**\n     * (Property) Array defining a translation forward in z by 1\n     *\n     * @property {array} inFront\n     * @static\n     * @final\n     */\n    Transform.inFront = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1e-3, 1];\n\n    /**\n     * (Property) Array defining a translation backwards in z by 1\n     *\n     * @property {array} behind\n     * @static\n     * @final\n     */\n    Transform.behind = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -1e-3, 1];\n\n    module.exports = Transform;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Transform.js\n ** module id = 17\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var EventEmitter = require('./EventEmitter');\n\n    /**\n     * EventHandler forwards received events to a set of provided callback functions.\n     * It allows events to be captured, processed, and optionally piped through to other event handlers.\n     *\n     * @class EventHandler\n     * @extends EventEmitter\n     * @constructor\n     */\n    function EventHandler() {\n        EventEmitter.apply(this, arguments);\n\n        this.downstream = []; // downstream event handlers\n        this.downstreamFn = []; // downstream functions\n\n        this.upstream = []; // upstream event handlers\n        this.upstreamListeners = {}; // upstream listeners\n    }\n    EventHandler.prototype = Object.create(EventEmitter.prototype);\n    EventHandler.prototype.constructor = EventHandler;\n\n    /**\n     * Assign an event handler to receive an object's input events.\n     *\n     * @method setInputHandler\n     * @static\n     *\n     * @param {Object} object object to mix trigger, subscribe, and unsubscribe functions into\n     * @param {EventHandler} handler assigned event handler\n     */\n    EventHandler.setInputHandler = function setInputHandler(object, handler) {\n        object.trigger = handler.trigger.bind(handler);\n        if (handler.subscribe && handler.unsubscribe) {\n            object.subscribe = handler.subscribe.bind(handler);\n            object.unsubscribe = handler.unsubscribe.bind(handler);\n        }\n    };\n\n    /**\n     * Assign an event handler to receive an object's output events.\n     *\n     * @method setOutputHandler\n     * @static\n     *\n     * @param {Object} object object to mix pipe, unpipe, on, addListener, and removeListener functions into\n     * @param {EventHandler} handler assigned event handler\n     */\n    EventHandler.setOutputHandler = function setOutputHandler(object, handler) {\n        if (handler instanceof EventHandler) handler.bindThis(object);\n        object.pipe = handler.pipe.bind(handler);\n        object.unpipe = handler.unpipe.bind(handler);\n        object.on = handler.on.bind(handler);\n        object.addListener = object.on;\n        object.removeListener = handler.removeListener.bind(handler);\n    };\n\n    /**\n     * Trigger an event, sending to all downstream handlers\n     *   listening for provided 'type' key.\n     *\n     * @method emit\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {Object} event event data\n     * @return {EventHandler} this\n     */\n    EventHandler.prototype.emit = function emit(type, event) {\n        EventEmitter.prototype.emit.apply(this, arguments);\n        var i = 0;\n        for (i = 0; i < this.downstream.length; i++) {\n            if (this.downstream[i].trigger) this.downstream[i].trigger(type, event);\n        }\n        for (i = 0; i < this.downstreamFn.length; i++) {\n            this.downstreamFn[i](type, event);\n        }\n        return this;\n    };\n\n    /**\n     * Alias for emit\n     * @method addListener\n     */\n    EventHandler.prototype.trigger = EventHandler.prototype.emit;\n\n    /**\n     * Add event handler object to set of downstream handlers.\n     *\n     * @method pipe\n     *\n     * @param {EventHandler} target event handler target object\n     * @return {EventHandler} passed event handler\n     */\n    EventHandler.prototype.pipe = function pipe(target) {\n        if (target.subscribe instanceof Function) return target.subscribe(this);\n\n        var downstreamCtx = (target instanceof Function) ? this.downstreamFn : this.downstream;\n        var index = downstreamCtx.indexOf(target);\n        if (index < 0) downstreamCtx.push(target);\n\n        if (target instanceof Function) target('pipe', null);\n        else if (target.trigger) target.trigger('pipe', null);\n\n        return target;\n    };\n\n    /**\n     * Remove handler object from set of downstream handlers.\n     *   Undoes work of \"pipe\".\n     *\n     * @method unpipe\n     *\n     * @param {EventHandler} target target handler object\n     * @return {EventHandler} provided target\n     */\n    EventHandler.prototype.unpipe = function unpipe(target) {\n        if (target.unsubscribe instanceof Function) return target.unsubscribe(this);\n\n        var downstreamCtx = (target instanceof Function) ? this.downstreamFn : this.downstream;\n        var index = downstreamCtx.indexOf(target);\n        if (index >= 0) {\n            downstreamCtx.splice(index, 1);\n            if (target instanceof Function) target('unpipe', null);\n            else if (target.trigger) target.trigger('unpipe', null);\n            return target;\n        }\n        else return false;\n    };\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} handler callback\n     * @return {EventHandler} this\n     */\n    EventHandler.prototype.on = function on(type, handler) {\n        EventEmitter.prototype.on.apply(this, arguments);\n        if (!(type in this.upstreamListeners)) {\n            var upstreamListener = this.trigger.bind(this, type);\n            this.upstreamListeners[type] = upstreamListener;\n            for (var i = 0; i < this.upstream.length; i++) {\n                this.upstream[i].on(type, upstreamListener);\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Alias for \"on\"\n     * @method addListener\n     */\n    EventHandler.prototype.addListener = EventHandler.prototype.on;\n\n    /**\n     * Listen for events from an upstream event handler.\n     *\n     * @method subscribe\n     *\n     * @param {EventEmitter} source source emitter object\n     * @return {EventHandler} this\n     */\n    EventHandler.prototype.subscribe = function subscribe(source) {\n        var index = this.upstream.indexOf(source);\n        if (index < 0) {\n            this.upstream.push(source);\n            for (var type in this.upstreamListeners) {\n                source.on(type, this.upstreamListeners[type]);\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Stop listening to events from an upstream event handler.\n     *\n     * @method unsubscribe\n     *\n     * @param {EventEmitter} source source emitter object\n     * @return {EventHandler} this\n     */\n    EventHandler.prototype.unsubscribe = function unsubscribe(source) {\n        var index = this.upstream.indexOf(source);\n        if (index >= 0) {\n            this.upstream.splice(index, 1);\n            for (var type in this.upstreamListeners) {\n                source.removeListener(type, this.upstreamListeners[type]);\n            }\n        }\n        return this;\n    };\n\n    module.exports = EventHandler;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/EventHandler.js\n ** module id = 18\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    /**\n     * EventEmitter represents a channel for events.\n     *\n     * @class EventEmitter\n     * @constructor\n     */\n    function EventEmitter() {\n        this.listeners = {};\n        this._owner = this;\n    }\n\n    /**\n     * Trigger an event, sending to all downstream handlers\n     *   listening for provided 'type' key.\n     *\n     * @method emit\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {Object} event event data\n     * @return {EventHandler} this\n     */\n    EventEmitter.prototype.emit = function emit(type, event) {\n        var handlers = this.listeners[type];\n        if (handlers) {\n            for (var i = 0; i < handlers.length; i++) {\n                handlers[i].call(this._owner, event);\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} handler callback\n     * @return {EventHandler} this\n     */\n   EventEmitter.prototype.on = function on(type, handler) {\n        if (!(type in this.listeners)) this.listeners[type] = [];\n        var index = this.listeners[type].indexOf(handler);\n        if (index < 0) this.listeners[type].push(handler);\n        return this;\n    };\n\n    /**\n     * Alias for \"on\".\n     * @method addListener\n     */\n    EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n   /**\n     * Unbind an event by type and handler.\n     *   This undoes the work of \"on\".\n     *\n     * @method removeListener\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function} handler function object to remove\n     * @return {EventEmitter} this\n     */\n    EventEmitter.prototype.removeListener = function removeListener(type, handler) {\n        var listener = this.listeners[type];\n        if (listener !== undefined) {\n            var index = listener.indexOf(handler);\n            if (index >= 0) listener.splice(index, 1);\n        }\n        return this;\n    };\n\n    /**\n     * Call event handlers with this set to owner.\n     *\n     * @method bindThis\n     *\n     * @param {Object} owner object this EventEmitter belongs to\n     */\n    EventEmitter.prototype.bindThis = function bindThis(owner) {\n        this._owner = owner;\n    };\n\n    module.exports = EventEmitter;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/EventEmitter.js\n ** module id = 19\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n\n    /**\n     * Internal helper object to Context that handles the process of\n     *   creating and allocating DOM elements within a managed div.\n     *   Private.\n     *\n     * @class ElementAllocator\n     * @constructor\n     * @private\n     * @param {Node} container document element in which Famo.us content will be inserted\n     */\n    function ElementAllocator(container) {\n        if (!container) container = document.createDocumentFragment();\n        this.container = container;\n        this.detachedNodes = {};\n        this.nodeCount = 0;\n    }\n\n    /**\n     * Move the document elements from their original container to a new one.\n     *\n     * @private\n     * @method migrate\n     *\n     * @param {Node} container document element to which Famo.us content will be migrated\n     */\n    ElementAllocator.prototype.migrate = function migrate(container) {\n        var oldContainer = this.container;\n        if (container === oldContainer) return;\n\n        if (oldContainer instanceof DocumentFragment) {\n            container.appendChild(oldContainer);\n        }\n        else {\n            while (oldContainer.hasChildNodes()) {\n                container.appendChild(oldContainer.firstChild);\n            }\n        }\n\n        this.container = container;\n    };\n\n    /**\n     * Allocate an element of specified type from the pool.\n     *\n     * @private\n     * @method allocate\n     *\n     * @param {string} type type of element, e.g. 'div'\n     * @return {Node} allocated document element\n     */\n    ElementAllocator.prototype.allocate = function allocate(type) {\n        type = type.toLowerCase();\n        if (!(type in this.detachedNodes)) this.detachedNodes[type] = [];\n        var nodeStore = this.detachedNodes[type];\n        var result;\n        if (nodeStore.length > 0) {\n            result = nodeStore.pop();\n        }\n        else {\n            result = document.createElement(type);\n            this.container.appendChild(result);\n        }\n        this.nodeCount++;\n        return result;\n    };\n\n    /**\n     * De-allocate an element of specified type to the pool.\n     *\n     * @private\n     * @method deallocate\n     *\n     * @param {Node} element document element to deallocate\n     */\n    ElementAllocator.prototype.deallocate = function deallocate(element) {\n        var nodeType = element.nodeName.toLowerCase();\n        var nodeStore = this.detachedNodes[nodeType];\n        nodeStore.push(element);\n        this.nodeCount--;\n    };\n\n    /**\n     * Get count of total allocated nodes in the document.\n     *\n     * @private\n     * @method getNodeCount\n     *\n     * @return {Number} total node count\n     */\n    ElementAllocator.prototype.getNodeCount = function getNodeCount() {\n        return this.nodeCount;\n    };\n\n    module.exports = ElementAllocator;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/ElementAllocator.js\n ** module id = 20\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n/*eslint-disable new-cap */\ndefine(function(require, exports, module) {\n    var MultipleTransition = require('./MultipleTransition');\n    var TweenTransition = require('./TweenTransition');\n\n    /**\n     * A state maintainer for a smooth transition between\n     *    numerically-specified states. Example numeric states include floats or\n     *    Transform objects.\n     *\n     * An initial state is set with the constructor or set(startState). A\n     *    corresponding end state and transition are set with set(endState,\n     *    transition). Subsequent calls to set(endState, transition) begin at\n     *    the last state. Calls to get(timestamp) provide the interpolated state\n     *    along the way.\n     *\n     * Note that there is no event loop here - calls to get() are the only way\n     *    to find state projected to the current (or provided) time and are\n     *    the only way to trigger callbacks. Usually this kind of object would\n     *    be part of the render() path of a visible component.\n     *\n     * @class Transitionable\n     * @constructor\n     * @param {number|Array.Number|Object.<number|string, number>} start\n     *    beginning state\n     */\n    function Transitionable(start) {\n        this.currentAction = null;\n        this.actionQueue = [];\n        this.callbackQueue = [];\n\n        this.state = 0;\n        this.velocity = undefined;\n        this._callback = undefined;\n        this._engineInstance = null;\n        this._currentMethod = null;\n\n        this.set(start);\n    }\n\n    var transitionMethods = {};\n\n    Transitionable.register = function register(methods) {\n        var success = true;\n        for (var method in methods) {\n            if (!Transitionable.registerMethod(method, methods[method]))\n                success = false;\n        }\n        return success;\n    };\n\n    Transitionable.registerMethod = function registerMethod(name, engineClass) {\n        if (!(name in transitionMethods)) {\n            transitionMethods[name] = engineClass;\n            return true;\n        }\n        else return false;\n    };\n\n    Transitionable.unregisterMethod = function unregisterMethod(name) {\n        if (name in transitionMethods) {\n            delete transitionMethods[name];\n            return true;\n        }\n        else return false;\n    };\n\n    function _loadNext() {\n        if (this._callback) {\n            var callback = this._callback;\n            this._callback = undefined;\n            callback();\n        }\n        if (this.actionQueue.length <= 0) {\n            this.set(this.get()); // no update required\n            return;\n        }\n        this.currentAction = this.actionQueue.shift();\n        this._callback = this.callbackQueue.shift();\n\n        var method = null;\n        var endValue = this.currentAction[0];\n        var transition = this.currentAction[1];\n        if (transition instanceof Object && transition.method) {\n            method = transition.method;\n            if (typeof method === 'string') method = transitionMethods[method];\n        }\n        else {\n            method = TweenTransition;\n        }\n\n        if (this._currentMethod !== method) {\n            if (!(endValue instanceof Object) || method.SUPPORTS_MULTIPLE === true || endValue.length <= method.SUPPORTS_MULTIPLE) {\n                this._engineInstance = new method();\n            }\n            else {\n                this._engineInstance = new MultipleTransition(method);\n            }\n            this._currentMethod = method;\n        }\n\n        this._engineInstance.reset(this.state, this.velocity);\n        if (this.velocity !== undefined) transition.velocity = this.velocity;\n        this._engineInstance.set(endValue, transition, _loadNext.bind(this));\n    }\n\n    /**\n     * Add transition to end state to the queue of pending transitions. Special\n     *    Use: calling without a transition resets the object to that state with\n     *    no pending actions\n     *\n     * @method set\n     *\n     * @param {number|FamousMatrix|Array.Number|Object.<number, number>} endState\n     *    end state to which we interpolate\n     * @param {transition=} transition object of type {duration: number, curve:\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\n     *    instantaneous.\n     * @param {function()=} callback Zero-argument function to call on observed\n     *    completion (t=1)\n     */\n    Transitionable.prototype.set = function set(endState, transition, callback) {\n        if (!transition) {\n            this.reset(endState);\n            if (callback) callback();\n            return this;\n        }\n\n        var action = [endState, transition];\n        this.actionQueue.push(action);\n        this.callbackQueue.push(callback);\n        if (!this.currentAction) _loadNext.call(this);\n        return this;\n    };\n\n    /**\n     * Cancel all transitions and reset to a stable state\n     *\n     * @method reset\n     *\n     * @param {number|Array.Number|Object.<number, number>} startState\n     *    stable state to set to\n     */\n    Transitionable.prototype.reset = function reset(startState, startVelocity) {\n        this._currentMethod = null;\n        this._engineInstance = null;\n        this._callback = undefined;\n        this.state = startState;\n        this.velocity = startVelocity;\n        this.currentAction = null;\n        this.actionQueue = [];\n        this.callbackQueue = [];\n    };\n\n    /**\n     * Add delay action to the pending action queue queue.\n     *\n     * @method delay\n     *\n     * @param {number} duration delay time (ms)\n     * @param {function} callback Zero-argument function to call on observed\n     *    completion (t=1)\n     */\n    Transitionable.prototype.delay = function delay(duration, callback) {\n        var endValue;\n        if (this.actionQueue.length) endValue = this.actionQueue[this.actionQueue.length - 1][0];\n        else if (this.currentAction) endValue = this.currentAction[0];\n        else endValue = this.get();\n\n        return this.set(endValue, { duration: duration,\n            curve: function() {\n                return 0;\n            }},\n            callback\n        );\n    };\n\n    /**\n     * Get interpolated state of current action at provided time. If the last\n     *    action has completed, invoke its callback.\n     *\n     * @method get\n     *\n     * @param {number=} timestamp Evaluate the curve at a normalized version of this\n     *    time. If omitted, use current time. (Unix epoch time)\n     * @return {number|Object.<number|string, number>} beginning state\n     *    interpolated to this point in time.\n     */\n    Transitionable.prototype.get = function get(timestamp) {\n        if (this._engineInstance) {\n            if (this._engineInstance.getVelocity)\n                this.velocity = this._engineInstance.getVelocity();\n            this.state = this._engineInstance.get(timestamp);\n        }\n        return this.state;\n    };\n\n    /**\n     * Is there at least one action pending completion?\n     *\n     * @method isActive\n     *\n     * @return {boolean}\n     */\n    Transitionable.prototype.isActive = function isActive() {\n        return !!this.currentAction;\n    };\n\n    /**\n     * Halt transition at current state and erase all pending actions.\n     *\n     * @method halt\n     */\n    Transitionable.prototype.halt = function halt() {\n        return this.set(this.get());\n    };\n\n    module.exports = Transitionable;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/transitions/Transitionable.js\n ** module id = 21\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n/*eslint-disable new-cap */\ndefine(function(require, exports, module) {\n    var Utility = require('../utilities/Utility');\n\n    /**\n     * Transition meta-method to support transitioning multiple\n     *   values with scalar-only methods.\n     *\n     *\n     * @class MultipleTransition\n     * @constructor\n     *\n     * @param {Object} method Transionable class to multiplex\n     */\n    function MultipleTransition(method) {\n        this.method = method;\n        this._instances = [];\n        this.state = [];\n    }\n\n    MultipleTransition.SUPPORTS_MULTIPLE = true;\n\n    /**\n     * Get the state of each transition.\n     *\n     * @method get\n     *\n     * @return state {Number|Array} state array\n     */\n    MultipleTransition.prototype.get = function get() {\n        for (var i = 0; i < this._instances.length; i++) {\n            this.state[i] = this._instances[i].get();\n        }\n        return this.state;\n    };\n\n    /**\n     * Set the end states with a shared transition, with optional callback.\n     *\n     * @method set\n     *\n     * @param {Number|Array} endState Final State.  Use a multi-element argument for multiple transitions.\n     * @param {Object} transition Transition definition, shared among all instances\n     * @param {Function} callback called when all endStates have been reached.\n     */\n    MultipleTransition.prototype.set = function set(endState, transition, callback) {\n        var _allCallback = Utility.after(endState.length, callback);\n        for (var i = 0; i < endState.length; i++) {\n            if (!this._instances[i]) this._instances[i] = new (this.method)();\n            this._instances[i].set(endState[i], transition, _allCallback);\n        }\n    };\n\n    /**\n     * Reset all transitions to start state.\n     *\n     * @method reset\n     *\n     * @param  {Number|Array} startState Start state\n     */\n    MultipleTransition.prototype.reset = function reset(startState) {\n        for (var i = 0; i < startState.length; i++) {\n            if (!this._instances[i]) this._instances[i] = new (this.method)();\n            this._instances[i].reset(startState[i]);\n        }\n    };\n\n    module.exports = MultipleTransition;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/transitions/MultipleTransition.js\n ** module id = 22\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    /**\n     * This namespace holds standalone functionality.\n     *  Currently includes name mapping for transition curves,\n     *  name mapping for origin pairs, and the after() function.\n     *\n     * @class Utility\n     * @static\n     */\n    var Utility = {};\n\n    /**\n     * Table of direction array positions\n     *\n     * @property {object} Direction\n     * @final\n     */\n    Utility.Direction = {\n        X: 0,\n        Y: 1,\n        Z: 2\n    };\n\n    /**\n     * Return wrapper around callback function. Once the wrapper is called N\n     *   times, invoke the callback function. Arguments and scope preserved.\n     *\n     * @method after\n     *\n     * @param {number} count number of calls before callback function invoked\n     * @param {Function} callback wrapped callback function\n     *\n     * @return {function} wrapped callback with coundown feature\n     */\n    Utility.after = function after(count, callback) {\n        var counter = count;\n        return function() {\n            counter--;\n            if (counter === 0) callback.apply(this, arguments);\n        };\n    };\n\n    /**\n     * Load a URL and return its contents in a callback\n     *\n     * @method loadURL\n     *\n     * @param {string} url URL of object\n     * @param {function} callback callback to dispatch with content\n     */\n    Utility.loadURL = function loadURL(url, callback) {\n        var xhr = new XMLHttpRequest();\n        xhr.onreadystatechange = function onreadystatechange() {\n            if (this.readyState === 4) {\n                if (callback) callback(this.responseText);\n            }\n        };\n        xhr.open('GET', url);\n        xhr.send();\n    };\n\n    /**\n     * Create a document fragment from a string of HTML\n     *\n     * @method createDocumentFragmentFromHTML\n     *\n     * @param {string} html HTML to convert to DocumentFragment\n     *\n     * @return {DocumentFragment} DocumentFragment representing input HTML\n     */\n    Utility.createDocumentFragmentFromHTML = function createDocumentFragmentFromHTML(html) {\n        var element = document.createElement('div');\n        element.innerHTML = html;\n        var result = document.createDocumentFragment();\n        while (element.hasChildNodes()) result.appendChild(element.firstChild);\n        return result;\n    };\n\n    /*\n     *  Deep clone an object.\n     *  @param b {Object} Object to clone\n     *  @return a {Object} Cloned object.\n     */\n    Utility.clone = function clone(b) {\n        var a;\n        if (typeof b === 'object') {\n            a = (b instanceof Array) ? [] : {};\n            for (var key in b) {\n                if (typeof b[key] === 'object' && b[key] !== null) {\n                    if (b[key] instanceof Array) {\n                        a[key] = new Array(b[key].length);\n                        for (var i = 0; i < b[key].length; i++) {\n                            a[key][i] = Utility.clone(b[key][i]);\n                        }\n                    }\n                    else {\n                      a[key] = Utility.clone(b[key]);\n                    }\n                }\n                else {\n                    a[key] = b[key];\n                }\n            }\n        }\n        else {\n            a = b;\n        }\n        return a;\n    };\n\n    module.exports = Utility;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/utilities/Utility.js\n ** module id = 23\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n\n    /**\n     *\n     * A state maintainer for a smooth transition between\n     *    numerically-specified states.  Example numeric states include floats or\n     *    Transfornm objects.\n     *\n     *    An initial state is set with the constructor or set(startValue). A\n     *    corresponding end state and transition are set with set(endValue,\n     *    transition). Subsequent calls to set(endValue, transition) begin at\n     *    the last state. Calls to get(timestamp) provide the _interpolated state\n     *    along the way.\n     *\n     *   Note that there is no event loop here - calls to get() are the only way\n     *    to find out state projected to the current (or provided) time and are\n     *    the only way to trigger callbacks. Usually this kind of object would\n     *    be part of the render() path of a visible component.\n     *\n     * @class TweenTransition\n     * @constructor\n     *\n     * @param {Object} options TODO\n     *    beginning state\n     */\n    function TweenTransition(options) {\n        this.options = Object.create(TweenTransition.DEFAULT_OPTIONS);\n        if (options) this.setOptions(options);\n\n        this._startTime = 0;\n        this._startValue = 0;\n        this._updateTime = 0;\n        this._endValue = 0;\n        this._curve = undefined;\n        this._duration = 0;\n        this._active = false;\n        this._callback = undefined;\n        this.state = 0;\n        this.velocity = undefined;\n    }\n\n    /**\n     * Transition curves mapping independent variable t from domain [0,1] to a\n     *    range within [0,1]. Includes functions 'linear', 'easeIn', 'easeOut',\n     *    'easeInOut', 'easeOutBounce', 'spring'.\n     *\n     * @property {object} Curve\n     * @final\n     */\n    TweenTransition.Curves = {\n        linear: function(t) {\n            return t;\n        },\n        easeIn: function(t) {\n            return t*t;\n        },\n        easeOut: function(t) {\n            return t*(2-t);\n        },\n        easeInOut: function(t) {\n            if (t <= 0.5) return 2*t*t;\n            else return -2*t*t + 4*t - 1;\n        },\n        easeOutBounce: function(t) {\n            return t*(3 - 2*t);\n        },\n        spring: function(t) {\n            return (1 - t) * Math.sin(6 * Math.PI * t) + t;\n        }\n    };\n\n    TweenTransition.SUPPORTS_MULTIPLE = true;\n    TweenTransition.DEFAULT_OPTIONS = {\n        curve: TweenTransition.Curves.linear,\n        duration: 500,\n        speed: 0 /* considered only if positive */\n    };\n\n    var registeredCurves = {};\n\n    /**\n     * Add \"unit\" curve to internal dictionary of registered curves.\n     *\n     * @method registerCurve\n     *\n     * @static\n     *\n     * @param {string} curveName dictionary key\n     * @param {unitCurve} curve function of one numeric variable mapping [0,1]\n     *    to range inside [0,1]\n     * @return {boolean} false if key is taken, else true\n     */\n    TweenTransition.registerCurve = function registerCurve(curveName, curve) {\n        if (!registeredCurves[curveName]) {\n            registeredCurves[curveName] = curve;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n\n    /**\n     * Remove object with key \"curveName\" from internal dictionary of registered\n     *    curves.\n     *\n     * @method unregisterCurve\n     *\n     * @static\n     *\n     * @param {string} curveName dictionary key\n     * @return {boolean} false if key has no dictionary value\n     */\n    TweenTransition.unregisterCurve = function unregisterCurve(curveName) {\n        if (registeredCurves[curveName]) {\n            delete registeredCurves[curveName];\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n\n    /**\n     * Retrieve function with key \"curveName\" from internal dictionary of\n     *    registered curves. Default curves are defined in the\n     *    TweenTransition.Curves array, where the values represent\n     *    unitCurve functions.\n     *\n     * @method getCurve\n     *\n     * @static\n     *\n     * @param {string} curveName dictionary key\n     * @return {unitCurve} curve function of one numeric variable mapping [0,1]\n     *    to range inside [0,1]\n     */\n    TweenTransition.getCurve = function getCurve(curveName) {\n        var curve = registeredCurves[curveName];\n        if (curve !== undefined) return curve;\n        else throw new Error('curve not registered');\n    };\n\n    /**\n     * Retrieve all available curves.\n     *\n     * @method getCurves\n     *\n     * @static\n     *\n     * @return {object} curve functions of one numeric variable mapping [0,1]\n     *    to range inside [0,1]\n     */\n    TweenTransition.getCurves = function getCurves() {\n        return registeredCurves;\n    };\n\n     // Interpolate: If a linear function f(0) = a, f(1) = b, then return f(t)\n    function _interpolate(a, b, t) {\n        return ((1 - t) * a) + (t * b);\n    }\n\n    function _clone(obj) {\n        if (obj instanceof Object) {\n            if (obj instanceof Array) return obj.slice(0);\n            else return Object.create(obj);\n        }\n        else return obj;\n    }\n\n    // Fill in missing properties in \"transition\" with those in defaultTransition, and\n    //   convert internal named curve to function object, returning as new\n    //   object.\n    function _normalize(transition, defaultTransition) {\n        var result = {curve: defaultTransition.curve};\n        if (defaultTransition.duration) result.duration = defaultTransition.duration;\n        if (defaultTransition.speed) result.speed = defaultTransition.speed;\n        if (transition instanceof Object) {\n            if (transition.duration !== undefined) result.duration = transition.duration;\n            if (transition.curve) result.curve = transition.curve;\n            if (transition.speed) result.speed = transition.speed;\n        }\n        if (typeof result.curve === 'string') result.curve = TweenTransition.getCurve(result.curve);\n        return result;\n    }\n\n    /**\n     * Set internal options, overriding any default options.\n     *\n     * @method setOptions\n     *\n     *\n     * @param {Object} options options object\n     * @param {Object} [options.curve] function mapping [0,1] to [0,1] or identifier\n     * @param {Number} [options.duration] duration in ms\n     * @param {Number} [options.speed] speed in pixels per ms\n     */\n    TweenTransition.prototype.setOptions = function setOptions(options) {\n        if (options.curve !== undefined) this.options.curve = options.curve;\n        if (options.duration !== undefined) this.options.duration = options.duration;\n        if (options.speed !== undefined) this.options.speed = options.speed;\n    };\n\n    /**\n     * Add transition to end state to the queue of pending transitions. Special\n     *    Use: calling without a transition resets the object to that state with\n     *    no pending actions\n     *\n     * @method set\n     *\n     *\n     * @param {number|FamousMatrix|Array.Number|Object.<number, number>} endValue\n     *    end state to which we _interpolate\n     * @param {transition=} transition object of type {duration: number, curve:\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\n     *    instantaneous.\n     * @param {function()=} callback Zero-argument function to call on observed\n     *    completion (t=1)\n     */\n    TweenTransition.prototype.set = function set(endValue, transition, callback) {\n        if (!transition) {\n            this.reset(endValue);\n            if (callback) callback();\n            return;\n        }\n\n        this._startValue = _clone(this.get());\n        transition = _normalize(transition, this.options);\n        if (transition.speed) {\n            var startValue = this._startValue;\n            if (startValue instanceof Object) {\n                var variance = 0;\n                for (var i in startValue) variance += (endValue[i] - startValue[i]) * (endValue[i] - startValue[i]);\n                transition.duration = Math.sqrt(variance) / transition.speed;\n            }\n            else {\n                transition.duration = Math.abs(endValue - startValue) / transition.speed;\n            }\n        }\n\n        this._startTime = Date.now();\n        this._endValue = _clone(endValue);\n        this._startVelocity = _clone(transition.velocity);\n        this._duration = transition.duration;\n        this._curve = transition.curve;\n        this._active = true;\n        this._callback = callback;\n    };\n\n    /**\n     * Cancel all transitions and reset to a stable state\n     *\n     * @method reset\n     *\n     * @param {number|Array.Number|Object.<number, number>} startValue\n     *    starting state\n     * @param {number} startVelocity\n     *    starting velocity\n     */\n    TweenTransition.prototype.reset = function reset(startValue, startVelocity) {\n        if (this._callback) {\n            var callback = this._callback;\n            this._callback = undefined;\n            callback();\n        }\n        this.state = _clone(startValue);\n        this.velocity = _clone(startVelocity);\n        this._startTime = 0;\n        this._duration = 0;\n        this._updateTime = 0;\n        this._startValue = this.state;\n        this._startVelocity = this.velocity;\n        this._endValue = this.state;\n        this._active = false;\n    };\n\n    /**\n     * Get current velocity\n     *\n     * @method getVelocity\n     *\n     * @returns {Number} velocity\n     */\n    TweenTransition.prototype.getVelocity = function getVelocity() {\n        return this.velocity;\n    };\n\n    /**\n     * Get interpolated state of current action at provided time. If the last\n     *    action has completed, invoke its callback.\n     *\n     * @method get\n     *\n     *\n     * @param {number=} timestamp Evaluate the curve at a normalized version of this\n     *    time. If omitted, use current time. (Unix epoch time)\n     * @return {number|Object.<number|string, number>} beginning state\n     *    _interpolated to this point in time.\n     */\n    TweenTransition.prototype.get = function get(timestamp) {\n        this.update(timestamp);\n        return this.state;\n    };\n\n    function _calculateVelocity(current, start, curve, duration, t) {\n        var velocity;\n        var eps = 1e-7;\n        var speed = (curve(t) - curve(t - eps)) / eps;\n        if (current instanceof Array) {\n            velocity = [];\n            for (var i = 0; i < current.length; i++){\n                if (typeof current[i] === 'number')\n                    velocity[i] = speed * (current[i] - start[i]) / duration;\n                else\n                    velocity[i] = 0;\n            }\n\n        }\n        else velocity = speed * (current - start) / duration;\n        return velocity;\n    }\n\n    function _calculateState(start, end, t) {\n        var state;\n        if (start instanceof Array) {\n            state = [];\n            for (var i = 0; i < start.length; i++) {\n                if (typeof start[i] === 'number')\n                    state[i] = _interpolate(start[i], end[i], t);\n                else\n                    state[i] = start[i];\n            }\n        }\n        else state = _interpolate(start, end, t);\n        return state;\n    }\n\n    /**\n     * Update internal state to the provided timestamp. This may invoke the last\n     *    callback and begin a new action.\n     *\n     * @method update\n     *\n     *\n     * @param {number=} timestamp Evaluate the curve at a normalized version of this\n     *    time. If omitted, use current time. (Unix epoch time)\n     */\n    TweenTransition.prototype.update = function update(timestamp) {\n        if (!this._active) {\n            if (this._callback) {\n                var callback = this._callback;\n                this._callback = undefined;\n                callback();\n            }\n            return;\n        }\n\n        if (!timestamp) timestamp = Date.now();\n        if (this._updateTime >= timestamp) return;\n        this._updateTime = timestamp;\n\n        var timeSinceStart = timestamp - this._startTime;\n        if (timeSinceStart >= this._duration) {\n            this.state = this._endValue;\n            this.velocity = _calculateVelocity(this.state, this._startValue, this._curve, this._duration, 1);\n            this._active = false;\n        }\n        else if (timeSinceStart < 0) {\n            this.state = this._startValue;\n            this.velocity = this._startVelocity;\n        }\n        else {\n            var t = timeSinceStart / this._duration;\n            this.state = _calculateState(this._startValue, this._endValue, this._curve(t));\n            this.velocity = _calculateVelocity(this.state, this._startValue, this._curve, this._duration, t);\n        }\n    };\n\n    /**\n     * Is there at least one action pending completion?\n     *\n     * @method isActive\n     *\n     *\n     * @return {boolean}\n     */\n    TweenTransition.prototype.isActive = function isActive() {\n        return this._active;\n    };\n\n    /**\n     * Halt transition at current state and erase all pending actions.\n     *\n     * @method halt\n     *\n     */\n    TweenTransition.prototype.halt = function halt() {\n        this.reset(this.get());\n    };\n\n    // Register all the default curves\n    TweenTransition.registerCurve('linear', TweenTransition.Curves.linear);\n    TweenTransition.registerCurve('easeIn', TweenTransition.Curves.easeIn);\n    TweenTransition.registerCurve('easeOut', TweenTransition.Curves.easeOut);\n    TweenTransition.registerCurve('easeInOut', TweenTransition.Curves.easeInOut);\n    TweenTransition.registerCurve('easeOutBounce', TweenTransition.Curves.easeOutBounce);\n    TweenTransition.registerCurve('spring', TweenTransition.Curves.spring);\n\n    TweenTransition.customCurve = function customCurve(v1, v2) {\n        v1 = v1 || 0; v2 = v2 || 0;\n        return function(t) {\n            return v1*t + (-2*v1 - v2 + 3)*t*t + (v1 + v2 - 2)*t*t*t;\n        };\n    };\n\n    module.exports = TweenTransition;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/transitions/TweenTransition.js\n ** module id = 24\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var EventHandler = require('./EventHandler');\n\n    /**\n     *  A collection of methods for setting options which can be extended\n     *  onto other classes.\n     *\n     *\n     *  **** WARNING ****\n     *  You can only pass through objects that will compile into valid JSON.\n     *\n     *  Valid options:\n     *      Strings,\n     *      Arrays,\n     *      Objects,\n     *      Numbers,\n     *      Nested Objects,\n     *      Nested Arrays.\n     *\n     *    This excludes:\n     *        Document Fragments,\n     *        Functions\n     * @class OptionsManager\n     * @constructor\n     * @param {Object} value options dictionary\n     */\n    function OptionsManager(value) {\n        this._value = value;\n        this.eventOutput = null;\n    }\n\n    /**\n     * Create options manager from source dictionary with arguments overriden by patch dictionary.\n     *\n     * @static\n     * @method OptionsManager.patch\n     *\n     * @param {Object} source source arguments\n     * @param {...Object} data argument additions and overwrites\n     * @return {Object} source object\n     */\n    OptionsManager.patch = function patchObject(source, data) {\n        var manager = new OptionsManager(source);\n        for (var i = 1; i < arguments.length; i++) manager.patch(arguments[i]);\n        return source;\n    };\n\n    function _createEventOutput() {\n        this.eventOutput = new EventHandler();\n        this.eventOutput.bindThis(this);\n        EventHandler.setOutputHandler(this, this.eventOutput);\n    }\n\n    /**\n     * Create OptionsManager from source with arguments overriden by patches.\n     *   Triggers 'change' event on this object's event handler if the state of\n     *   the OptionsManager changes as a result.\n     *\n     * @method patch\n     *\n     * @param {...Object} arguments list of patch objects\n     * @return {OptionsManager} this\n     */\n    OptionsManager.prototype.patch = function patch() {\n        var myState = this._value;\n        for (var i = 0; i < arguments.length; i++) {\n            var data = arguments[i];\n            for (var k in data) {\n                if ((k in myState) && (data[k] && data[k].constructor === Object) && (myState[k] && myState[k].constructor === Object)) {\n                    if (!myState.hasOwnProperty(k)) myState[k] = Object.create(myState[k]);\n                    this.key(k).patch(data[k]);\n                    if (this.eventOutput) this.eventOutput.emit('change', {id: k, value: this.key(k).value()});\n                }\n                else this.set(k, data[k]);\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Alias for patch\n     *\n     * @method setOptions\n     *\n     */\n    OptionsManager.prototype.setOptions = OptionsManager.prototype.patch;\n\n    /**\n     * Return OptionsManager based on sub-object retrieved by key\n     *\n     * @method key\n     *\n     * @param {string} identifier key\n     * @return {OptionsManager} new options manager with the value\n     */\n    OptionsManager.prototype.key = function key(identifier) {\n        var result = new OptionsManager(this._value[identifier]);\n        if (!(result._value instanceof Object) || result._value instanceof Array) result._value = {};\n        return result;\n    };\n\n    /**\n     * Look up value by key or get the full options hash\n     * @method get\n     *\n     * @param {string} key key\n     * @return {Object} associated object or full options hash\n     */\n    OptionsManager.prototype.get = function get(key) {\n        return key ? this._value[key] : this._value;\n    };\n\n    /**\n     * Alias for get\n     * @method getOptions\n     */\n    OptionsManager.prototype.getOptions = OptionsManager.prototype.get;\n\n    /**\n     * Set key to value.  Outputs 'change' event if a value is overwritten.\n     *\n     * @method set\n     *\n     * @param {string} key key string\n     * @param {Object} value value object\n     * @return {OptionsManager} new options manager based on the value object\n     */\n    OptionsManager.prototype.set = function set(key, value) {\n        var originalValue = this.get(key);\n        this._value[key] = value;\n        if (this.eventOutput && value !== originalValue) this.eventOutput.emit('change', {id: key, value: value});\n        return this;\n    };\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'change')\n     * @param {function(string, Object)} handler callback\n     * @return {EventHandler} this\n     */\n    OptionsManager.prototype.on = function on() {\n        _createEventOutput.call(this);\n        return this.on.apply(this, arguments);\n    };\n\n    /**\n     * Unbind an event by type and handler.\n     *   This undoes the work of \"on\".\n     *\n     * @method removeListener\n     *\n     * @param {string} type event type key (for example, 'change')\n     * @param {function} handler function object to remove\n     * @return {EventHandler} internal event handler object (for chaining)\n     */\n    OptionsManager.prototype.removeListener = function removeListener() {\n        _createEventOutput.call(this);\n        return this.removeListener.apply(this, arguments);\n    };\n\n    /**\n     * Add event handler object to set of downstream handlers.\n     *\n     * @method pipe\n     *\n     * @param {EventHandler} target event handler target object\n     * @return {EventHandler} passed event handler\n     */\n    OptionsManager.prototype.pipe = function pipe() {\n        _createEventOutput.call(this);\n        return this.pipe.apply(this, arguments);\n    };\n\n    /**\n     * Remove handler object from set of downstream handlers.\n     * Undoes work of \"pipe\"\n     *\n     * @method unpipe\n     *\n     * @param {EventHandler} target target handler object\n     * @return {EventHandler} provided target\n     */\n    OptionsManager.prototype.unpipe = function unpipe() {\n        _createEventOutput.call(this);\n        return this.unpipe.apply(this, arguments);\n    };\n\n    module.exports = OptionsManager;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/OptionsManager.js\n ** module id = 25\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n    var View = require('famous/core/View');\n    var Engine = require('famous/core/Engine');\n    var Surface = require('famous/core/Surface');\n    var Transform = require('famous/core/Transform');\n    var StateModifier = require('famous/modifiers/StateModifier');\n    var ImageSurface = require('famous/surfaces/ImageSurface');\n    var Utility = require('famous/utilities/Utility');\n\n    var VirtualViewSequence = require('famous-flex/VirtualViewSequence');\n    var FlexScrollView = require('famous-flex/FlexScrollView');\n\n    var _ = require('lodash');\n\n    function AdsFactory() {}\n\n    AdsFactory.prototype.create = function(index) {\n        var imgSurface = new ImageSurface({\n            content: require('content/whatsdota.jpg'),\n            properties: {\n                pointerEvents: 'none'\n            }\n        });\n        imgSurface.index = index || 0;\n        return imgSurface;\n    };\n\n    AdsFactory.prototype.createNext = function(renderable) {\n        return this.create(renderable.index + 1);\n    };\n\n    AdsFactory.prototype.createPrevious = function(renderable) {\n        return this.create(renderable.index - 1);\n    };\n\n    function AdsMovingVars() {\n        this.speed = 100;\n        this.spacing = 0;\n        this.isMoving = false;\n    }\n\n    /*\n     * @name AdsWall\n     * @constructor\n     * @description\n     * created by View.template\n     */\n\n    function AdsWall () {\n        View.apply(this, arguments);\n\n        var viewSequence = new VirtualViewSequence({\n            factory: new AdsFactory()\n        });\n\n        var layout = new FlexScrollView({\n            dataSource: viewSequence,\n            mouseMove: true,\n            // autoPipeEvents: true,\n            useContainer: true,\n            direction: Utility.Direction.X\n        });\n        this.layout = layout;\n\n        this.add(layout);\n\n        this.movingVars = new AdsMovingVars();\n\n        Engine.on('prerender', function() {\n            var movingVars = this.movingVars;\n            this.layout.setOptions({\n                layoutOptions: {\n                    spacing: movingVars.spacing\n                }\n            });\n            if(movingVars.isMoving) {\n                var deltaTime = Engine.frameTime;\n                var deltaDistance = deltaTime * movingVars.speed;\n                this.layout.scroll(deltaDistance);\n            }\n        }.bind(this));\n    }\n\n    AdsWall.prototype = Object.create(View.prototype);\n    AdsWall.prototype.constructor = AdsWall;\n\n    AdsWall.prototype.getMovingVars = function() {\n        return this.movingVars;\n    };\n\n    AdsWall.DEFAULT_OPTIONS = {\n        // speed: \n    };\n\n    module.exports = AdsWall;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/AdsWall.js\n ** module id = 26\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var EventHandler = require('./EventHandler');\n    var OptionsManager = require('./OptionsManager');\n    var RenderNode = require('./RenderNode');\n    var Utility = require('../utilities/Utility');\n\n    /**\n     * Useful for quickly creating elements within applications\n     *   with large event systems.  Consists of a RenderNode paired with\n     *   an input EventHandler and an output EventHandler.\n     *   Meant to be extended by the developer.\n     *\n     * @class View\n     * @uses EventHandler\n     * @uses OptionsManager\n     * @uses RenderNode\n     * @constructor\n     */\n    function View(options) {\n        this._node = new RenderNode();\n\n        this._eventInput = new EventHandler();\n        this._eventOutput = new EventHandler();\n        EventHandler.setInputHandler(this, this._eventInput);\n        EventHandler.setOutputHandler(this, this._eventOutput);\n\n        this.options = Utility.clone(this.constructor.DEFAULT_OPTIONS || View.DEFAULT_OPTIONS);\n        this._optionsManager = new OptionsManager(this.options);\n\n        if (options) this.setOptions(options);\n    }\n\n    View.DEFAULT_OPTIONS = {}; // no defaults\n\n    /**\n     * Look up options value by key\n     * @method getOptions\n     *\n     * @param {string} key key\n     * @return {Object} associated object\n     */\n    View.prototype.getOptions = function getOptions(key) {\n        return this._optionsManager.getOptions(key);\n    };\n\n    /*\n     *  Set internal options.\n     *  No defaults options are set in View.\n     *\n     *  @method setOptions\n     *  @param {Object} options\n     */\n    View.prototype.setOptions = function setOptions(options) {\n        this._optionsManager.patch(options);\n    };\n\n    /**\n     * Add a child renderable to the view.\n     *   Note: This is meant to be used by an inheriting class\n     *   rather than from outside the prototype chain.\n     *\n     * @method add\n     * @return {RenderNode}\n     * @protected\n     */\n    View.prototype.add = function add() {\n        return this._node.add.apply(this._node, arguments);\n    };\n\n    /**\n     * Alias for add\n     * @method _add\n     */\n    View.prototype._add = View.prototype.add;\n\n    /**\n     * Generate a render spec from the contents of this component.\n     *\n     * @private\n     * @method render\n     * @return {number} Render spec for this component\n     */\n    View.prototype.render = function render() {\n        return this._node.render();\n    };\n\n    /**\n     * Return size of contained element.\n     *\n     * @method getSize\n     * @return {Array.Number} [width, height]\n     */\n    View.prototype.getSize = function getSize() {\n        if (this._node && this._node.getSize) {\n            return this._node.getSize.apply(this._node, arguments) || this.options.size;\n        }\n        else return this.options.size;\n    };\n\n    module.exports = View;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/View.js\n ** module id = 27\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var ElementOutput = require('./ElementOutput');\n\n    /**\n     * A base class for viewable content and event\n     *   targets inside a Famo.us application, containing a renderable document\n     *   fragment. Like an HTML div, it can accept internal markup,\n     *   properties, classes, and handle events.\n     *\n     * @class Surface\n     * @constructor\n     *\n     * @param {Object} [options] default option overrides\n     * @param {Array.Number} [options.size] [width, height] in pixels\n     * @param {Array.string} [options.classes] CSS classes to set on target div\n     * @param {Array} [options.properties] string dictionary of CSS properties to set on target div\n     * @param {Array} [options.attributes] string dictionary of HTML attributes to set on target div\n     * @param {string} [options.content] inner (HTML) content of surface\n     */\n    function Surface(options) {\n        ElementOutput.call(this);\n\n        this.options = {};\n\n        this.properties = {};\n        this.attributes = {};\n        this.content = '';\n        this.classList = [];\n        this.size = null;\n\n        this._classesDirty = true;\n        this._stylesDirty = true;\n        this._attributesDirty = true;\n        this._sizeDirty = true;\n        this._contentDirty = true;\n        this._trueSizeCheck = true;\n\n        this._dirtyClasses = [];\n\n        if (options) this.setOptions(options);\n\n        this._currentTarget = null;\n    }\n    Surface.prototype = Object.create(ElementOutput.prototype);\n    Surface.prototype.constructor = Surface;\n    Surface.prototype.elementType = 'div';\n    Surface.prototype.elementClass = 'famous-surface';\n\n    /**\n     * Set HTML attributes on this Surface. Note that this will cause\n     *    dirtying and thus re-rendering, even if values do not change.\n     *\n     * @method setAttributes\n    * @param {Object} attributes property dictionary of \"key\" => \"value\"\n     */\n    Surface.prototype.setAttributes = function setAttributes(attributes) {\n        for (var n in attributes) {\n            if (n === 'style') throw new Error('Cannot set styles via \"setAttributes\" as it will break Famo.us.  Use \"setProperties\" instead.');\n            this.attributes[n] = attributes[n];\n        }\n        this._attributesDirty = true;\n    };\n\n    /**\n     * Get HTML attributes on this Surface.\n     *\n     * @method getAttributes\n     *\n     * @return {Object} Dictionary of this Surface's attributes.\n     */\n    Surface.prototype.getAttributes = function getAttributes() {\n        return this.attributes;\n    };\n\n    /**\n     * Set CSS-style properties on this Surface. Note that this will cause\n     *    dirtying and thus re-rendering, even if values do not change.\n     *\n     * @method setProperties\n     * @chainable\n     * @param {Object} properties property dictionary of \"key\" => \"value\"\n     */\n    Surface.prototype.setProperties = function setProperties(properties) {\n        for (var n in properties) {\n            this.properties[n] = properties[n];\n        }\n        this._stylesDirty = true;\n        return this;\n    };\n\n    /**\n     * Get CSS-style properties on this Surface.\n     *\n     * @method getProperties\n     *\n     * @return {Object} Dictionary of this Surface's properties.\n     */\n    Surface.prototype.getProperties = function getProperties() {\n        return this.properties;\n    };\n\n    /**\n     * Add CSS-style class to the list of classes on this Surface. Note\n     *   this will map directly to the HTML property of the actual\n     *   corresponding rendered <div>.\n     *\n     * @method addClass\n     * @chainable\n     * @param {string} className name of class to add\n     */\n    Surface.prototype.addClass = function addClass(className) {\n        if (this.classList.indexOf(className) < 0) {\n            this.classList.push(className);\n            this._classesDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Remove CSS-style class from the list of classes on this Surface.\n     *   Note this will map directly to the HTML property of the actual\n     *   corresponding rendered <div>.\n     *\n     * @method removeClass\n     * @chainable\n     * @param {string} className name of class to remove\n     */\n    Surface.prototype.removeClass = function removeClass(className) {\n        var i = this.classList.indexOf(className);\n        if (i >= 0) {\n            this._dirtyClasses.push(this.classList.splice(i, 1)[0]);\n            this._classesDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Toggle CSS-style class from the list of classes on this Surface.\n     *   Note this will map directly to the HTML property of the actual\n     *   corresponding rendered <div>.\n     *\n     * @method toggleClass\n     * @param {string} className name of class to toggle\n     */\n    Surface.prototype.toggleClass = function toggleClass(className) {\n        var i = this.classList.indexOf(className);\n        if (i >= 0) {\n            this.removeClass(className);\n        } else {\n            this.addClass(className);\n        }\n        return this;\n    };\n\n    /**\n     * Reset class list to provided dictionary.\n     * @method setClasses\n     * @chainable\n     * @param {Array.string} classList\n     */\n    Surface.prototype.setClasses = function setClasses(classList) {\n        var i = 0;\n        var removal = [];\n        for (i = 0; i < this.classList.length; i++) {\n            if (classList.indexOf(this.classList[i]) < 0) removal.push(this.classList[i]);\n        }\n        for (i = 0; i < removal.length; i++) this.removeClass(removal[i]);\n        // duplicates are already checked by addClass()\n        for (i = 0; i < classList.length; i++) this.addClass(classList[i]);\n        return this;\n    };\n\n    /**\n     * Get array of CSS-style classes attached to this div.\n     *\n     * @method getClasslist\n     * @return {Array.string} array of class names\n     */\n    Surface.prototype.getClassList = function getClassList() {\n        return this.classList;\n    };\n\n    /**\n     * Set or overwrite inner (HTML) content of this surface. Note that this\n     *    causes a re-rendering if the content has changed.\n     *\n     * @method setContent\n     * @chainable\n     * @param {string|Document Fragment} content HTML content\n     */\n    Surface.prototype.setContent = function setContent(content) {\n        if (this.content !== content) {\n            this.content = content;\n            this._contentDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Return inner (HTML) content of this surface.\n     *\n     * @method getContent\n     *\n     * @return {string} inner (HTML) content\n     */\n    Surface.prototype.getContent = function getContent() {\n        return this.content;\n    };\n\n    /**\n     * Set options for this surface\n     *\n     * @method setOptions\n     * @chainable\n     * @param {Object} [options] overrides for default options.  See constructor.\n     */\n    Surface.prototype.setOptions = function setOptions(options) {\n        if (options.size) this.setSize(options.size);\n        if (options.classes) this.setClasses(options.classes);\n        if (options.properties) this.setProperties(options.properties);\n        if (options.attributes) this.setAttributes(options.attributes);\n        if (options.content) this.setContent(options.content);\n        return this;\n    };\n\n    //  Apply to document all changes from removeClass() since last setup().\n    function _cleanupClasses(target) {\n        for (var i = 0; i < this._dirtyClasses.length; i++) target.classList.remove(this._dirtyClasses[i]);\n        this._dirtyClasses = [];\n    }\n\n    // Apply values of all Famous-managed styles to the document element.\n    //  These will be deployed to the document on call to #setup().\n    function _applyStyles(target) {\n        for (var n in this.properties) {\n            target.style[n] = this.properties[n];\n        }\n    }\n\n    // Clear all Famous-managed styles from the document element.\n    // These will be deployed to the document on call to #setup().\n    function _cleanupStyles(target) {\n        for (var n in this.properties) {\n            target.style[n] = '';\n        }\n    }\n\n    // Apply values of all Famous-managed attributes to the document element.\n    //  These will be deployed to the document on call to #setup().\n    function _applyAttributes(target) {\n        for (var n in this.attributes) {\n            target.setAttribute(n, this.attributes[n]);\n        }\n    }\n\n    // Clear all Famous-managed attributes from the document element.\n    // These will be deployed to the document on call to #setup().\n    function _cleanupAttributes(target) {\n        for (var n in this.attributes) {\n            target.removeAttribute(n);\n        }\n    }\n\n    function _xyNotEquals(a, b) {\n        return (a && b) ? (a[0] !== b[0] || a[1] !== b[1]) : a !== b;\n    }\n\n    /**\n     * One-time setup for an element to be ready for commits to document.\n     *\n     * @private\n     * @method setup\n     *\n     * @param {ElementAllocator} allocator document element pool for this context\n     */\n    Surface.prototype.setup = function setup(allocator) {\n        var target = allocator.allocate(this.elementType);\n        if (this.elementClass) {\n            if (this.elementClass instanceof Array) {\n                for (var i = 0; i < this.elementClass.length; i++) {\n                    target.classList.add(this.elementClass[i]);\n                }\n            }\n            else {\n                target.classList.add(this.elementClass);\n            }\n        }\n        target.style.display = '';\n        this.attach(target);\n        this._opacity = null;\n        this._currentTarget = target;\n        this._stylesDirty = true;\n        this._classesDirty = true;\n        this._attributesDirty = true;\n        this._sizeDirty = true;\n        this._contentDirty = true;\n        this._originDirty = true;\n        this._transformDirty = true;\n    };\n\n    /**\n     * Apply changes from this component to the corresponding document element.\n     * This includes changes to classes, styles, size, content, opacity, origin,\n     * and matrix transforms.\n     *\n     * @private\n     * @method commit\n     * @param {Context} context commit context\n     */\n    Surface.prototype.commit = function commit(context) {\n        if (!this._currentTarget) this.setup(context.allocator);\n        var target = this._currentTarget;\n        var size = context.size;\n\n        if (this._classesDirty) {\n            _cleanupClasses.call(this, target);\n            var classList = this.getClassList();\n            for (var i = 0; i < classList.length; i++) target.classList.add(classList[i]);\n            this._classesDirty = false;\n            this._trueSizeCheck = true;\n        }\n\n        if (this._stylesDirty) {\n            _applyStyles.call(this, target);\n            this._stylesDirty = false;\n            this._trueSizeCheck = true;\n        }\n\n        if (this._attributesDirty) {\n            _applyAttributes.call(this, target);\n            this._attributesDirty = false;\n            this._trueSizeCheck = true;\n        }\n\n        if (this.size) {\n            var origSize = context.size;\n            size = [this.size[0], this.size[1]];\n            if (size[0] === undefined) size[0] = origSize[0];\n            if (size[1] === undefined) size[1] = origSize[1];\n            if (size[0] === true || size[1] === true) {\n                if (size[0] === true){\n                    if (this._trueSizeCheck || (this._size[0] === 0)) {\n                        var width = target.offsetWidth;\n                        if (this._size && this._size[0] !== width) {\n                            this._size[0] = width;\n                            this._sizeDirty = true;\n                        }\n                        size[0] = width;\n                    } else {\n                        if (this._size) size[0] = this._size[0];\n                    }\n                }\n                if (size[1] === true){\n                    if (this._trueSizeCheck || (this._size[1] === 0)) {\n                        var height = target.offsetHeight;\n                        if (this._size && this._size[1] !== height) {\n                            this._size[1] = height;\n                            this._sizeDirty = true;\n                        }\n                        size[1] = height;\n                    } else {\n                        if (this._size) size[1] = this._size[1];\n                    }\n                }\n                this._trueSizeCheck = false;\n            }\n        }\n\n        if (_xyNotEquals(this._size, size)) {\n            if (!this._size) this._size = [0, 0];\n            this._size[0] = size[0];\n            this._size[1] = size[1];\n\n            this._sizeDirty = true;\n        }\n\n        if (this._sizeDirty) {\n            if (this._size) {\n                target.style.width = (this.size && this.size[0] === true) ? '' : this._size[0] + 'px';\n                target.style.height = (this.size && this.size[1] === true) ?  '' : this._size[1] + 'px';\n            }\n\n            this._eventOutput.emit('resize');\n        }\n\n        if (this._contentDirty) {\n            this.deploy(target);\n            this._eventOutput.emit('deploy');\n            this._contentDirty = false;\n            this._trueSizeCheck = true;\n        }\n\n        ElementOutput.prototype.commit.call(this, context);\n    };\n\n    /**\n     *  Remove all Famous-relevant attributes from a document element.\n     *    This is called by SurfaceManager's detach().\n     *    This is in some sense the reverse of .deploy().\n     *\n     * @private\n     * @method cleanup\n     * @param {ElementAllocator} allocator\n     */\n    Surface.prototype.cleanup = function cleanup(allocator) {\n        var i = 0;\n        var target = this._currentTarget;\n        this._eventOutput.emit('recall');\n        this.recall(target);\n        target.style.display = 'none';\n        target.style.opacity = '';\n        target.style.width = '';\n        target.style.height = '';\n        _cleanupStyles.call(this, target);\n        _cleanupAttributes.call(this, target);\n        var classList = this.getClassList();\n        _cleanupClasses.call(this, target);\n        for (i = 0; i < classList.length; i++) target.classList.remove(classList[i]);\n        if (this.elementClass) {\n            if (this.elementClass instanceof Array) {\n                for (i = 0; i < this.elementClass.length; i++) {\n                    target.classList.remove(this.elementClass[i]);\n                }\n            }\n            else {\n                target.classList.remove(this.elementClass);\n            }\n        }\n        this.detach(target);\n        this._currentTarget = null;\n        allocator.deallocate(target);\n    };\n\n    /**\n     * Place the document element that this component manages into the document.\n     *\n     * @private\n     * @method deploy\n     * @param {Node} target document parent of this container\n     */\n    Surface.prototype.deploy = function deploy(target) {\n        var content = this.getContent();\n        if (content instanceof Node) {\n            while (target.hasChildNodes()) target.removeChild(target.firstChild);\n            target.appendChild(content);\n        }\n        else target.innerHTML = content;\n    };\n\n    /**\n     * Remove any contained document content associated with this surface\n     *   from the actual document.\n     *\n     * @private\n     * @method recall\n     */\n    Surface.prototype.recall = function recall(target) {\n        var df = document.createDocumentFragment();\n        while (target.hasChildNodes()) df.appendChild(target.firstChild);\n        this.setContent(df);\n    };\n\n    /**\n     *  Get the x and y dimensions of the surface.\n     *\n     * @method getSize\n     * @return {Array.Number} [x,y] size of surface\n     */\n    Surface.prototype.getSize = function getSize() {\n        return this._size ? this._size : this.size;\n    };\n\n    /**\n     * Set x and y dimensions of the surface.\n     *\n     * @method setSize\n     * @chainable\n     * @param {Array.Number} size as [width, height]\n     */\n    Surface.prototype.setSize = function setSize(size) {\n        this.size = size ? [size[0], size[1]] : null;\n        this._sizeDirty = true;\n        return this;\n    };\n\n    module.exports = Surface;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Surface.js\n ** module id = 28\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Entity = require('./Entity');\n    var EventHandler = require('./EventHandler');\n    var Transform = require('./Transform');\n\n    var usePrefix = !('transform' in document.documentElement.style);\n    var devicePixelRatio = window.devicePixelRatio || 1;\n\n    /**\n     * A base class for viewable content and event\n     *   targets inside a Famo.us application, containing a renderable document\n     *   fragment. Like an HTML div, it can accept internal markup,\n     *   properties, classes, and handle events.\n     *\n     * @class ElementOutput\n     * @constructor\n     *\n     * @param {Node} element document parent of this container\n     */\n    function ElementOutput(element) {\n        this._matrix = null;\n        this._opacity = 1;\n        this._origin = null;\n        this._size = null;\n\n        this._eventOutput = new EventHandler();\n        this._eventOutput.bindThis(this);\n\n        /** @ignore */\n        this.eventForwarder = function eventForwarder(event) {\n            this._eventOutput.emit(event.type, event);\n        }.bind(this);\n\n        this.id = Entity.register(this);\n        this._element = null;\n        this._sizeDirty = false;\n        this._originDirty = false;\n        this._transformDirty = false;\n\n        this._invisible = false;\n        if (element) this.attach(element);\n    }\n\n    /**\n     * Bind a callback function to an event type handled by this object.\n     *\n     * @method \"on\"\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} fn handler callback\n     * @return {EventHandler} this\n     */\n    ElementOutput.prototype.on = function on(type, fn) {\n        if (this._element) this._element.addEventListener(type, this.eventForwarder);\n        this._eventOutput.on(type, fn);\n    };\n\n    /**\n     * Unbind an event by type and handler.\n     *   This undoes the work of \"on\"\n     *\n     * @method removeListener\n     * @param {string} type event type key (for example, 'click')\n     * @param {function(string, Object)} fn handler\n     */\n    ElementOutput.prototype.removeListener = function removeListener(type, fn) {\n        this._eventOutput.removeListener(type, fn);\n    };\n\n    /**\n     * Trigger an event, sending to all downstream handlers\n     *   listening for provided 'type' key.\n     *\n     * @method emit\n     *\n     * @param {string} type event type key (for example, 'click')\n     * @param {Object} [event] event data\n     * @return {EventHandler} this\n     */\n    ElementOutput.prototype.emit = function emit(type, event) {\n        if (event && !event.origin) event.origin = this;\n        var handled = this._eventOutput.emit(type, event);\n        if (handled && event && event.stopPropagation) event.stopPropagation();\n        return handled;\n    };\n\n    /**\n     * Add event handler object to set of downstream handlers.\n     *\n     * @method pipe\n     *\n     * @param {EventHandler} target event handler target object\n     * @return {EventHandler} passed event handler\n     */\n    ElementOutput.prototype.pipe = function pipe(target) {\n        return this._eventOutput.pipe(target);\n    };\n\n    /**\n     * Remove handler object from set of downstream handlers.\n     *   Undoes work of \"pipe\"\n     *\n     * @method unpipe\n     *\n     * @param {EventHandler} target target handler object\n     * @return {EventHandler} provided target\n     */\n    ElementOutput.prototype.unpipe = function unpipe(target) {\n        return this._eventOutput.unpipe(target);\n    };\n\n    /**\n     * Return spec for this surface. Note that for a base surface, this is\n     *    simply an id.\n     *\n     * @method render\n     * @private\n     * @return {Object} render spec for this surface (spec id)\n     */\n    ElementOutput.prototype.render = function render() {\n        return this.id;\n    };\n\n    //  Attach Famous event handling to document events emanating from target\n    //    document element.  This occurs just after attachment to the document.\n    //    Calling this enables methods like #on and #pipe.\n    function _addEventListeners(target) {\n        for (var i in this._eventOutput.listeners) {\n            target.addEventListener(i, this.eventForwarder);\n        }\n    }\n\n    //  Detach Famous event handling from document events emanating from target\n    //  document element.  This occurs just before detach from the document.\n    function _removeEventListeners(target) {\n        for (var i in this._eventOutput.listeners) {\n            target.removeEventListener(i, this.eventForwarder);\n        }\n    }\n\n    /**\n     * Return a Matrix's webkit css representation to be used with the\n     *    CSS3 -webkit-transform style.\n     *    Example: -webkit-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,716,243,0,1)\n     *\n     * @method _formatCSSTransform\n     * @private\n     * @param {FamousMatrix} m matrix\n     * @return {string} matrix3d CSS style representation of the transform\n     */\n    function _formatCSSTransform(m) {\n        m[12] = Math.round(m[12] * devicePixelRatio) / devicePixelRatio;\n        m[13] = Math.round(m[13] * devicePixelRatio) / devicePixelRatio;\n\n        var result = 'matrix3d(';\n        for (var i = 0; i < 15; i++) {\n            result += (m[i] < 0.000001 && m[i] > -0.000001) ? '0,' : m[i] + ',';\n        }\n        result += m[15] + ')';\n        return result;\n    }\n\n    /**\n     * Directly apply given FamousMatrix to the document element as the\n     *   appropriate webkit CSS style.\n     *\n     * @method setMatrix\n     *\n     * @static\n     * @private\n     * @param {Element} element document element\n     * @param {FamousMatrix} matrix\n     */\n\n    var _setMatrix;\n    if (usePrefix) {\n        _setMatrix = function(element, matrix) {\n            element.style.webkitTransform = _formatCSSTransform(matrix);\n        };\n    }\n    else {\n        _setMatrix = function(element, matrix) {\n            element.style.transform = _formatCSSTransform(matrix);\n        };\n    }\n\n    // format origin as CSS percentage string\n    function _formatCSSOrigin(origin) {\n        return (100 * origin[0]) + '% ' + (100 * origin[1]) + '%';\n    }\n\n    // Directly apply given origin coordinates to the document element as the\n    // appropriate webkit CSS style.\n    var _setOrigin = usePrefix ? function(element, origin) {\n        element.style.webkitTransformOrigin = _formatCSSOrigin(origin);\n    } : function(element, origin) {\n        element.style.transformOrigin = _formatCSSOrigin(origin);\n    };\n\n    // Shrink given document element until it is effectively invisible.\n    var _setInvisible = usePrefix ? function(element) {\n        element.style.webkitTransform = 'scale3d(0.0001,0.0001,0.0001)';\n        element.style.opacity = 0;\n    } : function(element) {\n        element.style.transform = 'scale3d(0.0001,0.0001,0.0001)';\n        element.style.opacity = 0;\n    };\n\n    function _xyNotEquals(a, b) {\n        return (a && b) ? (a[0] !== b[0] || a[1] !== b[1]) : a !== b;\n    }\n\n    /**\n     * Apply changes from this component to the corresponding document element.\n     * This includes changes to classes, styles, size, content, opacity, origin,\n     * and matrix transforms.\n     *\n     * @private\n     * @method commit\n     * @param {Context} context commit context\n     */\n    ElementOutput.prototype.commit = function commit(context) {\n        var target = this._element;\n        if (!target) return;\n\n        var matrix = context.transform;\n        var opacity = context.opacity;\n        var origin = context.origin;\n        var size = context.size;\n\n        if (!matrix && this._matrix) {\n            this._matrix = null;\n            this._opacity = 0;\n            _setInvisible(target);\n            return;\n        }\n\n        if (_xyNotEquals(this._origin, origin)) this._originDirty = true;\n        if (Transform.notEquals(this._matrix, matrix)) this._transformDirty = true;\n\n        if (this._invisible) {\n            this._invisible = false;\n            this._element.style.display = '';\n        }\n\n        if (this._opacity !== opacity) {\n            this._opacity = opacity;\n            target.style.opacity = (opacity >= 1) ? '0.999999' : opacity;\n        }\n\n        if (this._transformDirty || this._originDirty || this._sizeDirty) {\n            if (this._sizeDirty) this._sizeDirty = false;\n\n            if (this._originDirty) {\n                if (origin) {\n                    if (!this._origin) this._origin = [0, 0];\n                    this._origin[0] = origin[0];\n                    this._origin[1] = origin[1];\n                }\n                else this._origin = null;\n                _setOrigin(target, this._origin);\n                this._originDirty = false;\n            }\n\n            if (!matrix) matrix = Transform.identity;\n            this._matrix = matrix;\n            var aaMatrix = this._size ? Transform.thenMove(matrix, [-this._size[0]*origin[0], -this._size[1]*origin[1], 0]) : matrix;\n            _setMatrix(target, aaMatrix);\n            this._transformDirty = false;\n        }\n    };\n\n    ElementOutput.prototype.cleanup = function cleanup() {\n        if (this._element) {\n            this._invisible = true;\n            this._element.style.display = 'none';\n        }\n    };\n\n    /**\n     * Place the document element that this component manages into the document.\n     *\n     * @private\n     * @method attach\n     * @param {Node} target document parent of this container\n     */\n    ElementOutput.prototype.attach = function attach(target) {\n        this._element = target;\n        _addEventListeners.call(this, target);\n    };\n\n    /**\n     * Remove any contained document content associated with this surface\n     *   from the actual document.\n     *\n     * @private\n     * @method detach\n     */\n    ElementOutput.prototype.detach = function detach() {\n        var target = this._element;\n        if (target) {\n            _removeEventListeners.call(this, target);\n            if (this._invisible) {\n                this._invisible = false;\n                this._element.style.display = '';\n            }\n        }\n        this._element = null;\n        return target;\n    };\n\n    module.exports = ElementOutput;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/ElementOutput.js\n ** module id = 29\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Modifier = require('../core/Modifier');\n    var Transform = require('../core/Transform');\n    var Transitionable = require('../transitions/Transitionable');\n    var TransitionableTransform = require('../transitions/TransitionableTransform');\n\n    /**\n     *  A collection of visual changes to be\n     *    applied to another renderable component, strongly coupled with the state that defines\n     *    those changes. This collection includes a\n     *    transform matrix, an opacity constant, a size, an origin specifier, and an alignment specifier.\n     *    StateModifier objects can be added to any RenderNode or object\n     *    capable of displaying renderables.  The StateModifier's children and descendants\n     *    are transformed by the amounts specified in the modifier's properties.\n     *\n     * @class StateModifier\n     * @constructor\n     * @param {Object} [options] overrides of default options\n     * @param {Transform} [options.transform] affine transformation matrix\n     * @param {Number} [options.opacity]\n     * @param {Array.Number} [options.origin] origin adjustment\n     * @param {Array.Number} [options.align] align adjustment\n     * @param {Array.Number} [options.size] size to apply to descendants\n     * @param {Array.Number} [options.propportions] proportions to apply to descendants\n     */\n    function StateModifier(options) {\n        this._transformState = new TransitionableTransform(Transform.identity);\n        this._opacityState = new Transitionable(1);\n        this._originState = new Transitionable([0, 0]);\n        this._alignState = new Transitionable([0, 0]);\n        this._sizeState = new Transitionable([0, 0]);\n        this._proportionsState = new Transitionable([0, 0]);\n\n        this._modifier = new Modifier({\n            transform: this._transformState,\n            opacity: this._opacityState,\n            origin: null,\n            align: null,\n            size: null,\n            proportions: null\n        });\n\n        this._hasOrigin = false;\n        this._hasAlign = false;\n        this._hasSize = false;\n        this._hasProportions = false;\n\n        if (options) {\n            if (options.transform) this.setTransform(options.transform);\n            if (options.opacity !== undefined) this.setOpacity(options.opacity);\n            if (options.origin) this.setOrigin(options.origin);\n            if (options.align) this.setAlign(options.align);\n            if (options.size) this.setSize(options.size);\n            if (options.proportions) this.setProportions(options.proportions);\n        }\n    }\n\n    /**\n     * Set the transform matrix of this modifier, either statically or\n     *   through a provided Transitionable.\n     *\n     * @method setTransform\n     *\n     * @param {Transform} transform Transform to transition to.\n     * @param {Transitionable} transition object of type {duration: number, curve:\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\n     *    instantaneous.\n     * @param {Function} [callback] callback to call after transition completes\n     * @return {StateModifier} this\n     */\n    StateModifier.prototype.setTransform = function setTransform(transform, transition, callback) {\n        this._transformState.set(transform, transition, callback);\n        return this;\n    };\n\n    /**\n     * Set the opacity of this modifier, either statically or\n     *   through a provided Transitionable.\n     *\n     * @method setOpacity\n     *\n     * @param {Number} opacity Opacity value to transition to.\n     * @param {Transitionable} transition object of type {duration: number, curve:\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\n     *    instantaneous.\n     * @param {Function} callback callback to call after transition completes\n     * @return {StateModifier} this\n     */\n    StateModifier.prototype.setOpacity = function setOpacity(opacity, transition, callback) {\n        this._opacityState.set(opacity, transition, callback);\n        return this;\n    };\n\n    /**\n     * Set the origin of this modifier, either statically or\n     *   through a provided Transitionable.\n     *\n     * @method setOrigin\n     *\n     * @param {Array.Number} origin two element array with values between 0 and 1.\n     * @param {Transitionable} transition object of type {duration: number, curve:\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\n     *    instantaneous.\n     * @param {Function} callback callback to call after transition completes\n     * @return {StateModifier} this\n     */\n    StateModifier.prototype.setOrigin = function setOrigin(origin, transition, callback) {\n        if (origin === null) {\n            if (this._hasOrigin) {\n                this._modifier.originFrom(null);\n                this._hasOrigin = false;\n            }\n            return this;\n        }\n        else if (!this._hasOrigin) {\n            this._hasOrigin = true;\n            this._modifier.originFrom(this._originState);\n        }\n        this._originState.set(origin, transition, callback);\n        return this;\n    };\n\n    /**\n     * Set the alignment of this modifier, either statically or\n     *   through a provided Transitionable.\n     *\n     * @method setAlign\n     *\n     * @param {Array.Number} align two element array with values between 0 and 1.\n     * @param {Transitionable} transition object of type {duration: number, curve:\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\n     *    instantaneous.\n     * @param {Function} callback callback to call after transition completes\n     * @return {StateModifier} this\n     */\n    StateModifier.prototype.setAlign = function setOrigin(align, transition, callback) {\n        if (align === null) {\n            if (this._hasAlign) {\n                this._modifier.alignFrom(null);\n                this._hasAlign = false;\n            }\n            return this;\n        }\n        else if (!this._hasAlign) {\n            this._hasAlign = true;\n            this._modifier.alignFrom(this._alignState);\n        }\n        this._alignState.set(align, transition, callback);\n        return this;\n    };\n\n    /**\n     * Set the size of this modifier, either statically or\n     *   through a provided Transitionable.\n     *\n     * @method setSize\n     *\n     * @param {Array.Number} size two element array of [width, height]\n     * @param {Transitionable} transition object of type {duration: number, curve:\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\n     *    instantaneous.\n     * @param {Function} callback callback to call after transition completes\n     * @return {StateModifier} this\n     */\n    StateModifier.prototype.setSize = function setSize(size, transition, callback) {\n        if (size === null) {\n            if (this._hasSize) {\n                this._modifier.sizeFrom(null);\n                this._hasSize = false;\n            }\n            return this;\n        }\n        else if (!this._hasSize) {\n            this._hasSize = true;\n            this._modifier.sizeFrom(this._sizeState);\n        }\n        this._sizeState.set(size, transition, callback);\n        return this;\n    };\n\n    /**\n     * Set the proportions of this modifier, either statically or\n     *   through a provided Transitionable.\n     *\n     * @method setProportions\n     *\n     * @param {Array.Number} proportions two element array with values between 0 and 1.\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {StateModifier} this\n     */\n    StateModifier.prototype.setProportions = function setSize(proportions, transition, callback) {\n        if (proportions === null) {\n            if (this._hasProportions) {\n                this._modifier.proportionsFrom(null);\n                this._hasProportions = false;\n            }\n            return this;\n        }\n        else if (!this._hasProportions) {\n            this._hasProportions = true;\n            this._modifier.proportionsFrom(this._proportionsState);\n        }\n        this._proportionsState.set(proportions, transition, callback);\n        return this;\n    };\n\n    /**\n     * Stop the transition.\n     *\n     * @method halt\n     */\n    StateModifier.prototype.halt = function halt() {\n        this._transformState.halt();\n        this._opacityState.halt();\n        this._originState.halt();\n        this._alignState.halt();\n        this._sizeState.halt();\n        this._proportionsState.halt();\n    };\n\n    /**\n     * Get the current state of the transform matrix component.\n     *\n     * @method getTransform\n     * @return {Object} transform provider object\n     */\n    StateModifier.prototype.getTransform = function getTransform() {\n        return this._transformState.get();\n    };\n\n    /**\n     * Get the destination state of the transform component.\n     *\n     * @method getFinalTransform\n     * @return {Transform} transform matrix\n     */\n    StateModifier.prototype.getFinalTransform = function getFinalTransform() {\n        return this._transformState.getFinal();\n    };\n\n    /**\n     * Get the current state of the opacity component.\n     *\n     * @method getOpacity\n     * @return {Object} opacity provider object\n     */\n    StateModifier.prototype.getOpacity = function getOpacity() {\n        return this._opacityState.get();\n    };\n\n    /**\n     * Get the current state of the origin component.\n     *\n     * @method getOrigin\n     * @return {Object} origin provider object\n     */\n    StateModifier.prototype.getOrigin = function getOrigin() {\n        return this._hasOrigin ? this._originState.get() : null;\n    };\n\n    /**\n     * Get the current state of the align component.\n     *\n     * @method getAlign\n     * @return {Object} align provider object\n     */\n    StateModifier.prototype.getAlign = function getAlign() {\n        return this._hasAlign ? this._alignState.get() : null;\n    };\n\n    /**\n     * Get the current state of the size component.\n     *\n     * @method getSize\n     * @return {Object} size provider object\n     */\n    StateModifier.prototype.getSize = function getSize() {\n        return this._hasSize ? this._sizeState.get() : null;\n    };\n\n    /**\n     * Get the current state of the propportions component.\n     *\n     * @method getProportions\n     * @return {Object} size provider object\n     */\n    StateModifier.prototype.getProportions = function getProportions() {\n        return this._hasProportions ? this._proportionsState.get() : null;\n    };\n\n    /**\n     * Return render spec for this StateModifier, applying to the provided\n     *    target component.  This is similar to render() for Surfaces.\n     *\n     * @private\n     * @method modify\n     *\n     * @param {Object} target (already rendered) render spec to\n     *    which to apply the transform.\n     * @return {Object} render spec for this StateModifier, including the\n     *    provided target\n     */\n    StateModifier.prototype.modify = function modify(target) {\n        return this._modifier.modify(target);\n    };\n\n    module.exports = StateModifier;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/modifiers/StateModifier.js\n ** module id = 30\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Transform = require('./Transform');\n\n    /* TODO: remove these dependencies when deprecation complete */\n    var Transitionable = require('../transitions/Transitionable');\n    var TransitionableTransform = require('../transitions/TransitionableTransform');\n\n    /**\n     *\n     *  A collection of visual changes to be\n     *    applied to another renderable component. This collection includes a\n     *    transform matrix, an opacity constant, a size, an origin specifier.\n     *    Modifier objects can be added to any RenderNode or object\n     *    capable of displaying renderables.  The Modifier's children and descendants\n     *    are transformed by the amounts specified in the Modifier's properties.\n     *\n     * @class Modifier\n     * @constructor\n     * @param {Object} [options] overrides of default options\n     * @param {Transform} [options.transform] affine transformation matrix\n     * @param {Number} [options.opacity]\n     * @param {Array.Number} [options.origin] origin adjustment\n     * @param {Array.Number} [options.size] size to apply to descendants\n     */\n    function Modifier(options) {\n        this._transformGetter = null;\n        this._opacityGetter = null;\n        this._originGetter = null;\n        this._alignGetter = null;\n        this._sizeGetter = null;\n        this._proportionGetter = null;\n\n        /* TODO: remove this when deprecation complete */\n        this._legacyStates = {};\n\n        this._output = {\n            transform: Transform.identity,\n            opacity: 1,\n            origin: null,\n            align: null,\n            size: null,\n            proportions: null,\n            target: null\n        };\n\n        if (options) {\n            if (options.transform) this.transformFrom(options.transform);\n            if (options.opacity !== undefined) this.opacityFrom(options.opacity);\n            if (options.origin) this.originFrom(options.origin);\n            if (options.align) this.alignFrom(options.align);\n            if (options.size) this.sizeFrom(options.size);\n            if (options.proportions) this.proportionsFrom(options.proportions);\n        }\n    }\n\n    /**\n     * Function, object, or static transform matrix which provides the transform.\n     *   This is evaluated on every tick of the engine.\n     *\n     * @method transformFrom\n     *\n     * @param {Object} transform transform provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.transformFrom = function transformFrom(transform) {\n        if (transform instanceof Function) this._transformGetter = transform;\n        else if (transform instanceof Object && transform.get) this._transformGetter = transform.get.bind(transform);\n        else {\n            this._transformGetter = null;\n            this._output.transform = transform;\n        }\n        return this;\n    };\n\n    /**\n     * Set function, object, or number to provide opacity, in range [0,1].\n     *\n     * @method opacityFrom\n     *\n     * @param {Object} opacity provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.opacityFrom = function opacityFrom(opacity) {\n        if (opacity instanceof Function) this._opacityGetter = opacity;\n        else if (opacity instanceof Object && opacity.get) this._opacityGetter = opacity.get.bind(opacity);\n        else {\n            this._opacityGetter = null;\n            this._output.opacity = opacity;\n        }\n        return this;\n    };\n\n    /**\n     * Set function, object, or numerical array to provide origin, as [x,y],\n     *   where x and y are in the range [0,1].\n     *\n     * @method originFrom\n     *\n     * @param {Object} origin provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.originFrom = function originFrom(origin) {\n        if (origin instanceof Function) this._originGetter = origin;\n        else if (origin instanceof Object && origin.get) this._originGetter = origin.get.bind(origin);\n        else {\n            this._originGetter = null;\n            this._output.origin = origin;\n        }\n        return this;\n    };\n\n    /**\n     * Set function, object, or numerical array to provide align, as [x,y],\n     *   where x and y are in the range [0,1].\n     *\n     * @method alignFrom\n     *\n     * @param {Object} align provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.alignFrom = function alignFrom(align) {\n        if (align instanceof Function) this._alignGetter = align;\n        else if (align instanceof Object && align.get) this._alignGetter = align.get.bind(align);\n        else {\n            this._alignGetter = null;\n            this._output.align = align;\n        }\n        return this;\n    };\n\n    /**\n     * Set function, object, or numerical array to provide size, as [width, height].\n     *\n     * @method sizeFrom\n     *\n     * @param {Object} size provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.sizeFrom = function sizeFrom(size) {\n        if (size instanceof Function) this._sizeGetter = size;\n        else if (size instanceof Object && size.get) this._sizeGetter = size.get.bind(size);\n        else {\n            this._sizeGetter = null;\n            this._output.size = size;\n        }\n        return this;\n    };\n\n    /**\n     * Set function, object, or numerical array to provide proportions, as [percent of width, percent of height].\n     *\n     * @method proportionsFrom\n     *\n     * @param {Object} proportions provider object\n     * @return {Modifier} this\n     */\n    Modifier.prototype.proportionsFrom = function proportionsFrom(proportions) {\n        if (proportions instanceof Function) this._proportionGetter = proportions;\n        else if (proportions instanceof Object && proportions.get) this._proportionGetter = proportions.get.bind(proportions);\n        else {\n            this._proportionGetter = null;\n            this._output.proportions = proportions;\n        }\n        return this;\n    };\n\n     /**\n     * Deprecated: Prefer transformFrom with static Transform, or use a TransitionableTransform.\n     * @deprecated\n     * @method setTransform\n     *\n     * @param {Transform} transform Transform to transition to\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setTransform = function setTransform(transform, transition, callback) {\n        if (transition || this._legacyStates.transform) {\n            if (!this._legacyStates.transform) {\n                this._legacyStates.transform = new TransitionableTransform(this._output.transform);\n            }\n            if (!this._transformGetter) this.transformFrom(this._legacyStates.transform);\n\n            this._legacyStates.transform.set(transform, transition, callback);\n            return this;\n        }\n        else return this.transformFrom(transform);\n    };\n\n    /**\n     * Deprecated: Prefer opacityFrom with static opacity array, or use a Transitionable with that opacity.\n     * @deprecated\n     * @method setOpacity\n     *\n     * @param {Number} opacity Opacity value to transition to.\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setOpacity = function setOpacity(opacity, transition, callback) {\n        if (transition || this._legacyStates.opacity) {\n            if (!this._legacyStates.opacity) {\n                this._legacyStates.opacity = new Transitionable(this._output.opacity);\n            }\n            if (!this._opacityGetter) this.opacityFrom(this._legacyStates.opacity);\n\n            return this._legacyStates.opacity.set(opacity, transition, callback);\n        }\n        else return this.opacityFrom(opacity);\n    };\n\n    /**\n     * Deprecated: Prefer originFrom with static origin array, or use a Transitionable with that origin.\n     * @deprecated\n     * @method setOrigin\n     *\n     * @param {Array.Number} origin two element array with values between 0 and 1.\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setOrigin = function setOrigin(origin, transition, callback) {\n        /* TODO: remove this if statement when deprecation complete */\n        if (transition || this._legacyStates.origin) {\n\n            if (!this._legacyStates.origin) {\n                this._legacyStates.origin = new Transitionable(this._output.origin || [0, 0]);\n            }\n            if (!this._originGetter) this.originFrom(this._legacyStates.origin);\n\n            this._legacyStates.origin.set(origin, transition, callback);\n            return this;\n        }\n        else return this.originFrom(origin);\n    };\n\n    /**\n     * Deprecated: Prefer alignFrom with static align array, or use a Transitionable with that align.\n     * @deprecated\n     * @method setAlign\n     *\n     * @param {Array.Number} align two element array with values between 0 and 1.\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setAlign = function setAlign(align, transition, callback) {\n        /* TODO: remove this if statement when deprecation complete */\n        if (transition || this._legacyStates.align) {\n\n            if (!this._legacyStates.align) {\n                this._legacyStates.align = new Transitionable(this._output.align || [0, 0]);\n            }\n            if (!this._alignGetter) this.alignFrom(this._legacyStates.align);\n\n            this._legacyStates.align.set(align, transition, callback);\n            return this;\n        }\n        else return this.alignFrom(align);\n    };\n\n    /**\n     * Deprecated: Prefer sizeFrom with static origin array, or use a Transitionable with that size.\n     * @deprecated\n     * @method setSize\n     * @param {Array.Number} size two element array of [width, height]\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setSize = function setSize(size, transition, callback) {\n        if (size && (transition || this._legacyStates.size)) {\n            if (!this._legacyStates.size) {\n                this._legacyStates.size = new Transitionable(this._output.size || [0, 0]);\n            }\n            if (!this._sizeGetter) this.sizeFrom(this._legacyStates.size);\n\n            this._legacyStates.size.set(size, transition, callback);\n            return this;\n        }\n        else return this.sizeFrom(size);\n    };\n\n    /**\n     * Deprecated: Prefer proportionsFrom with static origin array, or use a Transitionable with those proportions.\n     * @deprecated\n     * @method setProportions\n     * @param {Array.Number} proportions two element array of [percent of width, percent of height]\n     * @param {Transitionable} transition Valid transitionable object\n     * @param {Function} callback callback to call after transition completes\n     * @return {Modifier} this\n     */\n    Modifier.prototype.setProportions = function setProportions(proportions, transition, callback) {\n        if (proportions && (transition || this._legacyStates.proportions)) {\n            if (!this._legacyStates.proportions) {\n                this._legacyStates.proportions = new Transitionable(this._output.proportions || [0, 0]);\n            }\n            if (!this._proportionGetter) this.proportionsFrom(this._legacyStates.proportions);\n\n            this._legacyStates.proportions.set(proportions, transition, callback);\n            return this;\n        }\n        else return this.proportionsFrom(proportions);\n    };\n\n    /**\n     * Deprecated: Prefer to stop transform in your provider object.\n     * @deprecated\n     * @method halt\n     */\n    Modifier.prototype.halt = function halt() {\n        if (this._legacyStates.transform) this._legacyStates.transform.halt();\n        if (this._legacyStates.opacity) this._legacyStates.opacity.halt();\n        if (this._legacyStates.origin) this._legacyStates.origin.halt();\n        if (this._legacyStates.align) this._legacyStates.align.halt();\n        if (this._legacyStates.size) this._legacyStates.size.halt();\n        if (this._legacyStates.proportions) this._legacyStates.proportions.halt();\n        this._transformGetter = null;\n        this._opacityGetter = null;\n        this._originGetter = null;\n        this._alignGetter = null;\n        this._sizeGetter = null;\n        this._proportionGetter = null;\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided transform or output of your transform provider.\n     * @deprecated\n     * @method getTransform\n     * @return {Object} transform provider object\n     */\n    Modifier.prototype.getTransform = function getTransform() {\n        return this._transformGetter();\n    };\n\n    /**\n     * Deprecated: Prefer to determine the end state of your transform from your transform provider\n     * @deprecated\n     * @method getFinalTransform\n     * @return {Transform} transform matrix\n     */\n    Modifier.prototype.getFinalTransform = function getFinalTransform() {\n        return this._legacyStates.transform ? this._legacyStates.transform.getFinal() : this._output.transform;\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided opacity or output of your opacity provider.\n     * @deprecated\n     * @method getOpacity\n     * @return {Object} opacity provider object\n     */\n    Modifier.prototype.getOpacity = function getOpacity() {\n        return this._opacityGetter();\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided origin or output of your origin provider.\n     * @deprecated\n     * @method getOrigin\n     * @return {Object} origin provider object\n     */\n    Modifier.prototype.getOrigin = function getOrigin() {\n        return this._originGetter();\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided align or output of your align provider.\n     * @deprecated\n     * @method getAlign\n     * @return {Object} align provider object\n     */\n    Modifier.prototype.getAlign = function getAlign() {\n        return this._alignGetter();\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided size or output of your size provider.\n     * @deprecated\n     * @method getSize\n     * @return {Object} size provider object\n     */\n    Modifier.prototype.getSize = function getSize() {\n        return this._sizeGetter ? this._sizeGetter() : this._output.size;\n    };\n\n    /**\n     * Deprecated: Prefer to use your provided proportions or output of your proportions provider.\n     * @deprecated\n     * @method getProportions\n     * @return {Object} proportions provider object\n     */\n    Modifier.prototype.getProportions = function getProportions() {\n        return this._proportionGetter ? this._proportionGetter() : this._output.proportions;\n    };\n\n    // call providers on tick to receive render spec elements to apply\n    function _update() {\n        if (this._transformGetter) this._output.transform = this._transformGetter();\n        if (this._opacityGetter) this._output.opacity = this._opacityGetter();\n        if (this._originGetter) this._output.origin = this._originGetter();\n        if (this._alignGetter) this._output.align = this._alignGetter();\n        if (this._sizeGetter) this._output.size = this._sizeGetter();\n        if (this._proportionGetter) this._output.proportions = this._proportionGetter();\n    }\n\n    /**\n     * Return render spec for this Modifier, applying to the provided\n     *    target component.  This is similar to render() for Surfaces.\n     *\n     * @private\n     * @method modify\n     *\n     * @param {Object} target (already rendered) render spec to\n     *    which to apply the transform.\n     * @return {Object} render spec for this Modifier, including the\n     *    provided target\n     */\n    Modifier.prototype.modify = function modify(target) {\n        _update.call(this);\n        this._output.target = target;\n        return this._output;\n    };\n\n    module.exports = Modifier;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Modifier.js\n ** module id = 31\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Transitionable = require('./Transitionable');\n    var Transform = require('../core/Transform');\n    var Utility = require('../utilities/Utility');\n\n    /**\n     * A class for transitioning the state of a Transform by transitioning\n     * its translate, scale, skew and rotate components independently.\n     *\n     * @class TransitionableTransform\n     * @constructor\n     *\n     * @param [transform=Transform.identity] {Transform} The initial transform state\n     */\n    function TransitionableTransform(transform) {\n        this._final = Transform.identity.slice();\n\n        this._finalTranslate = [0, 0, 0];\n        this._finalRotate = [0, 0, 0];\n        this._finalSkew = [0, 0, 0];\n        this._finalScale = [1, 1, 1];\n\n        this.translate = new Transitionable(this._finalTranslate);\n        this.rotate = new Transitionable(this._finalRotate);\n        this.skew = new Transitionable(this._finalSkew);\n        this.scale = new Transitionable(this._finalScale);\n\n        if (transform) this.set(transform);\n    }\n\n    function _build() {\n        return Transform.build({\n            translate: this.translate.get(),\n            rotate: this.rotate.get(),\n            skew: this.skew.get(),\n            scale: this.scale.get()\n        });\n    }\n\n    function _buildFinal() {\n        return Transform.build({\n            translate: this._finalTranslate,\n            rotate: this._finalRotate,\n            skew: this._finalSkew,\n            scale: this._finalScale\n        });\n    }\n\n    /**\n     * An optimized way of setting only the translation component of a Transform\n     *\n     * @method setTranslate\n     * @chainable\n     *\n     * @param translate {Array}     New translation state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setTranslate = function setTranslate(translate, transition, callback) {\n        this._finalTranslate = translate;\n        this._final = _buildFinal.call(this);\n        this.translate.set(translate, transition, callback);\n        return this;\n    };\n\n    /**\n     * An optimized way of setting only the scale component of a Transform\n     *\n     * @method setScale\n     * @chainable\n     *\n     * @param scale {Array}         New scale state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setScale = function setScale(scale, transition, callback) {\n        this._finalScale = scale;\n        this._final = _buildFinal.call(this);\n        this.scale.set(scale, transition, callback);\n        return this;\n    };\n\n    /**\n     * An optimized way of setting only the rotational component of a Transform\n     *\n     * @method setRotate\n     * @chainable\n     *\n     * @param eulerAngles {Array}   Euler angles for new rotation state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setRotate = function setRotate(eulerAngles, transition, callback) {\n        this._finalRotate = eulerAngles;\n        this._final = _buildFinal.call(this);\n        this.rotate.set(eulerAngles, transition, callback);\n        return this;\n    };\n\n    /**\n     * An optimized way of setting only the skew component of a Transform\n     *\n     * @method setSkew\n     * @chainable\n     *\n     * @param skewAngles {Array}    New skew state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.setSkew = function setSkew(skewAngles, transition, callback) {\n        this._finalSkew = skewAngles;\n        this._final = _buildFinal.call(this);\n        this.skew.set(skewAngles, transition, callback);\n        return this;\n    };\n\n    /**\n     * Setter for a TransitionableTransform with optional parameters to transition\n     * between Transforms\n     *\n     * @method set\n     * @chainable\n     *\n     * @param transform {Array}     New transform state\n     * @param [transition] {Object} Transition definition\n     * @param [callback] {Function} Callback\n     * @return {TransitionableTransform}\n     */\n    TransitionableTransform.prototype.set = function set(transform, transition, callback) {\n        var components = Transform.interpret(transform);\n\n        this._finalTranslate = components.translate;\n        this._finalRotate = components.rotate;\n        this._finalSkew = components.skew;\n        this._finalScale = components.scale;\n        this._final = transform;\n\n        var _callback = callback ? Utility.after(4, callback) : null;\n        this.translate.set(components.translate, transition, _callback);\n        this.rotate.set(components.rotate, transition, _callback);\n        this.skew.set(components.skew, transition, _callback);\n        this.scale.set(components.scale, transition, _callback);\n        return this;\n    };\n\n    /**\n     * Sets the default transition to use for transitioning betwen Transform states\n     *\n     * @method setDefaultTransition\n     *\n     * @param transition {Object} Transition definition\n     */\n    TransitionableTransform.prototype.setDefaultTransition = function setDefaultTransition(transition) {\n        this.translate.setDefault(transition);\n        this.rotate.setDefault(transition);\n        this.skew.setDefault(transition);\n        this.scale.setDefault(transition);\n    };\n\n    /**\n     * Getter. Returns the current state of the Transform\n     *\n     * @method get\n     *\n     * @return {Transform}\n     */\n    TransitionableTransform.prototype.get = function get() {\n        if (this.isActive()) {\n            return _build.call(this);\n        }\n        else return this._final;\n    };\n\n    /**\n     * Get the destination state of the Transform\n     *\n     * @method getFinal\n     *\n     * @return Transform {Transform}\n     */\n    TransitionableTransform.prototype.getFinal = function getFinal() {\n        return this._final;\n    };\n\n    /**\n     * Determine if the TransitionalTransform is currently transitioning\n     *\n     * @method isActive\n     *\n     * @return {Boolean}\n     */\n    TransitionableTransform.prototype.isActive = function isActive() {\n        return this.translate.isActive() || this.rotate.isActive() || this.scale.isActive() || this.skew.isActive();\n    };\n\n    /**\n     * Halts the transition\n     *\n     * @method halt\n     */\n    TransitionableTransform.prototype.halt = function halt() {\n        this.translate.halt();\n        this.rotate.halt();\n        this.skew.halt();\n        this.scale.halt();\n\n        this._final = this.get();\n        this._finalTranslate = this.translate.get();\n        this._finalRotate = this.rotate.get();\n        this._finalSkew = this.skew.get();\n        this._finalScale = this.scale.get();\n\n        return this;\n    };\n\n    module.exports = TransitionableTransform;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/transitions/TransitionableTransform.js\n ** module id = 32\n ** module chunks = 0\n **/","\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Surface = require('../core/Surface');\n\n    /**\n     * A surface containing image content.\n     *   This extends the Surface class.\n     *\n     * @class ImageSurface\n     *\n     * @extends Surface\n     * @constructor\n     * @param {Object} [options] overrides of default options\n     */\n    function ImageSurface(options) {\n        this._imageUrl = undefined;\n        Surface.apply(this, arguments);\n    }\n\n    var urlCache = [];\n    var countCache = [];\n    var nodeCache = [];\n    var cacheEnabled = true;\n\n    ImageSurface.enableCache = function enableCache() {\n        cacheEnabled = true;\n    };\n\n    ImageSurface.disableCache = function disableCache() {\n        cacheEnabled = false;\n    };\n\n    ImageSurface.clearCache = function clearCache() {\n        urlCache = [];\n        countCache = [];\n        nodeCache = [];\n    };\n\n    ImageSurface.getCache = function getCache() {\n        return {\n            urlCache: urlCache,\n            countCache: countCache,\n            nodeCache: nodeCache\n        };\n    };\n\n    ImageSurface.prototype = Object.create(Surface.prototype);\n    ImageSurface.prototype.constructor = ImageSurface;\n    ImageSurface.prototype.elementType = 'img';\n    ImageSurface.prototype.elementClass = 'famous-surface';\n\n    /**\n     * Set content URL.  This will cause a re-rendering.\n     * @method setContent\n     * @param {string} imageUrl\n     */\n    ImageSurface.prototype.setContent = function setContent(imageUrl) {\n        var urlIndex = urlCache.indexOf(this._imageUrl);\n        if (urlIndex !== -1) {\n            if (countCache[urlIndex] === 1) {\n                urlCache.splice(urlIndex, 1);\n                countCache.splice(urlIndex, 1);\n                nodeCache.splice(urlIndex, 1);\n            } else {\n                countCache[urlIndex]--;\n            }\n        }\n\n        urlIndex = urlCache.indexOf(imageUrl);\n        if (urlIndex === -1) {\n            urlCache.push(imageUrl);\n            countCache.push(1);\n        }\n        else {\n            countCache[urlIndex]++;\n        }\n\n        this._imageUrl = imageUrl;\n        this._contentDirty = true;\n    };\n\n    /**\n     * Place the document element that this component manages into the document.\n     *\n     * @private\n     * @method deploy\n     * @param {Node} target document parent of this container\n     */\n    ImageSurface.prototype.deploy = function deploy(target) {\n        var urlIndex = urlCache.indexOf(this._imageUrl);\n        if (nodeCache[urlIndex] === undefined && cacheEnabled) {\n            var img = new Image();\n            img.src = this._imageUrl || '';\n            nodeCache[urlIndex] = img;\n        }\n\n        target.src = this._imageUrl || '';\n    };\n\n    /**\n     * Remove this component and contained content from the document\n     *\n     * @private\n     * @method recall\n     *\n     * @param {Node} target node to which the component was deployed\n     */\n    ImageSurface.prototype.recall = function recall(target) {\n        target.src = '';\n    };\n\n    module.exports = ImageSurface;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/surfaces/ImageSurface.js\n ** module id = 33\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2015\n */\n\n/*global console*/\n/*eslint no-console:0 */\n\n/**\n * Virtual ViewSequence for famo.us which creates & destroys nodes using a\n * factory delegate. The factory class should support the following functions:\n * - create()\n * - createNext(prevRenderable)\n * - createPrevious(nextRenderable)\n * - destroy(renderable) (optional)\n *\n * Example:\n *\n * ```javascript\n * var VirtualViewSequence = require('famous-flex/VirtualViewSequence');\n *\n * // Factory for creating surfaces\n * function MyFactory() {}\n * MyFactory.prototype.create = function(index) {\n *   var surface = new Surface({\n *     size: [undefined, 100],\n *     classes: ['my-surface']\n *   });\n *   surface.index = index || 0; // add property to renderable\n *   return surface;\n * };\n * MyFactory.prototype.createNext = function(renderable) {\n *   return this.create(renderable.index + 1);\n * };\n * MyFactory.prototype.createPrevious = function(renderable) {\n *   return this.create(renderable.index - 1);\n * };\n *\n * // Create infinite scrollview\n * var viewSequence = new VirtualViewSequence({\n *   factory: new MyFactory()\n * });\n * var scrollView = new FlexScrollView({\n *   dataSource: viewSequence\n * });\n * ```\n * @module\n */\ndefine(function(require, exports, module) {\n\n    // import dependencies\n    var EventHandler = require('famous/core/EventHandler');\n\n    /**\n     * @class\n     * @param {Object} options Configurable options.\n     * @param {Object} options.factory Factory delegate for creating new renderables.\n     * @param {Renderable} [options.value] Renderable for this node (when omitted, `factory.create()` is called)\n     * @param {Number} [options.index] Index of this node (default: 0).\n     * @alias module:VirtualViewSequence\n     */\n    function VirtualViewSequence(options) {\n        options = options || {};\n        this._ = options._ || new (this.constructor.Backing)(options);\n        this.touched = true;\n        this.value = options.value || this._.factory.create();\n        this.index = options.index || 0;\n        this.next = options.next;\n        this.prev = options.prev;\n        EventHandler.setOutputHandler(this, this._.eventOutput);\n        this.value.pipe(this._.eventOutput);\n    }\n\n    VirtualViewSequence.Backing = function Backing(options) {\n        this.factory = options.factory;\n        this.eventOutput = new EventHandler();\n    };\n\n    /**\n     * Get previous node.\n     *\n     * When no previous node exists, the factory-delegate function `createPrevious`\n     * is called to construct a renderable for the previous node. When `createPrevious`\n     * returns `undefined`, no previous-node will be created.\n     *\n     * @return {VirtualViewSequence} previous node.\n     */\n    VirtualViewSequence.prototype.getPrevious = function(noCreate) {\n        if (this.prev) {\n            this.prev.touched = true;\n            return this.prev;\n        }\n        if (noCreate) {\n            return undefined;\n        }\n        var value = this._.factory.createPrevious(this.get());\n        if (!value) {\n            return undefined;\n        }\n        //console.log('creating new prev node');\n        this.prev = new VirtualViewSequence({\n            _: this._,\n            value: value,\n            index: this.index - 1,\n            next: this\n        });\n        return this.prev;\n    };\n\n    /**\n     * Get next node.\n     *\n     * When no next node exists, the factory-delegate function `createNext`\n     * is called to construct a renderable for the next node. When `createNext`\n     * returns `undefined`, no next-node will be created.\n     *\n     * @return {VirtualViewSequence} next node.\n     */\n    VirtualViewSequence.prototype.getNext = function(noCreate) {\n        if (this.next) {\n            this.next.touched = true;\n            return this.next;\n        }\n        if (noCreate) {\n            return undefined;\n        }\n        var value = this._.factory.createNext(this.get());\n        if (!value) {\n            return undefined;\n        }\n        //console.log('creating new next node');\n        this.next = new VirtualViewSequence({\n            _: this._,\n            value: value,\n            index: this.index + 1,\n            prev: this\n        });\n        return this.next;\n    };\n\n    /**\n     * Get the value of this node.\n     *\n     * @return {Renderable} surface/view\n     */\n    VirtualViewSequence.prototype.get = function() {\n        this.touched = true;\n        return this.value;\n    };\n\n    /**\n     * Get the index of the node.\n     *\n     * @return {Number} Index of node.\n     */\n    VirtualViewSequence.prototype.getIndex = function() {\n        this.touched = true;\n        return this.index;\n    };\n\n    /**\n     * Get human readable string verion of the node.\n     *\n     * @return {String} node as a human readable string\n     */\n    VirtualViewSequence.prototype.toString = function() {\n        return '' + this.index;\n    };\n\n    /**\n     * Cleans up any un-accessed nodes since the previous call to `cleanup`.\n     *\n     * This function cleans up any nodes that have not been accessed\n     * since the last call to `cleanup`. When a node is accessed\n     * through a call to `getNext`, `getPrevious`, `get` or `getIndex`\n     * it is considered `touched` and should not be cleaned up.\n     *\n     * @return {VirtualViewSequence} this.\n     */\n    VirtualViewSequence.prototype.cleanup = function() {\n        var node = this.prev;\n        while (node) {\n            if (!node.touched) {\n                node.next.prev = undefined;\n                node.next = undefined;\n                if (this._.factory.destroy) {\n                    while (node) {\n                        this._.factory.destroy(node.value);\n                        node = node.prev;\n                    }\n                }\n                break;\n            }\n            node.touched = false;\n            node = node.prev;\n        }\n        node = this.next;\n        while (node) {\n            if (!node.touched) {\n                node.prev.next = undefined;\n                node.prev = undefined;\n                if (this._.factory.destroy) {\n                    while (node) {\n                        this._.factory.destroy(node.value);\n                        node = node.next;\n                    }\n                }\n                break;\n            }\n            node.touched = false;\n            node = node.next;\n        }\n        return this;\n    };\n\n    /**\n     * Not supported\n     * @private\n     */\n    VirtualViewSequence.prototype.unshift = function() {\n        if (console.error) {\n            console.error('VirtualViewSequence.unshift is not supported and should not be called');\n        }\n    };\n\n    /**\n     * Not supported\n     * @private\n     */\n    VirtualViewSequence.prototype.push = function() {\n        if (console.error) {\n            console.error('VirtualViewSequence.push is not supported and should not be called');\n        }\n    };\n\n    /**\n     * Not supported\n     * @private\n     */\n    VirtualViewSequence.prototype.splice = function() {\n        if (console.error) {\n            console.error('VirtualViewSequence.splice is not supported and should not be called');\n        }\n    };\n\n    /**\n     * Not supported\n     * @private\n     */\n    VirtualViewSequence.prototype.swap = function() {\n        if (console.error) {\n            console.error('VirtualViewSequence.swap is not supported and should not be called');\n        }\n    };\n\n    /**\n     * Not supported\n     * @private\n     */\n    VirtualViewSequence.prototype.insert = function() {\n        if (console.error) {\n            console.error('VirtualViewSequence.insert is not supported and should not be called');\n        }\n    };\n\n    /**\n     * Not supported\n     * @private\n     */\n    VirtualViewSequence.prototype.remove = function() {\n        if (console.error) {\n            console.error('VirtualViewSequence.remove is not supported and should not be called');\n        }\n    };\n\n    module.exports = VirtualViewSequence;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/VirtualViewSequence.js\n ** module id = 34\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2015\n */\n\n/**\n * Flexible FlexScrollView for famo.us.\n *\n * Key features:\n * -    Customizable layout (uses ListLayout by default)\n * -    Insert/remove at any position using animations\n * -    Support for `true` size renderables\n * -    Pull to refresh (header & footer)\n * -    Horizontal/vertical direction\n * -    Top/left or bottom/right alignment\n * -    Pagination\n * -    Option to embed in a ContainerSurface\n * -    FlexScrollView linking\n *\n * Inherited from: [ScrollController](./ScrollController.md)\n * @module\n */\ndefine(function(require, exports, module) {\n\n    // import dependencies\n    var LayoutUtility = require('./LayoutUtility');\n    var ScrollController = require('./ScrollController');\n    var ListLayout = require('./layouts/ListLayout');\n\n    //\n    // Pull to refresh states\n    //\n    var PullToRefreshState = {\n        HIDDEN: 0,\n        PULLING: 1,\n        ACTIVE: 2,\n        COMPLETED: 3,\n        HIDDING: 4\n    };\n\n    /**\n     * @class\n     * @extends ScrollController\n     * @param {Object} options Configurable options (see ScrollController for all inherited options).\n     * @param {Renderable} [options.pullToRefreshHeader] Pull to refresh renderable that is displayed when pulling down from the top.\n     * @param {Renderable} [options.pullToRefreshFooter] Pull to refresh renderable that is displayed when pulling up from the bottom.\n     * @param {FlexScrollView} [options.leadingScrollView] Leading scrollview into which input events are piped (see Tutorial)\n     * @param {FlexScrollView} [options.trailingScrollView] Trailing scrollview into which input events are piped (see Tutorial)\n     * @alias module:FlexScrollView\n     */\n    function FlexScrollView(options) {\n        ScrollController.call(this, LayoutUtility.combineOptions(FlexScrollView.DEFAULT_OPTIONS, options));\n        this._thisScrollViewDelta = 0;\n        this._leadingScrollViewDelta = 0;\n        this._trailingScrollViewDelta = 0;\n    }\n    FlexScrollView.prototype = Object.create(ScrollController.prototype);\n    FlexScrollView.prototype.constructor = FlexScrollView;\n    FlexScrollView.PullToRefreshState = PullToRefreshState;\n    FlexScrollView.Bounds = ScrollController.Bounds;\n    FlexScrollView.PaginationMode = ScrollController.PaginationMode;\n\n    FlexScrollView.DEFAULT_OPTIONS = {\n        layout: ListLayout,         // sequential layout, uses width/height from renderable\n        direction: undefined,       // 0 = X, 1 = Y, undefined = use default from layout\n        paginated: false,           // pagination on/off\n        alignment: 0,               // 0 = top/left, 1 = bottom/right\n        flow: false,                // allow renderables to flow between layouts when not scrolling\n        mouseMove: false,           // allow mouse to hold and move the view\n        useContainer: false,        // embeds inside a ContainerSurface for clipping and capturing input events\n        visibleItemThresshold: 0.5, // by default, when an item is 50% visible, it is considered visible by `getFirstVisibleItem`\n        pullToRefreshHeader: undefined, // assign pull-to-refresh renderable here (renderable must have a size)\n        pullToRefreshFooter: undefined, // assign pull-to-refresh renderable here (renderable must have a size)\n        leadingScrollView: undefined,\n        trailingScrollView: undefined\n        // see ScrollController for all other options\n    };\n\n    /**\n     * Patches the FlexScrollView instance's options with the passed-in ones.\n     *\n     * @param {Object} options Configurable options (see ScrollController for all inherited options).\n     * @param {Renderable} [options.pullToRefreshHeader] Pull to refresh renderable that is displayed when pulling down from the top.\n     * @param {Renderable} [options.pullToRefreshFooter] Pull to refresh renderable that is displayed when pulling up from the bottom.\n     * @param {FlexScrollView} [options.leadingScrollView] Leading scrollview into which input events are piped (see Tutorial).\n     * @param {FlexScrollView} [options.trailingScrollView] Trailing scrollview into which input events are piped (see Tutorial).\n     * @return {FlexScrollView} this\n     */\n    FlexScrollView.prototype.setOptions = function(options) {\n        ScrollController.prototype.setOptions.call(this, options);\n\n        // Update pull to refresh renderables\n        if (options.pullToRefreshHeader || options.pullToRefreshFooter || this._pullToRefresh) {\n            if (options.pullToRefreshHeader) {\n                this._pullToRefresh = this._pullToRefresh || [undefined, undefined];\n                if (!this._pullToRefresh[0]) {\n                    this._pullToRefresh[0] = {\n                        state: PullToRefreshState.HIDDEN,\n                        prevState: PullToRefreshState.HIDDEN,\n                        footer: false\n                    };\n                }\n                this._pullToRefresh[0].node = options.pullToRefreshHeader;\n            }\n            else if (!this.options.pullToRefreshHeader && this._pullToRefresh) {\n                this._pullToRefresh[0] = undefined;\n            }\n            if (options.pullToRefreshFooter) {\n                this._pullToRefresh = this._pullToRefresh || [undefined, undefined];\n                if (!this._pullToRefresh[1]) {\n                    this._pullToRefresh[1] = {\n                        state: PullToRefreshState.HIDDEN,\n                        prevState: PullToRefreshState.HIDDEN,\n                        footer: true\n                    };\n                }\n                this._pullToRefresh[1].node = options.pullToRefreshFooter;\n            }\n            else if (!this.options.pullToRefreshFooter && this._pullToRefresh) {\n                this._pullToRefresh[1] = undefined;\n            }\n            if (this._pullToRefresh && !this._pullToRefresh[0] && !this._pullToRefresh[1]) {\n                this._pullToRefresh = undefined;\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Sets the data-source (alias for setDataSource).\n     *\n     * This function is a shim provided for compatibility with the stock famo.us Scrollview.\n     *\n     * @param {Array|LinkedListViewSequence} node Either an array of renderables or a viewSequence.\n     * @return {FlexScrollView} this\n     */\n    FlexScrollView.prototype.sequenceFrom = function(node) {\n        return this.setDataSource(node);\n    };\n\n    /**\n     * Returns the index of the first visible renderable.\n     *\n     * This function is a shim provided for compatibility with the stock famo.us Scrollview.\n     *\n     * @return {Number} Index of the first visible renderable.\n     */\n    FlexScrollView.prototype.getCurrentIndex = function() {\n        var item = this.getFirstVisibleItem();\n        return item ? item.viewSequence.getIndex() : -1;\n    };\n\n    /**\n     * Paginates the Scrollview to an absolute page index. This function is a shim provided\n     * for compatibility with the stock famo.us Scrollview.\n     *\n     * @param {Number} index view-sequence index to go to.\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without scrolling animation.\n     * @return {FlexScrollView} this\n     */\n    FlexScrollView.prototype.goToPage = function(index, noAnimation) {\n        var viewSequence = this._viewSequence;\n        if (!viewSequence) {\n            return this;\n        }\n        while (viewSequence.getIndex() < index) {\n            viewSequence = viewSequence.getNext();\n            if (!viewSequence) {\n                return this;\n            }\n        }\n        while (viewSequence.getIndex() > index) {\n            viewSequence = viewSequence.getPrevious();\n            if (!viewSequence) {\n                return this;\n            }\n        }\n        this.goToRenderNode(viewSequence.get(), noAnimation);\n        return this;\n    };\n\n    /**\n     * Returns the offset associated with the Scrollview instance's current node\n     * (generally the node currently at the top).\n     *\n     * This function is a shim provided for compatibility with the stock famo.us Scrollview.\n     *\n     * @return {number} The position of either the specified node, or the Scrollview's current Node,\n     * in pixels translated.\n     */\n    FlexScrollView.prototype.getOffset = function() {\n        return this._scrollOffsetCache;\n    };\n\n    /**\n     * Returns the position associated with the Scrollview instance's current node\n     * (generally the node currently at the top).\n     *\n     * This function is a shim provided for compatibility with the stock famo.us Scrollview.\n     *\n     * @deprecated\n     * @param {number} [node] If specified, returns the position of the node at that index in the\n     * Scrollview instance's currently managed collection.\n     * @return {number} The position of either the specified node, or the Scrollview's current Node,\n     * in pixels translated.\n     */\n    FlexScrollView.prototype.getPosition = FlexScrollView.prototype.getOffset;\n\n    /**\n     * Returns the absolute position associated with the Scrollview instance.\n     *\n     * This function is a shim provided for compatibility with the stock famo.us Scrollview.\n     *\n     * @return {number} The position of the Scrollview's current Node, in pixels translated.\n     */\n    FlexScrollView.prototype.getAbsolutePosition = function() {\n        return -(this._scrollOffsetCache + this._scroll.groupStart);\n    };\n\n    /**\n     * Helper function for setting the pull-to-refresh status.\n     */\n    function _setPullToRefreshState(pullToRefresh, state) {\n        if (pullToRefresh.state !== state) {\n            pullToRefresh.state = state;\n            if (pullToRefresh.node && pullToRefresh.node.setPullToRefreshStatus) {\n                pullToRefresh.node.setPullToRefreshStatus(state);\n            }\n        }\n    }\n\n    /**\n     * Helper function for getting the pull-to-refresh data.\n     */\n    function _getPullToRefresh(footer) {\n        return this._pullToRefresh ? this._pullToRefresh[footer ? 1 : 0] : undefined;\n    }\n\n    /**\n     * Post-layout function that adds the pull-to-refresh renderables.\n     * @private\n     */\n    FlexScrollView.prototype._postLayout = function(size, scrollOffset) {\n\n        // Exit immediately when pull to refresh is not configured\n        if (!this._pullToRefresh) {\n            return;\n        }\n\n        // Adjust scroll-offset for alignment\n        if (this.options.alignment) {\n            scrollOffset += size[this._direction];\n        }\n\n        // Prepare\n        var prevHeight;\n        var nextHeight;\n        var totalHeight;\n\n        // Show/activate pull to refresh renderables\n        for (var i = 0; i < 2; i++) {\n            var pullToRefresh = this._pullToRefresh[i];\n            if (pullToRefresh) {\n\n                // Calculate offset\n                var length = pullToRefresh.node.getSize()[this._direction];\n                var pullLength = pullToRefresh.node.getPullToRefreshSize ? pullToRefresh.node.getPullToRefreshSize()[this._direction] : length;\n                var offset;\n                if (!pullToRefresh.footer) {\n                    // header\n                    prevHeight = this._calcScrollHeight(false);\n                    prevHeight = (prevHeight === undefined) ? -1 : prevHeight;\n                    offset = (prevHeight >= 0) ? (scrollOffset - prevHeight) : prevHeight;\n                    if (this.options.alignment) {\n                        nextHeight = this._calcScrollHeight(true);\n                        nextHeight = (nextHeight === undefined) ? -1 : nextHeight;\n                        totalHeight = ((prevHeight >= 0) && (nextHeight >= 0)) ? (prevHeight + nextHeight) : -1;\n                        if ((totalHeight >= 0) && (totalHeight < size[this._direction])) {\n                            offset = Math.round((scrollOffset - size[this._direction]) + nextHeight);\n                        }\n                    }\n                }\n                else {\n                    // footer\n                    nextHeight = (nextHeight === undefined) ? nextHeight = this._calcScrollHeight(true) : nextHeight;\n                    nextHeight = (nextHeight === undefined) ? -1 : nextHeight;\n                    offset = (nextHeight >= 0) ? (scrollOffset + nextHeight) : (size[this._direction] + 1);\n                    if (!this.options.alignment) {\n                        prevHeight = (prevHeight === undefined) ? this._calcScrollHeight(false) : prevHeight;\n                        prevHeight = (prevHeight === undefined) ? -1 : prevHeight;\n                        totalHeight = ((prevHeight >= 0) && (nextHeight >= 0)) ? (prevHeight + nextHeight) : -1;\n                        if ((totalHeight >= 0) && (totalHeight < size[this._direction])) {\n                            offset = Math.round((scrollOffset - prevHeight) + size[this._direction]);\n                        }\n                    }\n                    offset = -(offset - size[this._direction]);\n                }\n\n                // Determine current state\n                var visiblePerc = Math.max(Math.min(offset / pullLength, 1), 0);\n                switch (pullToRefresh.state) {\n                    case PullToRefreshState.HIDDEN:\n                        if (this._scroll.scrollForceCount) {\n                            if (visiblePerc >= 1) {\n                                _setPullToRefreshState(pullToRefresh, PullToRefreshState.ACTIVE);\n                            }\n                            else if (offset >= 0.2) {\n                                _setPullToRefreshState(pullToRefresh, PullToRefreshState.PULLING);\n                            }\n                        }\n                        break;\n                    case PullToRefreshState.PULLING:\n                        if (this._scroll.scrollForceCount && (visiblePerc >= 1)) {\n                            _setPullToRefreshState(pullToRefresh, PullToRefreshState.ACTIVE);\n                        }\n                        else if (offset < 0.2) {\n                            _setPullToRefreshState(pullToRefresh, PullToRefreshState.HIDDEN);\n                        }\n                        break;\n                    case PullToRefreshState.ACTIVE:\n                        // nothing to do, wait for completed\n                        break;\n                    case PullToRefreshState.COMPLETED:\n                        if (!this._scroll.scrollForceCount) {\n                            if (offset >= 0.2) {\n                                _setPullToRefreshState(pullToRefresh, PullToRefreshState.HIDDING);\n                            }\n                            else {\n                                _setPullToRefreshState(pullToRefresh, PullToRefreshState.HIDDEN);\n                            }\n                        }\n                        break;\n                    case PullToRefreshState.HIDDING:\n                        if (offset < 0.2) {\n                            _setPullToRefreshState(pullToRefresh, PullToRefreshState.HIDDEN);\n                        }\n                        break;\n                }\n\n                // Show pull to refresh node\n                if (pullToRefresh.state !== PullToRefreshState.HIDDEN) {\n                    var contextNode = {\n                        renderNode: pullToRefresh.node,\n                        prev: !pullToRefresh.footer,\n                        next: pullToRefresh.footer,\n                        index: !pullToRefresh.footer ? --this._nodes._contextState.prevGetIndex : ++this._nodes._contextState.nextGetIndex\n                    };\n                    var scrollLength;\n                    if (pullToRefresh.state === PullToRefreshState.ACTIVE) {\n                        scrollLength = length;\n                    }\n                    else if (this._scroll.scrollForceCount) {\n                        scrollLength = Math.min(offset, length);\n                    }\n                    var set = {\n                        size: [size[0], size[1]],\n                        translate: [0, 0, -1e-3], // transform.behind\n                        scrollLength: scrollLength\n                    };\n                    set.size[this._direction] = Math.max(Math.min(offset, pullLength), 0);\n                    set.translate[this._direction] = pullToRefresh.footer ? (size[this._direction] - length) : 0;\n                    this._nodes._context.set(contextNode, set);\n                }\n            }\n        }\n    };\n\n    /**\n     * Shows the pulls-to-refresh renderable indicating that a refresh is in progress.\n     *\n     * @param {Bool} [footer] set to true to show pull-to-refresh at the footer (default: false).\n     * @return {FlexScrollView} this\n     */\n    FlexScrollView.prototype.showPullToRefresh = function(footer) {\n        var pullToRefresh = _getPullToRefresh.call(this, footer);\n        if (pullToRefresh) {\n            _setPullToRefreshState(pullToRefresh, PullToRefreshState.ACTIVE);\n            this._scroll.scrollDirty = true;\n        }\n    };\n\n    /**\n     * Hides the pull-to-refresh renderable in case it was visible.\n     *\n     * @param {Bool} [footer] set to true to hide the pull-to-refresh at the footer (default: false).\n     * @return {FlexScrollView} this\n     */\n    FlexScrollView.prototype.hidePullToRefresh = function(footer) {\n        var pullToRefresh = _getPullToRefresh.call(this, footer);\n        if (pullToRefresh && (pullToRefresh.state === PullToRefreshState.ACTIVE)) {\n            _setPullToRefreshState(pullToRefresh, PullToRefreshState.COMPLETED);\n            this._scroll.scrollDirty = true;\n        }\n        return this;\n    };\n\n    /**\n     * Get the visible state of the pull-to-refresh renderable.\n     *\n     * @param {Bool} [footer] set to true to get the state of the pull-to-refresh footer (default: false).\n     */\n    FlexScrollView.prototype.isPullToRefreshVisible = function(footer) {\n        var pullToRefresh = _getPullToRefresh.call(this, footer);\n        return pullToRefresh ? (pullToRefresh.state === PullToRefreshState.ACTIVE) : false;\n    };\n\n    /**\n     * Delegates any scroll force to leading/trailing scrollviews.\n     * @private\n     */\n    FlexScrollView.prototype.applyScrollForce = function(delta) {\n        var leadingScrollView = this.options.leadingScrollView;\n        var trailingScrollView = this.options.trailingScrollView;\n        if (!leadingScrollView && !trailingScrollView) {\n            return ScrollController.prototype.applyScrollForce.call(this, delta);\n        }\n        var partialDelta;\n        if (delta < 0) {\n            if (leadingScrollView) {\n                partialDelta = leadingScrollView.canScroll(delta);\n                this._leadingScrollViewDelta += partialDelta;\n                leadingScrollView.applyScrollForce(partialDelta);\n                delta -= partialDelta;\n            }\n            if (trailingScrollView) {\n                partialDelta = this.canScroll(delta);\n                ScrollController.prototype.applyScrollForce.call(this, partialDelta);\n                this._thisScrollViewDelta += partialDelta;\n                delta -= partialDelta;\n                trailingScrollView.applyScrollForce(delta);\n                this._trailingScrollViewDelta += delta;\n            }\n            else {\n                ScrollController.prototype.applyScrollForce.call(this, delta);\n                this._thisScrollViewDelta += delta;\n            }\n        }\n        else {\n            if (trailingScrollView) {\n                partialDelta = trailingScrollView.canScroll(delta);\n                trailingScrollView.applyScrollForce(partialDelta);\n                this._trailingScrollViewDelta += partialDelta;\n                delta -= partialDelta;\n            }\n            if (leadingScrollView) {\n                partialDelta = this.canScroll(delta);\n                ScrollController.prototype.applyScrollForce.call(this, partialDelta);\n                this._thisScrollViewDelta += partialDelta;\n                delta -= partialDelta;\n                leadingScrollView.applyScrollForce(delta);\n                this._leadingScrollViewDelta += delta;\n            }\n            else {\n                ScrollController.prototype.applyScrollForce.call(this, delta);\n                this._thisScrollViewDelta += delta;\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Delegates any scroll force to leading/trailing scrollviews.\n     * @private\n     */\n    FlexScrollView.prototype.updateScrollForce = function(prevDelta, newDelta) {\n        var leadingScrollView = this.options.leadingScrollView;\n        var trailingScrollView = this.options.trailingScrollView;\n        if (!leadingScrollView && !trailingScrollView) {\n            return ScrollController.prototype.updateScrollForce.call(this, prevDelta, newDelta);\n        }\n        var partialDelta;\n        var delta = newDelta - prevDelta;\n        if (delta < 0) {\n            if (leadingScrollView) {\n                partialDelta = leadingScrollView.canScroll(delta);\n                leadingScrollView.updateScrollForce(this._leadingScrollViewDelta, this._leadingScrollViewDelta + partialDelta);\n                this._leadingScrollViewDelta += partialDelta;\n                delta -= partialDelta;\n            }\n            if (trailingScrollView && delta) {\n                partialDelta = this.canScroll(delta);\n                ScrollController.prototype.updateScrollForce.call(this, this._thisScrollViewDelta, this._thisScrollViewDelta + partialDelta);\n                this._thisScrollViewDelta += partialDelta;\n                delta -= partialDelta;\n                this._trailingScrollViewDelta += delta;\n                trailingScrollView.updateScrollForce(this._trailingScrollViewDelta, this._trailingScrollViewDelta + delta);\n            }\n            else if (delta) {\n                ScrollController.prototype.updateScrollForce.call(this, this._thisScrollViewDelta, this._thisScrollViewDelta + delta);\n                this._thisScrollViewDelta += delta;\n            }\n        }\n        else {\n            if (trailingScrollView) {\n                partialDelta = trailingScrollView.canScroll(delta);\n                trailingScrollView.updateScrollForce(this._trailingScrollViewDelta, this._trailingScrollViewDelta + partialDelta);\n                this._trailingScrollViewDelta += partialDelta;\n                delta -= partialDelta;\n            }\n            if (leadingScrollView) {\n                partialDelta = this.canScroll(delta);\n                ScrollController.prototype.updateScrollForce.call(this, this._thisScrollViewDelta, this._thisScrollViewDelta + partialDelta);\n                this._thisScrollViewDelta += partialDelta;\n                delta -= partialDelta;\n                leadingScrollView.updateScrollForce(this._leadingScrollViewDelta, this._leadingScrollViewDelta + delta);\n                this._leadingScrollViewDelta += delta;\n            }\n            else {\n                ScrollController.prototype.updateScrollForce.call(this, this._thisScrollViewDelta, this._thisScrollViewDelta + delta);\n                this._thisScrollViewDelta += delta;\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Delegates any scroll force to leading/trailing scrollviews.\n     * @private\n     */\n    FlexScrollView.prototype.releaseScrollForce = function(delta, velocity) {\n        var leadingScrollView = this.options.leadingScrollView;\n        var trailingScrollView = this.options.trailingScrollView;\n        if (!leadingScrollView && !trailingScrollView) {\n            return ScrollController.prototype.releaseScrollForce.call(this, delta, velocity);\n        }\n        var partialDelta;\n        if (delta < 0) {\n            if (leadingScrollView) {\n                partialDelta = Math.max(this._leadingScrollViewDelta, delta);\n                this._leadingScrollViewDelta -= partialDelta;\n                delta -= partialDelta;\n                leadingScrollView.releaseScrollForce(this._leadingScrollViewDelta, delta ? 0 : velocity);\n            }\n            if (trailingScrollView) {\n                partialDelta = Math.max(this._thisScrollViewDelta, delta);\n                this._thisScrollViewDelta -= partialDelta;\n                delta -= partialDelta;\n                ScrollController.prototype.releaseScrollForce.call(this, this._thisScrollViewDelta, delta ? 0 : velocity);\n                this._trailingScrollViewDelta -= delta;\n                trailingScrollView.releaseScrollForce(this._trailingScrollViewDelta, delta ? velocity : 0);\n            }\n            else {\n                this._thisScrollViewDelta -= delta;\n                ScrollController.prototype.releaseScrollForce.call(this, this._thisScrollViewDelta, delta ? velocity : 0);\n            }\n        }\n        else {\n            if (trailingScrollView) {\n                partialDelta = Math.min(this._trailingScrollViewDelta, delta);\n                this._trailingScrollViewDelta -= partialDelta;\n                delta -= partialDelta;\n                trailingScrollView.releaseScrollForce(this._trailingScrollViewDelta, delta ? 0 : velocity);\n            }\n            if (leadingScrollView) {\n                partialDelta = Math.min(this._thisScrollViewDelta, delta);\n                this._thisScrollViewDelta -= partialDelta;\n                delta -= partialDelta;\n                ScrollController.prototype.releaseScrollForce.call(this, this._thisScrollViewDelta, delta ? 0 : velocity);\n                this._leadingScrollViewDelta -= delta;\n                leadingScrollView.releaseScrollForce(this._leadingScrollViewDelta, delta ? velocity : 0);\n            }\n            else {\n                this._thisScrollViewDelta -= delta;\n                ScrollController.prototype.updateScrollForce.call(this, this._thisScrollViewDelta, delta ? velocity : 0);\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Overriden commit, in order to emit pull-to-refresh event after\n     * all the rendering has been done.\n     * @private\n     */\n    FlexScrollView.prototype.commit = function(context) {\n\n        // Call base class\n        var result = ScrollController.prototype.commit.call(this, context);\n\n        // Emit pull to refresh events after the whole commit call has been executed\n        // so that when the refresh event is received, the FlexScrollView is in a valid state\n        // and can be queried.\n        if (this._pullToRefresh) {\n            for (var i = 0; i < 2; i++) {\n                var pullToRefresh = this._pullToRefresh[i];\n                if (pullToRefresh) {\n                    if ((pullToRefresh.state === PullToRefreshState.ACTIVE) &&\n                        (pullToRefresh.prevState !== PullToRefreshState.ACTIVE)) {\n                        this._eventOutput.emit('refresh', {\n                            target: this,\n                            footer: pullToRefresh.footer\n                        });\n                    }\n                    pullToRefresh.prevState = pullToRefresh.state;\n                }\n            }\n        }\n        return result;\n    };\n\n    module.exports = FlexScrollView;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/FlexScrollView.js\n ** module id = 35\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2014\n */\n\n/*global console*/\n/*eslint no-console:0*/\n\n/**\n * Utility class for famous-flex.\n *\n * @module\n */\ndefine(function(require, exports, module) {\n\n    // import dependencies\n    var Utility = require('famous/utilities/Utility');\n\n    /**\n     * @class\n     * @alias module:LayoutUtility\n     */\n    function LayoutUtility() {\n    }\n    LayoutUtility.registeredHelpers = {};\n\n    var Capabilities = {\n        SEQUENCE: 1,\n        DIRECTION_X: 2,\n        DIRECTION_Y: 4,\n        SCROLLING: 8\n    };\n    LayoutUtility.Capabilities = Capabilities;\n\n    /**\n     *  Normalizes the margins argument.\n     *\n     *  @param {Array.Number} margins\n     */\n    LayoutUtility.normalizeMargins = function(margins) {\n        if (!margins) {\n            return [0, 0, 0, 0];\n        }\n        else if (!Array.isArray(margins)) {\n            return [margins, margins, margins, margins];\n        }\n        else if (margins.length === 0) {\n            return [0, 0, 0, 0];\n        }\n        else if (margins.length === 1) {\n            return [margins[0], margins[0], margins[0], margins[0]];\n        }\n        else if (margins.length === 2) {\n            return [margins[0], margins[1], margins[0], margins[1]];\n        }\n        else {\n            return margins;\n        }\n    };\n\n    /**\n     * Makes a (shallow) copy of a spec.\n     *\n     * @param {Spec} spec Spec to clone\n     * @return {Spec} cloned spec\n     */\n    LayoutUtility.cloneSpec = function(spec) {\n        var clone = {};\n        if (spec.opacity !== undefined) {\n            clone.opacity = spec.opacity;\n        }\n        if (spec.size !== undefined) {\n            clone.size = spec.size.slice(0);\n        }\n        if (spec.transform !== undefined) {\n            clone.transform = spec.transform.slice(0);\n        }\n        if (spec.origin !== undefined) {\n            clone.origin = spec.origin.slice(0);\n        }\n        if (spec.align !== undefined) {\n            clone.align = spec.align.slice(0);\n        }\n        return clone;\n    };\n\n    /**\n     * Compares two arrays for equality.\n     */\n    function _isEqualArray(a, b) {\n        if (a === b) {\n            return true;\n        }\n        if ((a === undefined) || (b === undefined)) {\n            return false;\n        }\n        var i = a.length;\n        if (i !== b.length){\n            return false;\n        }\n        while (i--) {\n            if (a[i] !== b[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     * Compares two specs for equality.\n     *\n     * @param {Spec} spec1 Spec to compare\n     * @param {Spec} spec2 Spec to compare\n     * @return {Boolean} true/false\n     */\n    LayoutUtility.isEqualSpec = function(spec1, spec2) {\n        if (spec1.opacity !== spec2.opacity) {\n            return false;\n        }\n        if (!_isEqualArray(spec1.size, spec2.size)) {\n            return false;\n        }\n        if (!_isEqualArray(spec1.transform, spec2.transform)) {\n            return false;\n        }\n        if (!_isEqualArray(spec1.origin, spec2.origin)) {\n            return false;\n        }\n        if (!_isEqualArray(spec1.align, spec2.align)) {\n            return false;\n        }\n        return true;\n    };\n\n    /**\n     * Helper function that returns a string containing the differences\n     * between two specs.\n     *\n     * @param {Spec} spec1 Spec to compare\n     * @param {Spec} spec2 Spec to compare\n     * @return {String} text\n     */\n    LayoutUtility.getSpecDiffText = function(spec1, spec2) {\n        var result = 'spec diff:';\n        if (spec1.opacity !== spec2.opacity) {\n            result += '\\nopacity: ' + spec1.opacity + ' != ' + spec2.opacity;\n        }\n        if (!_isEqualArray(spec1.size, spec2.size)) {\n            result += '\\nsize: ' + JSON.stringify(spec1.size) + ' != ' + JSON.stringify(spec2.size);\n        }\n        if (!_isEqualArray(spec1.transform, spec2.transform)) {\n            result += '\\ntransform: ' + JSON.stringify(spec1.transform) + ' != ' + JSON.stringify(spec2.transform);\n        }\n        if (!_isEqualArray(spec1.origin, spec2.origin)) {\n            result += '\\norigin: ' + JSON.stringify(spec1.origin) + ' != ' + JSON.stringify(spec2.origin);\n        }\n        if (!_isEqualArray(spec1.align, spec2.align)) {\n            result += '\\nalign: ' + JSON.stringify(spec1.align) + ' != ' + JSON.stringify(spec2.align);\n        }\n        return result;\n    };\n\n    /**\n     * Helper function to call whenever a critical error has occurred.\n     *\n     * @param {String} message error-message\n     */\n    LayoutUtility.error = function(message) {\n        console.log('ERROR: ' + message);\n        throw message;\n    };\n\n    /**\n     * Helper function to call whenever a warning error has occurred.\n     *\n     * @param {String} message warning-message\n     */\n    LayoutUtility.warning = function(message) {\n        console.log('WARNING: ' + message);\n    };\n\n    /**\n     * Helper function to log 1 or more arguments. All the arguments\n     * are concatenated to produce a single string which is logged.\n     *\n     * @param {String|Array|Object} args arguments to stringify and concatenate\n     */\n    LayoutUtility.log = function(args) {\n        var message = '';\n        for (var i = 0; i < arguments.length; i++) {\n            var arg = arguments[i];\n            if ((arg instanceof Object) || (arg instanceof Array)) {\n                message += JSON.stringify(arg);\n            }\n            else {\n                message += arg;\n            }\n        }\n        console.log(message);\n    };\n\n    /**\n     * Combines two sets of options into a single set.\n     *\n     * @param {Object} options1 base set of options\n     * @param {Object} options2 set of options to merge into `options1`\n     * @param {Bool} [forceClone] ensures that a clone is returned rather that one of the original options objects\n     * @return {Object} Combined options\n     */\n    LayoutUtility.combineOptions = function(options1, options2, forceClone) {\n        if (options1 && !options2 && !forceClone) {\n            return options1;\n        }\n        else if (!options1 && options2 && !forceClone) {\n            return options2;\n        }\n        var options = Utility.clone(options1 || {});\n        if (options2) {\n            for (var key in options2) {\n                options[key] = options2[key];\n            }\n        }\n        return options;\n    };\n\n    /**\n     * Registers a layout-helper so it can be used as a layout-literal for\n     * a layout-controller. The LayoutHelper instance must support the `parse`\n     * function, which is fed the layout-literal content.\n     *\n     * **Example:**\n     *\n     * ```javascript\n     * Layout.registerHelper('dock', LayoutDockHelper);\n     *\n     * var layoutController = new LayoutController({\n     *   layout: { dock: [,\n     *     ['top', 'header', 50],\n     *     ['bottom', 'footer', 50],\n     *     ['fill', 'content'],\n     *   ]},\n     *   dataSource: {\n     *     header: new Surface({content: 'Header'}),\n     *     footer: new Surface({content: 'Footer'}),\n     *     content: new Surface({content: 'Content'}),\n     *   }\n     * })\n     * ```\n     *\n     * @param {String} name name of the helper (e.g. 'dock')\n     * @param {Function} Helper Helper to register (e.g. LayoutDockHelper)\n     */\n    LayoutUtility.registerHelper = function(name, Helper) {\n        if (!Helper.prototype.parse) {\n            LayoutUtility.error('The layout-helper for name \"' + name + '\" is required to support the \"parse\" method');\n        }\n        if (this.registeredHelpers[name] !== undefined) {\n            LayoutUtility.warning('A layout-helper with the name \"' + name + '\" is already registered and will be overwritten');\n        }\n        this.registeredHelpers[name] = Helper;\n    };\n\n    /**\n     * Unregisters a layout-helper.\n     *\n     * @param {String} name name of the layout-helper\n     */\n    LayoutUtility.unregisterHelper = function(name) {\n        delete this.registeredHelpers[name];\n    };\n\n    /**\n     * Gets a registered layout-helper by its name.\n     *\n     * @param {String} name name of the layout-helper\n     * @return {Function} layout-helper or undefined\n     */\n    LayoutUtility.getRegisteredHelper = function(name) {\n        return this.registeredHelpers[name];\n    };\n\n    // Layout function\n    module.exports = LayoutUtility;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LayoutUtility.js\n ** module id = 36\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2014 - 2015\n */\n\n/*global console*/\n/*eslint no-console: 0*/\n\n/**\n * Scrollable layout-controller.\n *\n * Key features:\n * -    Customizable layout\n * -    Insert/remove renderables into the scene using animations/spec\n * -    Support for `true` size renderables\n * -    Horizontal/vertical direction\n * -    Top/left or bottom/right alignment\n * -    Pagination\n * -    Option to embed in a ContainerSurface\n *\n * Events:\n *\n * |event      |description|\n * |-----------|-----------|\n * |scrollstart|Emitted when scrolling starts.|\n * |scroll     |Emitted as the content scrolls (once for each frame the visible offset has changed).|\n * |pagechange |Emitted whenever the visible page changes.|\n * |scrollend  |Emitted after scrolling stops (when the scroll particle settles).|\n *\n * Inherited from: [LayoutController](./LayoutController.md)\n * @module\n */\ndefine(function(require, exports, module) {\n\n    // import dependencies\n    var LayoutUtility = require('./LayoutUtility');\n    var LayoutController = require('./LayoutController');\n    var LayoutNode = require('./LayoutNode');\n    var FlowLayoutNode = require('./FlowLayoutNode');\n    var LayoutNodeManager = require('./LayoutNodeManager');\n    var ContainerSurface = require('famous/surfaces/ContainerSurface');\n    var Transform = require('famous/core/Transform');\n    var EventHandler = require('famous/core/EventHandler');\n    var Group = require('famous/core/Group');\n    var Vector = require('famous/math/Vector');\n    var PhysicsEngine = require('famous/physics/PhysicsEngine');\n    var Particle = require('famous/physics/bodies/Particle');\n    var Drag = require('famous/physics/forces/Drag');\n    var Spring = require('famous/physics/forces/Spring');\n    var ScrollSync = require('famous/inputs/ScrollSync');\n    var LinkedListViewSequence = require('./LinkedListViewSequence');\n\n    /**\n     * Boudary reached detection\n     */\n    var Bounds = {\n        NONE: 0,\n        PREV: 1, // top\n        NEXT: 2, // bottom\n        BOTH: 3\n    };\n\n    /**\n     * Source of the spring\n     */\n    var SpringSource = {\n        NONE: 'none',\n        NEXTBOUNDS: 'next-bounds', // top\n        PREVBOUNDS: 'prev-bounds', // bottom\n        MINSIZE: 'minimal-size',\n        GOTOSEQUENCE: 'goto-sequence',\n        ENSUREVISIBLE: 'ensure-visible',\n        GOTOPREVDIRECTION: 'goto-prev-direction',\n        GOTONEXTDIRECTION: 'goto-next-direction'\n    };\n\n    /**\n     * Pagination modes\n     */\n    var PaginationMode = {\n        PAGE: 0,\n        SCROLL: 1\n    };\n\n    /**\n     * @class\n     * @extends LayoutController\n     * @param {Object} options Configurable options (see LayoutController for all inherited options).\n     * @param {Bool} [options.useContainer] Embeds the view in a ContainerSurface to hide any overflow and capture input events (default: `false`).\n     * @param {String} [options.container] Options that are passed to the ContainerSurface in case `useContainer` is true.\n     * @param {Bool} [options.paginated] Enabled pagination when set to `true` (default: `false`).\n     * @param {Number} [options.paginationEnergyThreshold] Threshold after which pagination kicks in (default: `0.01`).\n     * @param {PaginationMode} [options.paginationMode] Pagination-mode (either page-based or scroll-based) (default: `PaginationMode.PAGE`).\n     * @param {Number} [options.alignment] Alignment of the renderables (0 = top/left, 1 = bottom/right) (default: `0`).\n     * @param {Bool} [options.mouseMove] Enables scrolling by holding the mouse-button down and moving the mouse (default: `false`).\n     * @param {Bool} [options.enabled] Enables or disabled user input (default: `true`).\n     * @param {Bool} [options.overscroll] Enables or disables overscroll (default: `true`).\n     * @param {Object} [options.scrollParticle] Options for the scroll particle (default: `{}`)\n     * @param {Object} [options.scrollSpring] Spring-force options that are applied on the scroll particle when e.g. bounds is reached (default: `{dampingRatio: 1.0, period: 350}`)\n     * @param {Object} [options.scrollDrag] Drag-force options to apply on the scroll particle\n     * @param {Object} [options.scrollFriction] Friction-force options to apply on the scroll particle\n     * @param {Bool} [options.layoutAll] When set to true, always lays out all renderables in the datasource (default: `false`).\n     * @alias module:ScrollController\n     */\n    function ScrollController(options) {\n        options = LayoutUtility.combineOptions(ScrollController.DEFAULT_OPTIONS, options);\n        var layoutManager = new LayoutNodeManager(options.flow ? FlowLayoutNode : LayoutNode, _initLayoutNode.bind(this));\n        LayoutController.call(this, options, layoutManager);\n\n        // Scrolling\n        this._scroll = {\n            activeTouches: [],\n            // physics-engine to use for scrolling\n            pe: new PhysicsEngine(this.options.scrollPhysicsEngine),\n            // particle that represents the scroll-offset\n            particle: new Particle(this.options.scrollParticle),\n            // drag-force that slows the particle down after a \"flick\"\n            dragForce: new Drag(this.options.scrollDrag),\n            frictionForce: new Drag(this.options.scrollFriction),\n            // spring\n            springValue: undefined,\n            springForce: new Spring(this.options.scrollSpring),\n            springEndState: new Vector([0, 0, 0]),\n            // group\n            groupStart: 0,\n            groupTranslate: [0, 0, 0],\n            // delta\n            scrollDelta: 0,\n            normalizedScrollDelta: 0,\n            scrollForce: 0,\n            scrollForceCount: 0,\n            unnormalizedScrollOffset: 0,\n            // state\n            isScrolling: false\n        };\n\n        // Diagnostics\n        this._debug = {\n            layoutCount: 0,\n            commitCount: 0\n        };\n\n        // Create groupt for faster rendering\n        this.group = new Group();\n        this.group.add({render: _innerRender.bind(this)});\n\n        // Configure physics engine with particle and drag\n        this._scroll.pe.addBody(this._scroll.particle);\n        if (!this.options.scrollDrag.disabled) {\n            this._scroll.dragForceId = this._scroll.pe.attach(this._scroll.dragForce, this._scroll.particle);\n        }\n        if (!this.options.scrollFriction.disabled) {\n            this._scroll.frictionForceId = this._scroll.pe.attach(this._scroll.frictionForce, this._scroll.particle);\n        }\n        this._scroll.springForce.setOptions({ anchor: this._scroll.springEndState });\n\n        // Listen to touch events\n        this._eventInput.on('touchstart', _touchStart.bind(this));\n        this._eventInput.on('touchmove', _touchMove.bind(this));\n        this._eventInput.on('touchend', _touchEnd.bind(this));\n        this._eventInput.on('touchcancel', _touchEnd.bind(this));\n\n        // Listen to mouse-move events\n        this._eventInput.on('mousedown', _mouseDown.bind(this));\n        this._eventInput.on('mouseup', _mouseUp.bind(this));\n        this._eventInput.on('mousemove', _mouseMove.bind(this));\n\n        // Listen to mouse-wheel events\n        this._scrollSync = new ScrollSync(this.options.scrollSync);\n        this._eventInput.pipe(this._scrollSync);\n        this._scrollSync.on('update', _scrollUpdate.bind(this));\n\n        // Embed in container surface if neccesary\n        if (this.options.useContainer) {\n            this.container = new ContainerSurface(this.options.container);\n\n            // Create container surface, which has one child, which just returns\n            // the entity-id of this scrollview. This causes the Commit function\n            // of this scrollview to be called\n            this.container.add({\n                render: function() {\n                    return this.id;\n                }.bind(this)\n            });\n\n            // Pipe events received in container to this scrollview\n            if (!this.options.autoPipeEvents) {\n                this.subscribe(this.container);\n                EventHandler.setInputHandler(this.container, this);\n                EventHandler.setOutputHandler(this.container, this);\n            }\n        }\n    }\n    ScrollController.prototype = Object.create(LayoutController.prototype);\n    ScrollController.prototype.constructor = ScrollController;\n    ScrollController.Bounds = Bounds;\n    ScrollController.PaginationMode = PaginationMode;\n\n    ScrollController.DEFAULT_OPTIONS = {\n        useContainer: false,    // when true embeds inside a ContainerSurface for capturing input events & clipping\n        container: {\n            properties: {\n                overflow: 'hidden' // overflow mode when useContainer is enabled\n            }\n        },\n        scrollPhysicsEngine: {\n            // use defaults\n            //velocityCap: undefined,\n            //angularVelocityCap: undefined\n        },\n        scrollParticle: {\n            // use defaults\n            //mass: 1\n        },\n        scrollDrag: {\n            forceFunction: Drag.FORCE_FUNCTIONS.QUADRATIC,\n            strength: 0.001,\n            disabled: true\n        },\n        scrollFriction: {\n            forceFunction: Drag.FORCE_FUNCTIONS.LINEAR,\n            strength: 0.0025,\n            disabled: false\n        },\n        scrollSpring: {\n            dampingRatio: 1.0,\n            period: 350\n        },\n        scrollSync: {\n            scale: 0.2\n        },\n        overscroll: true,\n        paginated: false,\n        paginationMode: PaginationMode.PAGE,\n        paginationEnergyThreshold: 0.01,\n        alignment: 0,         // [0: top/left, 1: bottom/right]\n        touchMoveDirectionThreshold: undefined, // 0..1\n        touchMoveNoVelocityDuration: 100,\n        mouseMove: false,\n        enabled: true,          // set to false to disable scrolling\n        layoutAll: false,       // set to true is you want all renderables layed out/rendered\n        alwaysLayout: false,    // set to true to always call the layout function\n        extraBoundsSpace: [100, 100],\n        debug: false\n    };\n\n    /**\n     * Patches the ScrollController instance's options with the passed-in ones.\n     *\n     * @param {Object} options Configurable options (see LayoutController for all inherited options).\n     * @param {Bool} [options.paginated] Enabled pagination when set to `true` (default: `false`).\n     * @param {Number} [options.paginationEnergyThreshold] Threshold after which pagination kicks in (default: `0.01`).\n     * @param {PaginationMode} [options.paginationMode] Pagination-mode (either page-based or scroll-based) (default: `PaginationMode.PAGE`).\n     * @param {Number} [options.alignment] Alignment of the renderables (0 = top/left, 1 = bottom/right) (default: `0`).\n     * @param {Bool} [options.mouseMove] Enables scrolling by holding the mouse-button down and moving the mouse (default: `false`).\n     * @param {Bool} [options.enabled] Enables or disables user input (default: `true`).\n     * @param {Bool} [options.overscroll] Enables or disables overscroll (default: `true`).\n     * @param {Object} [options.scrollParticle] Options for the scroll particle (default: `{}`)\n     * @param {Object} [options.scrollSpring] Spring-force options that are applied on the scroll particle when e.g. bounds is reached (default: `{dampingRatio: 1.0, period: 500}`)\n     * @param {Object} [options.scrollDrag] Drag-force options to apply on the scroll particle\n     * @param {Object} [options.scrollFriction] Friction-force options to apply on the scroll particle\n     * @param {Bool} [options.layoutAll] When set to true, always lays out all renderables in the datasource (default: `false`).\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.setOptions = function(options) {\n        LayoutController.prototype.setOptions.call(this, options);\n        if (options.hasOwnProperty('paginationEnergyThresshold')) {\n            console.warn('option `paginationEnergyThresshold` has been deprecated, please rename to `paginationEnergyThreshold`.');\n            this.setOptions({\n                paginationEnergyThreshold: options.paginationEnergyThresshold\n            });\n        }\n        if (options.hasOwnProperty('touchMoveDirectionThresshold')) {\n            console.warn('option `touchMoveDirectionThresshold` has been deprecated, please rename to `touchMoveDirectionThreshold`.');\n            this.setOptions({\n                touchMoveDirectionThreshold: options.touchMoveDirectionThresshold\n            });\n        }\n        if (this._scroll) {\n            if (options.scrollSpring) {\n                this._scroll.springForce.setOptions(options.scrollSpring);\n            }\n            if (options.scrollDrag) {\n                this._scroll.dragForce.setOptions(options.scrollDrag);\n            }\n        }\n        if (options.scrollSync && this._scrollSync) {\n            this._scrollSync.setOptions(options.scrollSync);\n        }\n        return this;\n    };\n\n    /**\n     * Called whenever a layout-node is created/re-used. Initializes\n     * the node with the `insertSpec` if it has been defined and enabled\n     * locking of the x/y translation so that the x/y position of the renderable\n     * is immediately updated when the user scrolls the view.\n     */\n    function _initLayoutNode(node, spec) {\n        if (!spec && this.options.flowOptions.insertSpec) {\n            node.setSpec(this.options.flowOptions.insertSpec);\n        }\n    }\n\n    /**\n     * Helper that detects when layout is scrolling optimized (default: true).\n     */\n    function _isSequentiallyScrollingOptimized() {\n        return !this._layout.capabilities ||\n                (this._layout.capabilities.sequentialScrollingOptimized === undefined) ||\n                this._layout.capabilities.sequentialScrollingOptimized;\n    }\n\n    /**\n     * Helper function for logging debug statements to the console.\n     */\n    /*function _log(args) {\n        if (!this.options.debug) {\n            return;\n        }\n        var message = this._debug.commitCount + ': ';\n        for (var i = 0, j = arguments.length; i < j; i++) {\n            var arg = arguments[i];\n            if ((arg instanceof Object) || (arg instanceof Array)) {\n                message += JSON.stringify(arg);\n            }\n            else {\n                message += arg;\n            }\n        }\n        console.log(message);\n    }*/\n\n    /**\n     * Sets the value for the spring, or set to `undefined` to disable the spring\n     */\n    function _updateSpring() {\n        var springValue = this._scroll.scrollForceCount ? undefined : this._scroll.springPosition;\n        if (this._scroll.springValue !== springValue) {\n            this._scroll.springValue = springValue;\n            if (springValue === undefined) {\n                if (this._scroll.springForceId !== undefined) {\n                    this._scroll.pe.detach(this._scroll.springForceId);\n                    this._scroll.springForceId = undefined;\n                    //_log.call(this, 'disabled spring');\n                }\n            }\n            else {\n                if (this._scroll.springForceId === undefined) {\n                    this._scroll.springForceId = this._scroll.pe.attach(this._scroll.springForce, this._scroll.particle);\n                }\n                this._scroll.springEndState.set1D(springValue);\n                this._scroll.pe.wake();\n                //_log.call(this, 'setting spring to: ', springValue, ' (', this._scroll.springSource, ')');\n            }\n        }\n    }\n\n    /**\n     * Returns the time from the given input event.\n     */\n    function _getEventTimestamp(event) {\n        return event.timeStamp || Date.now();\n    }\n\n    /**\n     * Called whenever the user presses the mouse button on the scrollview\n     */\n    function _mouseDown(event) {\n\n        // Check whether mouse-scrolling is enabled\n        if (!this.options.mouseMove) {\n            return;\n        }\n\n        // Reset any previous mouse-move operation that has not yet been\n        // cleared.\n        if (this._scroll.mouseMove) {\n            this.releaseScrollForce(this._scroll.mouseMove.delta);\n        }\n\n        // Calculate start of move operation\n        var current = [event.clientX, event.clientY];\n        var time = _getEventTimestamp(event);\n        this._scroll.mouseMove = {\n            delta: 0,\n            start: current,\n            current: current,\n            prev: current,\n            time: time,\n            prevTime: time\n        };\n\n        // Apply scroll force\n        this.applyScrollForce(this._scroll.mouseMove.delta);\n    }\n    function _mouseMove(event) {\n\n        // Check if any mouse-move is active\n        if (!this._scroll.mouseMove || !this.options.enabled) {\n            return;\n        }\n\n        // When a thresshold is configured, check whether the move operation (x/y ratio)\n        // lies within the thresshold. A move of 10 pixels x and 10 pixels y is considered 45 deg,\n        // which corresponds to a thresshold of 0.5.\n        var moveDirection = Math.atan2(\n            Math.abs(event.clientY - this._scroll.mouseMove.prev[1]),\n            Math.abs(event.clientX - this._scroll.mouseMove.prev[0])) / (Math.PI / 2.0);\n        var directionDiff = Math.abs(this._direction - moveDirection);\n        if ((this.options.touchMoveDirectionThreshold === undefined) || (directionDiff <= this.options.touchMoveDirectionThreshold)){\n            this._scroll.mouseMove.prev = this._scroll.mouseMove.current;\n            this._scroll.mouseMove.current = [event.clientX, event.clientY];\n            this._scroll.mouseMove.prevTime = this._scroll.mouseMove.time;\n            this._scroll.mouseMove.direction = moveDirection;\n            this._scroll.mouseMove.time = _getEventTimestamp(event);\n        }\n\n        // Update scroll-force\n        var delta = this._scroll.mouseMove.current[this._direction] - this._scroll.mouseMove.start[this._direction];\n        this.updateScrollForce(this._scroll.mouseMove.delta, delta);\n        this._scroll.mouseMove.delta = delta;\n    }\n    function _mouseUp(event) {\n\n        // Check if any mouse-move is active\n        if (!this._scroll.mouseMove) {\n            return;\n        }\n\n        // Calculate delta and velocity\n        var velocity = 0;\n        var diffTime = this._scroll.mouseMove.time - this._scroll.mouseMove.prevTime;\n        if ((diffTime > 0) && ((_getEventTimestamp(event) - this._scroll.mouseMove.time) <= this.options.touchMoveNoVelocityDuration)) {\n            var diffOffset = this._scroll.mouseMove.current[this._direction] - this._scroll.mouseMove.prev[this._direction];\n            velocity = diffOffset / diffTime;\n        }\n\n        // Release scroll force\n        this.releaseScrollForce(this._scroll.mouseMove.delta, velocity);\n        this._scroll.mouseMove = undefined;\n    }\n\n    /**\n     * Called whenever the user starts moving the scroll-view, using\n     * touch gestures.\n     */\n    function _touchStart(event) {\n\n        // Create touch-end event listener\n        if (!this._touchEndEventListener) {\n            this._touchEndEventListener = function(event2) {\n                event2.target.removeEventListener('touchend', this._touchEndEventListener);\n                _touchEnd.call(this, event2);\n            }.bind(this);\n        }\n\n        // Remove any touches that are no longer active\n        var oldTouchesCount = this._scroll.activeTouches.length;\n        var i = 0;\n        var j;\n        var touchFound;\n        while (i < this._scroll.activeTouches.length) {\n            var activeTouch = this._scroll.activeTouches[i];\n            touchFound = false;\n            for (j = 0; j < event.touches.length; j++) {\n                var touch = event.touches[j];\n                if (touch.identifier === activeTouch.id) {\n                    touchFound = true;\n                    break;\n                }\n            }\n            if (!touchFound) {\n                //_log.cal(this, 'removing touch with id: ', activeTouch.id);\n                this._scroll.activeTouches.splice(i, 1);\n            }\n            else {\n                i++;\n            }\n        }\n\n        // Process touch\n        for (i = 0; i < event.touches.length; i++) {\n            var changedTouch = event.touches[i];\n            touchFound = false;\n            for (j = 0; j < this._scroll.activeTouches.length; j++) {\n                if (this._scroll.activeTouches[j].id === changedTouch.identifier) {\n                    touchFound = true;\n                    break;\n                }\n            }\n            if (!touchFound) {\n                var current = [changedTouch.clientX, changedTouch.clientY];\n                var time = _getEventTimestamp(event);\n                this._scroll.activeTouches.push({\n                    id: changedTouch.identifier,\n                    start: current,\n                    current: current,\n                    prev: current,\n                    time: time,\n                    prevTime: time\n                });\n\n                // The following listener is automatically removed after touchend is received\n                // and ensures that the scrollview always received touchend.\n                changedTouch.target.addEventListener('touchend', this._touchEndEventListener);\n            }\n        }\n\n        // The first time a touch new touch gesture has arrived, emit event\n        if (!oldTouchesCount && this._scroll.activeTouches.length) {\n            this.applyScrollForce(0);\n            this._scroll.touchDelta = 0;\n        }\n    }\n\n    /**\n     * Called whenever the user is moving his/her fingers to scroll the view.\n     * Updates the moveOffset so that the scroll-offset on the view is updated.\n     */\n    function _touchMove(event) {\n        if (!this.options.enabled) {\n            return;\n        }\n\n        // Process the touch event\n        var primaryTouch;\n        for (var i = 0; i < event.changedTouches.length; i++) {\n            var changedTouch = event.changedTouches[i];\n            for (var j = 0; j < this._scroll.activeTouches.length; j++) {\n                var touch = this._scroll.activeTouches[j];\n                if (touch.id === changedTouch.identifier) {\n\n                    // When a thresshold is configured, check whether the move operation (x/y ratio)\n                    // lies within the thresshold. A move of 10 pixels x and 10 pixels y is considered 45 deg,\n                    // which corresponds to a thresshold of 0.5.\n                    var moveDirection = Math.atan2(\n                        Math.abs(changedTouch.clientY - touch.prev[1]),\n                        Math.abs(changedTouch.clientX - touch.prev[0])) / (Math.PI / 2.0);\n                    var directionDiff = Math.abs(this._direction - moveDirection);\n                    if ((this.options.touchMoveDirectionThreshold === undefined) || (directionDiff <= this.options.touchMoveDirectionThreshold)){\n                        touch.prev = touch.current;\n                        touch.current = [changedTouch.clientX, changedTouch.clientY];\n                        touch.prevTime = touch.time;\n                        touch.direction = moveDirection;\n                        touch.time = _getEventTimestamp(event);\n                        primaryTouch = (j === 0) ? touch : undefined;\n                    }\n                }\n            }\n        }\n\n        // Update move offset and emit event\n        if (primaryTouch) {\n            var delta = primaryTouch.current[this._direction] - primaryTouch.start[this._direction];\n            this.updateScrollForce(this._scroll.touchDelta, delta);\n            this._scroll.touchDelta = delta;\n        }\n    }\n\n    /**\n     * Called whenever the user releases his fingers and the touch gesture\n     * has completed. This will set the new position and if the user used a 'flick'\n     * gesture give the scroll-offset particle a velocity and momentum into a\n     * certain direction.\n     */\n    function _touchEnd(event) {\n\n        // Remove touch\n        var primaryTouch = this._scroll.activeTouches.length ? this._scroll.activeTouches[0] : undefined;\n        for (var i = 0; i < event.changedTouches.length; i++) {\n            var changedTouch = event.changedTouches[i];\n            for (var j = 0; j < this._scroll.activeTouches.length; j++) {\n                var touch = this._scroll.activeTouches[j];\n                if (touch.id === changedTouch.identifier) {\n\n                    // Remove touch from active-touches\n                    this._scroll.activeTouches.splice(j, 1);\n\n                    // When a different touch now becomes the primary touch, update\n                    // its start position to match the current move offset.\n                    if ((j === 0) && this._scroll.activeTouches.length) {\n                        var newPrimaryTouch = this._scroll.activeTouches[0];\n                        newPrimaryTouch.start[0] = newPrimaryTouch.current[0] - (touch.current[0] - touch.start[0]);\n                        newPrimaryTouch.start[1] = newPrimaryTouch.current[1] - (touch.current[1] - touch.start[1]);\n                    }\n                    break;\n                }\n            }\n        }\n\n        // Wait for all fingers to be released from the screen before resetting the move-spring\n        if (!primaryTouch || this._scroll.activeTouches.length) {\n            return;\n        }\n\n        // Determine velocity and add to particle\n        var velocity = 0;\n        var diffTime = primaryTouch.time - primaryTouch.prevTime;\n        if ((diffTime > 0) && ((_getEventTimestamp(event) - primaryTouch.time) <= this.options.touchMoveNoVelocityDuration)) {\n            var diffOffset = primaryTouch.current[this._direction] - primaryTouch.prev[this._direction];\n            velocity = diffOffset / diffTime;\n        }\n\n        // Release scroll force\n        var delta = this._scroll.touchDelta;\n        this.releaseScrollForce(delta, velocity);\n        this._scroll.touchDelta = 0;\n    }\n\n    /**\n     * Called whenever the user is scrolling the view using either a mouse\n     * scroll wheel or a track-pad.\n     */\n    function _scrollUpdate(event) {\n        if (!this.options.enabled) {\n            return;\n        }\n        var offset = Array.isArray(event.delta) ? event.delta[this._direction] : event.delta;\n        this.scroll(offset);\n    }\n\n    /**\n     * Updates the scroll offset particle.\n     */\n    function _setParticle(position, velocity, phase) {\n        if (position !== undefined) {\n            //var oldPosition = this._scroll.particle.getPosition1D();\n            this._scroll.particleValue = position;\n            this._scroll.particle.setPosition1D(position);\n            //_log.call(this, 'setParticle.position: ', position, ' (old: ', oldPosition, ', delta: ', position - oldPosition, ', phase: ', phase, ')');\n            if (this._scroll.springValue !== undefined) {\n                this._scroll.pe.wake();\n            }\n        }\n        if (velocity !== undefined) {\n            var oldVelocity = this._scroll.particle.getVelocity1D();\n            if (oldVelocity !== velocity) {\n                this._scroll.particle.setVelocity1D(velocity);\n                //_log.call(this, 'setParticle.velocity: ', velocity, ' (old: ', oldVelocity, ', delta: ', velocity - oldVelocity, ', phase: ', phase, ')');\n            }\n        }\n    }\n\n    /**\n     * Get the in-use scroll-offset.\n     */\n    function _calcScrollOffset(normalize, refreshParticle) {\n\n        // When moving using touch-gestures, make the offset stick to the\n        // finger. When the bounds is exceeded, decrease the scroll distance\n        // by two.\n        if (refreshParticle || (this._scroll.particleValue === undefined)) {\n            this._scroll.particleValue = this._scroll.particle.getPosition1D();\n            this._scroll.particleValue = Math.round(this._scroll.particleValue * 1000) / 1000;\n        }\n\n        // do stuff\n        var scrollOffset = this._scroll.particleValue;\n        if (this._scroll.scrollDelta || this._scroll.normalizedScrollDelta) {\n            scrollOffset += this._scroll.scrollDelta + this._scroll.normalizedScrollDelta;\n            if (((this._scroll.boundsReached & Bounds.PREV) && (scrollOffset > this._scroll.springPosition)) ||\n               ((this._scroll.boundsReached & Bounds.NEXT) && (scrollOffset < this._scroll.springPosition)) ||\n               (this._scroll.boundsReached === Bounds.BOTH)) {\n                scrollOffset = this._scroll.springPosition;\n            }\n            if (normalize) {\n                if (!this._scroll.scrollDelta) {\n                    this._scroll.normalizedScrollDelta = 0;\n                    _setParticle.call(this, scrollOffset, undefined, '_calcScrollOffset');\n                }\n                this._scroll.normalizedScrollDelta += this._scroll.scrollDelta;\n                this._scroll.scrollDelta = 0;\n            }\n        }\n\n        if (this._scroll.scrollForceCount && this._scroll.scrollForce) {\n            if (this._scroll.springPosition !== undefined) {\n                scrollOffset = (scrollOffset + this._scroll.scrollForce + this._scroll.springPosition) / 2.0;\n            }\n            else {\n                scrollOffset += this._scroll.scrollForce;\n            }\n        }\n\n        // Prevent the scroll position from exceeding the bounds when overscroll is disabled\n        if (!this.options.overscroll) {\n            if ((this._scroll.boundsReached === Bounds.BOTH) ||\n                ((this._scroll.boundsReached === Bounds.PREV) && (scrollOffset > this._scroll.springPosition)) ||\n                ((this._scroll.boundsReached === Bounds.NEXT) && (scrollOffset < this._scroll.springPosition))) {\n                scrollOffset = this._scroll.springPosition;\n            }\n        }\n\n        //_log.call(this, 'scrollOffset: ', scrollOffset, ', particle:', this._scroll.particle.getPosition1D(), ', moveToPosition: ', this._scroll.moveToPosition, ', springPosition: ', this._scroll.springPosition);\n        return scrollOffset;\n    }\n\n    /**\n     * Helper function that calculates the next/prev layed out height.\n     * @private\n     */\n    ScrollController.prototype._calcScrollHeight = function(next, lastNodeOnly) {\n        var calcedHeight = 0;\n        var node = this._nodes.getStartEnumNode(next);\n        while (node) {\n            if (node._invalidated) {\n                if (node.trueSizeRequested) {\n                    calcedHeight = undefined;\n                    break;\n                }\n                if (node.scrollLength !== undefined) {\n                    calcedHeight = lastNodeOnly ? node.scrollLength : (calcedHeight + node.scrollLength);\n                    if (!next && lastNodeOnly) {\n                        break;\n                    }\n                }\n            }\n            node = next ? node._next : node._prev;\n        }\n        return calcedHeight;\n    };\n\n    /**\n     * Calculates the scroll boundaries and sets the spring accordingly.\n     */\n    function _calcBounds(size, scrollOffset) {\n\n        // Local data\n        var prevHeight = this._calcScrollHeight(false);\n        var nextHeight = this._calcScrollHeight(true);\n        var enforeMinSize = _isSequentiallyScrollingOptimized.call(this);\n\n        // 1. When the rendered height is smaller than the total height,\n        //    then lock to the primary bounds\n        var totalHeight;\n        if (enforeMinSize) {\n            if ((nextHeight !== undefined) && (prevHeight !== undefined)) {\n                totalHeight = prevHeight + nextHeight;\n            }\n            if ((totalHeight !== undefined) && (totalHeight <= size[this._direction])) {\n                this._scroll.boundsReached = Bounds.BOTH;\n                this._scroll.springPosition = this.options.alignment ? -nextHeight : prevHeight;\n                this._scroll.springSource = SpringSource.MINSIZE;\n                return;\n            }\n        }\n\n        // 2. Check whether primary boundary has been reached\n        if (this.options.alignment) {\n            if (enforeMinSize) {\n                if ((nextHeight !== undefined) && ((scrollOffset + nextHeight) <= 0)) {\n                    this._scroll.boundsReached = Bounds.NEXT;\n                    this._scroll.springPosition = -nextHeight;\n                    this._scroll.springSource = SpringSource.NEXTBOUNDS;\n                    return;\n                }\n            }\n            else {\n                var firstPrevItemHeight = this._calcScrollHeight(false, true);\n                if ((nextHeight !== undefined) && firstPrevItemHeight && ((scrollOffset + nextHeight + size[this._direction]) <= firstPrevItemHeight)) {\n                    this._scroll.boundsReached = Bounds.NEXT;\n                    this._scroll.springPosition = nextHeight - (size[this._direction] - firstPrevItemHeight);\n                    this._scroll.springSource = SpringSource.NEXTBOUNDS;\n                    return;\n                }\n            }\n        }\n        else {\n            if ((prevHeight !== undefined) && ((scrollOffset - prevHeight) >= 0)) {\n                this._scroll.boundsReached = Bounds.PREV;\n                this._scroll.springPosition = prevHeight;\n                this._scroll.springSource = SpringSource.PREVBOUNDS;\n                return;\n            }\n        }\n\n        // 3. Check if secondary bounds has been reached\n        if (this.options.alignment) {\n            if ((prevHeight !== undefined) && ((scrollOffset - prevHeight) >= -size[this._direction])) {\n                this._scroll.boundsReached = Bounds.PREV;\n                this._scroll.springPosition = -size[this._direction] + prevHeight;\n                this._scroll.springSource = SpringSource.PREVBOUNDS;\n                return;\n            }\n        }\n        else {\n            var nextBounds = enforeMinSize ? size[this._direction] : this._calcScrollHeight(true, true);\n            if ((nextHeight !== undefined) && ((scrollOffset + nextHeight) <= nextBounds)){\n                this._scroll.boundsReached = Bounds.NEXT;\n                this._scroll.springPosition = nextBounds - nextHeight;\n                this._scroll.springSource = SpringSource.NEXTBOUNDS;\n                return;\n            }\n        }\n\n        // No bounds reached\n        this._scroll.boundsReached = Bounds.NONE;\n        this._scroll.springPosition = undefined;\n        this._scroll.springSource = SpringSource.NONE;\n    }\n\n    /**\n     * Calculates the scrollto-offset to which the spring is set.\n     */\n    function _calcScrollToOffset(size, scrollOffset) {\n        var scrollToRenderNode = this._scroll.scrollToRenderNode || this._scroll.ensureVisibleRenderNode;\n        if (!scrollToRenderNode) {\n            return;\n        }\n\n        // 1. When boundary is reached, stop scrolling in that direction\n        if ((this._scroll.boundsReached === Bounds.BOTH) ||\n            (!this._scroll.scrollToDirection && (this._scroll.boundsReached === Bounds.PREV)) ||\n            (this._scroll.scrollToDirection && (this._scroll.boundsReached === Bounds.NEXT))) {\n            return;\n        }\n\n        // 2. Find the node to scroll to\n        var foundNode;\n        var scrollToOffset = 0;\n        var node = this._nodes.getStartEnumNode(true);\n        var count = 0;\n        while (node) {\n            count++;\n            if (!node._invalidated || (node.scrollLength === undefined)) {\n                break;\n            }\n            if (this.options.alignment) {\n                scrollToOffset -= node.scrollLength;\n            }\n            if (node.renderNode === scrollToRenderNode) {\n                foundNode = node;\n                break;\n            }\n            if (!this.options.alignment) {\n                scrollToOffset -= node.scrollLength;\n            }\n            node = node._next;\n        }\n        if (!foundNode) {\n            scrollToOffset = 0;\n            node = this._nodes.getStartEnumNode(false);\n            while (node) {\n                if (!node._invalidated || (node.scrollLength === undefined)) {\n                   break;\n                }\n                if (!this.options.alignment) {\n                    scrollToOffset += node.scrollLength;\n                }\n                if (node.renderNode === scrollToRenderNode) {\n                    foundNode = node;\n                    break;\n                }\n                if (this.options.alignment) {\n                    scrollToOffset += node.scrollLength;\n                }\n                node = node._prev;\n            }\n        }\n\n        // 3. Update springs\n        if (foundNode) {\n            if (this._scroll.ensureVisibleRenderNode) {\n                if (this.options.alignment) {\n                    if ((scrollToOffset - foundNode.scrollLength) < 0) {\n                        this._scroll.springPosition = scrollToOffset;\n                        this._scroll.springSource = SpringSource.ENSUREVISIBLE;\n                    }\n                    else if (scrollToOffset > size[this._direction]) {\n                        this._scroll.springPosition = size[this._direction] - scrollToOffset;\n                        this._scroll.springSource = SpringSource.ENSUREVISIBLE;\n                    }\n                    else {\n                        if (!foundNode.trueSizeRequested) {\n                            this._scroll.ensureVisibleRenderNode = undefined;\n                        }\n                    }\n                }\n                else {\n                    scrollToOffset = -scrollToOffset;\n                    if (scrollToOffset < 0) {\n                        this._scroll.springPosition = scrollToOffset;\n                        this._scroll.springSource = SpringSource.ENSUREVISIBLE;\n                    }\n                    else if ((scrollToOffset + foundNode.scrollLength) > size[this._direction]) {\n                        this._scroll.springPosition = size[this._direction] - (scrollToOffset + foundNode.scrollLength);\n                        this._scroll.springSource = SpringSource.ENSUREVISIBLE;\n                    }\n                    else {\n                        if (!foundNode.trueSizeRequested) {\n                          this._scroll.ensureVisibleRenderNode = undefined;\n                        }\n                    }\n                }\n            }\n            else { // scrollToSequence\n                this._scroll.springPosition = scrollToOffset;\n                this._scroll.springSource = SpringSource.GOTOSEQUENCE;\n            }\n            return;\n        }\n\n        // 4. When node not found, keep searching\n        if (this._scroll.scrollToDirection) {\n            this._scroll.springPosition = scrollOffset - size[this._direction];\n            this._scroll.springSource = SpringSource.GOTONEXTDIRECTION;\n        }\n        else {\n            this._scroll.springPosition = scrollOffset + size[this._direction];\n            this._scroll.springSource = SpringSource.GOTOPREVDIRECTION;\n        }\n\n        // 5. In case of a VirtualViewSequnce, make sure all the view-sequence nodes are touched, so\n        //    that they are not cleaned up.\n        if (this._viewSequence.cleanup) {\n            var viewSequence = this._viewSequence;\n            while (viewSequence.get() !== scrollToRenderNode) {\n                viewSequence = this._scroll.scrollToDirection ? viewSequence.getNext(true) : viewSequence.getPrevious(true);\n                if (!viewSequence) {\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * Snaps to a page when pagination is enabled.\n     */\n    function _snapToPage() {\n\n        // Check whether pagination is active\n        if (!this.options.paginated ||\n            this._scroll.scrollForceCount || //don't paginate while moving\n            (this._scroll.springPosition !== undefined)) {\n            return;\n        }\n\n        // When the energy is below the thresshold, paginate to the current page\n        var item;\n        switch (this.options.paginationMode) {\n            case PaginationMode.SCROLL:\n                if (!this.options.paginationEnergyThreshold || (Math.abs(this._scroll.particle.getEnergy()) <= this.options.paginationEnergyThreshold)) {\n                    item = this.options.alignment ? this.getLastVisibleItem() : this.getFirstVisibleItem();\n                    if (item && item.renderNode) {\n                        this.goToRenderNode(item.renderNode);\n                    }\n                }\n                break;\n            case PaginationMode.PAGE:\n                item = this.options.alignment ? this.getLastVisibleItem() : this.getFirstVisibleItem();\n                if (item && item.renderNode) {\n                    this.goToRenderNode(item.renderNode);\n                }\n                break;\n        }\n    }\n\n    /**\n     * Normalizes the view-sequence node so that the view-sequence is near to 0.\n     */\n    function _normalizePrevViewSequence(scrollOffset) {\n        var count = 0;\n        var normalizedScrollOffset = scrollOffset;\n        var normalizeNextPrev = false;\n        var node = this._nodes.getStartEnumNode(false);\n        while (node) {\n            if (!node._invalidated || !node._viewSequence) {\n                break;\n            }\n            if (normalizeNextPrev) {\n                this._viewSequence = node._viewSequence;\n                normalizedScrollOffset = scrollOffset;\n                normalizeNextPrev = false;\n            }\n            if ((node.scrollLength === undefined) || node.trueSizeRequested || (scrollOffset < 0)) {\n                break;\n            }\n            scrollOffset -= node.scrollLength;\n            count++;\n            if (node.scrollLength) {\n                if (this.options.alignment) {\n                    normalizeNextPrev = (scrollOffset >= 0);\n                }\n                else {\n                    if (Math.round(scrollOffset) >= 0) {\n                        this._viewSequence = node._viewSequence;\n                        normalizedScrollOffset = scrollOffset;\n                    }\n                }\n            }\n            node = node._prev;\n        }\n        return normalizedScrollOffset;\n    }\n    function _normalizeNextViewSequence(scrollOffset) {\n        var count = 0;\n        var normalizedScrollOffset = scrollOffset;\n        var node = this._nodes.getStartEnumNode(true);\n        while (node) {\n            if (!node._invalidated || (node.scrollLength === undefined) || node.trueSizeRequested || !node._viewSequence ||\n                ((Math.round(scrollOffset) > 0) && (!this.options.alignment || (node.scrollLength !== 0)))) {\n                break;\n            }\n            if (this.options.alignment) {\n                scrollOffset += node.scrollLength;\n                count++;\n            }\n            if (node.scrollLength || this.options.alignment) {\n                this._viewSequence = node._viewSequence;\n                normalizedScrollOffset = scrollOffset;\n            }\n            if (!this.options.alignment) {\n                scrollOffset += node.scrollLength;\n                count++;\n            }\n            node = node._next;\n        }\n        return normalizedScrollOffset;\n    }\n    function _normalizeViewSequence(size, scrollOffset) {\n\n        // Check whether normalisation is disabled\n        var caps = this._layout.capabilities;\n        if (caps && caps.debug &&\n            (caps.debug.normalize !== undefined) &&\n            !caps.debug.normalize) {\n            return scrollOffset;\n        }\n\n        // Don't normalize when forces are at work\n        if (this._scroll.scrollForceCount) {\n            return scrollOffset;\n        }\n\n        // 1. Normalize in primary direction\n        var normalizedScrollOffset = scrollOffset;\n        if (this.options.alignment && (scrollOffset < 0)) {\n            normalizedScrollOffset = _normalizeNextViewSequence.call(this, scrollOffset);\n        }\n        else if (!this.options.alignment && (scrollOffset > 0)){\n            normalizedScrollOffset = _normalizePrevViewSequence.call(this, scrollOffset);\n        }\n\n        // 2. Normalize in secondary direction\n        if (normalizedScrollOffset === scrollOffset) {\n            if (this.options.alignment && (scrollOffset > 0)) {\n                normalizedScrollOffset = _normalizePrevViewSequence.call(this, scrollOffset);\n            }\n            else if (!this.options.alignment && (scrollOffset < 0)) {\n                normalizedScrollOffset = _normalizeNextViewSequence.call(this, scrollOffset);\n            }\n        }\n\n        // Adjust particle and springs\n        if (normalizedScrollOffset !== scrollOffset) {\n            var delta = normalizedScrollOffset - scrollOffset;\n\n            // Adjust particle\n            var particleValue = this._scroll.particle.getPosition1D();\n            //var particleValue = this._scroll.particleValue;\n            _setParticle.call(this, particleValue + delta, undefined, 'normalize');\n            //console.log('normalized scrollOffset: ', normalizedScrollOffset, ', old: ', scrollOffset, ', particle: ', particleValue + delta);\n\n            // Adjust scroll spring\n            if (this._scroll.springPosition !== undefined) {\n                this._scroll.springPosition += delta;\n            }\n\n            // Adjust group offset\n            if (_isSequentiallyScrollingOptimized.call(this)) {\n                this._scroll.groupStart -= delta;\n            }\n        }\n        return normalizedScrollOffset;\n    }\n\n    /**\n     * Get all items that are partly or completely visible.\n     *\n     * The returned result is an array of objects containing the\n     * following properties. Example:\n     * ```javascript\n     * {\n     *   viewSequence: {LinkedListViewSequence},\n     *   index: {Number},\n     *   renderNode: {renderable},\n     *   visiblePerc: {Number} 0..1\n     * }\n     * ```\n     * @return {Array} array of items\n     */\n    ScrollController.prototype.getVisibleItems = function() {\n        var size = this._contextSizeCache;\n        var scrollOffset = this.options.alignment ? (this._scroll.unnormalizedScrollOffset + size[this._direction]) : this._scroll.unnormalizedScrollOffset;\n        var result = [];\n        var node = this._nodes.getStartEnumNode(true);\n        while (node) {\n            if (!node._invalidated || (node.scrollLength === undefined) || (scrollOffset > size[this._direction])) {\n                break;\n            }\n            scrollOffset += node.scrollLength;\n            if ((scrollOffset >= 0) && node._viewSequence){\n                result.push({\n                    index: node._viewSequence.getIndex(),\n                    viewSequence: node._viewSequence,\n                    renderNode: node.renderNode,\n                    visiblePerc: node.scrollLength ? ((Math.min(scrollOffset, size[this._direction]) - Math.max(scrollOffset - node.scrollLength, 0)) / node.scrollLength) : 1,\n                    scrollOffset: scrollOffset - node.scrollLength,\n                    scrollLength: node.scrollLength,\n                    _node: node\n                });\n            }\n            node = node._next;\n        }\n        scrollOffset = this.options.alignment ? (this._scroll.unnormalizedScrollOffset + size[this._direction]) : this._scroll.unnormalizedScrollOffset;\n        node = this._nodes.getStartEnumNode(false);\n        while (node) {\n            if (!node._invalidated || (node.scrollLength === undefined) || (scrollOffset < 0)) {\n                break;\n            }\n            scrollOffset -= node.scrollLength;\n            if ((scrollOffset < size[this._direction]) && node._viewSequence) {\n                result.unshift({\n                    index: node._viewSequence.getIndex(),\n                    viewSequence: node._viewSequence,\n                    renderNode: node.renderNode,\n                    visiblePerc: node.scrollLength ? ((Math.min(scrollOffset + node.scrollLength, size[this._direction]) - Math.max(scrollOffset, 0)) / node.scrollLength) : 1,\n                    scrollOffset: scrollOffset,\n                    scrollLength: node.scrollLength,\n                    _node: node\n                });\n            }\n            node = node._prev;\n        }\n        return result;\n    };\n\n    /**\n     * Get the first or last visible item in the view.\n     */\n    function _getVisibleItem(first) {\n        var result = {};\n        var diff;\n        var prevDiff = 10000000;\n        var diffDelta = (first && this.options.alignment) ? -this._contextSizeCache[this._direction] : ((!first && !this.options.alignment) ? this._contextSizeCache[this._direction] : 0);\n        var scrollOffset = this._scroll.unnormalizedScrollOffset;\n        var node = this._nodes.getStartEnumNode(true);\n        while (node) {\n            if (!node._invalidated || (node.scrollLength === undefined)) {\n                break;\n            }\n            if (node._viewSequence) {\n                diff = Math.abs(diffDelta - (scrollOffset + (!first ? node.scrollLength : 0)));\n                if (diff >= prevDiff) {\n                    break;\n                }\n                prevDiff = diff;\n                result.scrollOffset = scrollOffset;\n                result._node = node;\n                scrollOffset += node.scrollLength;\n            }\n            node = node._next;\n        }\n        scrollOffset = this._scroll.unnormalizedScrollOffset;\n        node = this._nodes.getStartEnumNode(false);\n        while (node) {\n            if (!node._invalidated || (node.scrollLength === undefined)) {\n                break;\n            }\n            if (node._viewSequence) {\n                scrollOffset -= node.scrollLength;\n                diff = Math.abs(diffDelta - (scrollOffset + (!first ? node.scrollLength : 0)));\n                if (diff >= prevDiff) {\n                    break;\n                }\n                prevDiff = diff;\n                result.scrollOffset = scrollOffset;\n                result._node = node;\n            }\n            node = node._prev;\n        }\n        if (!result._node) {\n            return undefined;\n        }\n        result.scrollLength = result._node.scrollLength;\n        if (this.options.alignment) {\n            result.visiblePerc = (Math.min(result.scrollOffset + result.scrollLength, 0) - Math.max(result.scrollOffset, -this._contextSizeCache[this._direction])) / result.scrollLength;\n        }\n        else {\n            result.visiblePerc = (Math.min(result.scrollOffset + result.scrollLength, this._contextSizeCache[this._direction]) - Math.max(result.scrollOffset, 0)) / result.scrollLength;\n        }\n        result.index = result._node._viewSequence.getIndex();\n        result.viewSequence = result._node._viewSequence;\n        result.renderNode = result._node.renderNode;\n        return result;\n    }\n\n    /**\n     * Get the first visible item in the view.\n     *\n     * @return {Object} item or `undefined`\n     */\n    ScrollController.prototype.getFirstVisibleItem = function() {\n        return _getVisibleItem.call(this, true);\n    };\n\n    /**\n     * Get the last visible item in the view.\n     *\n     * @return {Object} item or `undefined`\n     */\n    ScrollController.prototype.getLastVisibleItem = function() {\n        return _getVisibleItem.call(this, false);\n    };\n\n    /**\n     * Helper function that goes to a view-sequence either by scrolling\n     * or immediately without any scrolling animation.\n     */\n    function _goToSequence(viewSequence, next, noAnimation) {\n        if (noAnimation) {\n            this._viewSequence = viewSequence;\n            this._scroll.springPosition = undefined;\n            _updateSpring.call(this);\n            this.halt();\n            this._scroll.scrollDelta = 0;\n            _setParticle.call(this, 0, 0, '_goToSequence');\n            this._scroll.scrollDirty = true;\n        }\n        else {\n            this._scroll.scrollToSequence = viewSequence;\n            this._scroll.scrollToRenderNode = viewSequence.get();\n            this._scroll.ensureVisibleRenderNode = undefined;\n            this._scroll.scrollToDirection = next;\n            this._scroll.scrollDirty = true;\n        }\n    }\n\n    /**\n     * Helper function that scrolls the view towards a view-sequence node.\n     */\n    function _ensureVisibleSequence(viewSequence, next) {\n        this._scroll.scrollToSequence = undefined;\n        this._scroll.scrollToRenderNode = undefined;\n        this._scroll.ensureVisibleRenderNode = viewSequence.get();\n        this._scroll.scrollToDirection = next;\n        this._scroll.scrollDirty = true;\n    }\n\n    /**\n     * Moves to the next node in the viewSequence.\n     *\n     * @param {Number} [amount] Amount of nodes to move\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without any scrolling animation.\n     */\n    function _goToPage(amount, noAnimation) {\n\n        // Get current scroll-position. When a previous call was made to\n        // `scroll' or `scrollTo` and that node has not yet been reached, then\n        // the amount is accumalated onto that scroll target.\n        var viewSequence = (!noAnimation ? this._scroll.scrollToSequence : undefined) || this._viewSequence;\n        if (!this._scroll.scrollToSequence && !noAnimation) {\n            var firstVisibleItem = this.getFirstVisibleItem();\n            if (firstVisibleItem) {\n                viewSequence = firstVisibleItem.viewSequence;\n                if (((amount < 0) && (firstVisibleItem.scrollOffset < 0)) ||\n                    ((amount > 0) && (firstVisibleItem.scrollOffset > 0))) {\n                    amount = 0;\n                }\n            }\n        }\n        if (!viewSequence) {\n            return;\n        }\n\n        // Find scroll target\n        for (var i = 0; i < Math.abs(amount); i++) {\n            var nextViewSequence = (amount > 0) ? viewSequence.getNext() : viewSequence.getPrevious();\n            if (nextViewSequence) {\n                viewSequence = nextViewSequence;\n            }\n            else {\n                break;\n            }\n        }\n        _goToSequence.call(this, viewSequence, amount >= 0, noAnimation);\n    }\n\n    /**\n     * Goes to the first page, making it visible.\n     *\n     * NOTE: This function does not work on ViewSequences that have the `loop` property enabled.\n     *\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without any scrolling animation.\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.goToFirstPage = function(noAnimation) {\n        if (!this._viewSequence) {\n            return this;\n        }\n        if (this._viewSequence._ && this._viewSequence._.loop) {\n            LayoutUtility.error('Unable to go to first item of looped ViewSequence');\n            return this;\n        }\n        var viewSequence = this._viewSequence;\n        while (viewSequence) {\n            var prev = viewSequence.getPrevious();\n            if (prev && prev.get()) {\n                viewSequence = prev;\n            }\n            else {\n                break;\n            }\n        }\n        _goToSequence.call(this, viewSequence, false, noAnimation);\n        return this;\n    };\n\n    /**\n     * Goes to the previous page, making it visible.\n     *\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without any scrolling animation.\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.goToPreviousPage = function(noAnimation) {\n        _goToPage.call(this, -1, noAnimation);\n        return this;\n    };\n\n    /**\n     * Goes to the next page, making it visible.\n     *\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without any scrolling animation.\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.goToNextPage = function(noAnimation) {\n        _goToPage.call(this, 1, noAnimation);\n        return this;\n    };\n\n    /**\n     * Goes to the last page, making it visible.\n     *\n     * NOTE: This function does not work on ViewSequences that have the `loop` property enabled.\n     *\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without any scrolling animation.\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.goToLastPage = function(noAnimation) {\n        if (!this._viewSequence) {\n            return this;\n        }\n        if (this._viewSequence._ && this._viewSequence._.loop) {\n            LayoutUtility.error('Unable to go to last item of looped ViewSequence');\n            return this;\n        }\n        var viewSequence = this._viewSequence;\n        while (viewSequence) {\n            var next = viewSequence.getNext();\n            if (next && next.get()) {\n                viewSequence = next;\n            }\n            else {\n                break;\n            }\n        }\n        _goToSequence.call(this, viewSequence, true, noAnimation);\n        return this;\n    };\n\n    /**\n     * Goes to the given renderable in the datasource.\n     *\n     * @param {RenderNode} node renderable to scroll to.\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without scrolling animation.\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.goToRenderNode = function(node, noAnimation) {\n\n        // Verify arguments and state\n        if (!this._viewSequence || !node) {\n            return this;\n        }\n\n        // Check current node\n        if (this._viewSequence.get() === node) {\n            var next = _calcScrollOffset.call(this) >= 0;\n            _goToSequence.call(this, this._viewSequence, next, noAnimation);\n            return this;\n        }\n\n        // Find the sequence-node that we want to scroll to.\n        // We look at both directions at the same time.\n        // The first match that is encountered, that direction is chosen.\n        var nextSequence = this._viewSequence.getNext();\n        var prevSequence = this._viewSequence.getPrevious();\n        while ((nextSequence || prevSequence) && (nextSequence !== this._viewSequence)){\n            var nextNode = nextSequence ? nextSequence.get() : undefined;\n            if (nextNode === node) {\n                _goToSequence.call(this, nextSequence, true, noAnimation);\n                break;\n            }\n            var prevNode = prevSequence ? prevSequence.get() : undefined;\n            if (prevNode === node) {\n                _goToSequence.call(this, prevSequence, false, noAnimation);\n                break;\n            }\n            nextSequence = nextNode ? nextSequence.getNext() : undefined;\n            prevSequence = prevNode ? prevSequence.getPrevious() : undefined;\n        }\n        return this;\n    };\n\n    /**\n     * Ensures that a render-node is entirely visible.\n     *\n     * When the node is already visible, nothing happens. If the node is not entirely visible\n     * the view is scrolled as much as needed to make it entirely visibl.\n     *\n     * @param {Number|LinkedListViewSequence|Renderable} node index, renderNode or LinkedListViewSequence\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.ensureVisible = function(node) {\n\n        // Convert argument into renderNode\n        if (node instanceof LinkedListViewSequence) {\n            node = node.get();\n        }\n        else if ((node instanceof Number) || (typeof node === 'number')) {\n            var viewSequence = this._viewSequence;\n            while (viewSequence.getIndex() < node) {\n                viewSequence = viewSequence.getNext();\n                if (!viewSequence) {\n                    return this;\n                }\n            }\n            while (viewSequence.getIndex() > node) {\n                viewSequence = viewSequence.getPrevious();\n                if (!viewSequence) {\n                    return this;\n                }\n            }\n        }\n\n        // Check current node\n        if (this._viewSequence.get() === node) {\n            var next = _calcScrollOffset.call(this) >= 0;\n            _ensureVisibleSequence.call(this, this._viewSequence, next);\n            return this;\n        }\n\n        // Find the sequence-node that we want to scroll to.\n        // We look at both directions at the same time.\n        // The first match that is encountered, that direction is chosen.\n        var nextSequence = this._viewSequence.getNext();\n        var prevSequence = this._viewSequence.getPrevious();\n        while ((nextSequence || prevSequence) && (nextSequence !== this._viewSequence)){\n            var nextNode = nextSequence ? nextSequence.get() : undefined;\n            if (nextNode === node) {\n                _ensureVisibleSequence.call(this, nextSequence, true);\n                break;\n            }\n            var prevNode = prevSequence ? prevSequence.get() : undefined;\n            if (prevNode === node) {\n                _ensureVisibleSequence.call(this, prevSequence, false);\n                break;\n            }\n            nextSequence = nextNode ? nextSequence.getNext() : undefined;\n            prevSequence = prevNode ? prevSequence.getPrevious() : undefined;\n        }\n\n        return this;\n    };\n\n    /**\n     * Scrolls the view by the specified number of pixels.\n     *\n     * @param {Number} delta Delta in pixels (< 0 = down/right, > 0 = top/left).\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.scroll = function(delta) {\n        this.halt();\n        this._scroll.scrollDelta += delta;\n        return this;\n    };\n\n    /**\n     * Checks whether the scrollview can scroll the given delta.\n     * When the scrollView can scroll the whole delta, then\n     * the return value is the same as the delta. If it cannot\n     * scroll the entire delta, the return value is the number of\n     * pixels that can be scrolled.\n     *\n     * @param {Number} delta Delta to test\n     * @return {Number} Number of pixels the view is allowed to scroll\n     */\n    ScrollController.prototype.canScroll = function(delta) {\n\n        // Calculate height in both directions\n        var scrollOffset = _calcScrollOffset.call(this);\n        var prevHeight = this._calcScrollHeight(false);\n        var nextHeight = this._calcScrollHeight(true);\n\n        // When the rendered height is smaller than the total height,\n        // then no scrolling whatsover is allowed.\n        var totalHeight;\n        if ((nextHeight !== undefined) && (prevHeight !== undefined)) {\n            totalHeight = prevHeight + nextHeight;\n        }\n        if ((totalHeight !== undefined) && (totalHeight <= this._contextSizeCache[this._direction])) {\n            return 0; // no scrolling at all allowed\n        }\n\n        // Determine the offset that we can scroll\n        if ((delta < 0) && (nextHeight !== undefined)) {\n            var nextOffset = this._contextSizeCache[this._direction] - (scrollOffset + nextHeight);\n            return Math.max(nextOffset, delta);\n        }\n        else if ((delta > 0) && (prevHeight !== undefined)) {\n            var prevOffset = -(scrollOffset - prevHeight);\n            return Math.min(prevOffset, delta);\n        }\n        return delta;\n    };\n\n    /**\n     * Halts all scrolling going on. In essence this function sets\n     * the velocity to 0 and cancels any `goToXxx` operation that\n     * was applied.\n     *\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.halt = function() {\n        this._scroll.scrollToSequence = undefined;\n        this._scroll.scrollToRenderNode = undefined;\n        this._scroll.ensureVisibleRenderNode = undefined;\n        _setParticle.call(this, undefined, 0, 'halt');\n        return this;\n    };\n\n    /**\n     * Checks whether scrolling is in progress or not.\n     *\n     * @return {Bool} true when scrolling is active\n     */\n    ScrollController.prototype.isScrolling = function() {\n        return this._scroll.isScrolling;\n    };\n\n    /**\n     * Checks whether any boundaries have been reached.\n     *\n     * @return {ScrollController.Bounds} Either, Bounds.PREV, Bounds.NEXT, Bounds.BOTH or Bounds.NONE\n     */\n    ScrollController.prototype.getBoundsReached = function() {\n        return this._scroll.boundsReached;\n    };\n\n    /**\n     * Get the current scrolling velocity.\n     *\n     * @return {Number} Scroll velocity\n     */\n    ScrollController.prototype.getVelocity = function() {\n        return this._scroll.particle.getVelocity1D();\n    };\n\n    /**\n     * Get the current energy of the scrolling particle.\n     *\n     * @return {Number} Energy\n     */\n    ScrollController.prototype.getEnergy = function() {\n        return this._scroll.particle.getEnergy();\n    };\n\n    /**\n     * Set the scrolling velocity.\n     *\n     * @param {Number} velocity New scroll velocity\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.setVelocity = function(velocity) {\n        return this._scroll.particle.setVelocity1D(velocity);\n    };\n\n    /**\n     * Applies a permanent scroll-force (delta) until it is released.\n     * When the cumulative scroll-offset lies outside the allowed bounds\n     * a strech effect is used, and the offset beyond the bounds is\n     * substracted by halve. This function should always be accompanied\n     * by a call to `releaseScrollForce`.\n     *\n     * This method is used for instance when using touch gestures to move\n     * the scroll offset and corresponds to the `touchstart` event.\n     *\n     * @param {Number} delta Starting scroll-delta force to apply\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.applyScrollForce = function(delta) {\n        this.halt();\n        if (this._scroll.scrollForceCount === 0) {\n            this._scroll.scrollForceStartItem = this.options.alignment ? this.getLastVisibleItem() : this.getFirstVisibleItem();\n        }\n        this._scroll.scrollForceCount++;\n        this._scroll.scrollForce += delta;\n        this._eventOutput.emit((this._scroll.scrollForceCount === 1) ? 'swipestart' : 'swipeupdate', {\n            target: this,\n            total: this._scroll.scrollForce,\n            delta: delta\n        });\n        return this;\n    };\n\n    /**\n     * Updates a existing scroll-force previously applied by calling\n     * `applyScrollForce`.\n     *\n     * This method is used for instance when using touch gestures to move\n     * the scroll offset and corresponds to the `touchmove` event.\n     *\n     * @param {Number} prevDelta Previous delta\n     * @param {Number} newDelta New delta\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.updateScrollForce = function(prevDelta, newDelta) {\n        this.halt();\n        newDelta -= prevDelta;\n        this._scroll.scrollForce += newDelta;\n        this._eventOutput.emit('swipeupdate', {\n            target: this,\n            total: this._scroll.scrollForce,\n            delta: newDelta\n        });\n        return this;\n    };\n\n    /**\n     * Releases a scroll-force and sets the velocity.\n     *\n     * This method is used for instance when using touch gestures to move\n     * the scroll offset and corresponds to the `touchend` event.\n     *\n     * @param {Number} delta Scroll delta to release\n     * @param {Number} [velocity] Velocity to apply after which the view keeps scrolling\n     * @return {ScrollController} this\n     */\n    ScrollController.prototype.releaseScrollForce = function(delta, velocity) {\n        this.halt();\n        if (this._scroll.scrollForceCount === 1) {\n            var scrollOffset = _calcScrollOffset.call(this);\n            _setParticle.call(this, scrollOffset, velocity, 'releaseScrollForce');\n            this._scroll.pe.wake();\n            this._scroll.scrollForce = 0;\n            this._scroll.scrollDirty = true;\n            if (this._scroll.scrollForceStartItem && this.options.paginated && (this.options.paginationMode === PaginationMode.PAGE)) {\n                var item = this.options.alignment ? this.getLastVisibleItem(true) : this.getFirstVisibleItem(true);\n                if (item) {\n                    if (item.renderNode !== this._scroll.scrollForceStartItem.renderNode) {\n                        this.goToRenderNode(item.renderNode);\n                    }\n                    else if (this.options.paginationEnergyThreshold && (Math.abs(this._scroll.particle.getEnergy()) >= this.options.paginationEnergyThreshold)) {\n                        velocity = velocity || 0;\n                        if ((velocity < 0) && item._node._next && item._node._next.renderNode) {\n                            this.goToRenderNode(item._node._next.renderNode);\n                        }\n                        else if ((velocity >= 0) && item._node._prev && item._node._prev.renderNode) {\n                            this.goToRenderNode(item._node._prev.renderNode);\n                        }\n                    }\n                    else {\n                        this.goToRenderNode(item.renderNode);\n                    }\n                }\n            }\n            this._scroll.scrollForceStartItem = undefined;\n            this._scroll.scrollForceCount--;\n            this._eventOutput.emit('swipeend', {\n                target: this,\n                total: delta,\n                delta: 0,\n                velocity: velocity\n            });\n        }\n        else {\n            this._scroll.scrollForce -= delta;\n            this._scroll.scrollForceCount--;\n            this._eventOutput.emit('swipeupdate', {\n                target: this,\n                total: this._scroll.scrollForce,\n                delta: delta\n            });\n        }\n        return this;\n    };\n\n     /**\n     * Get the spec (size, transform, etc..) for the given renderable or\n     * Id.\n     *\n     * @param {Renderable|String} node Renderabe or Id to look for.\n     * @param {Bool} normalize When set to `true` normalizes the origin/align into the transform translation (default: `false`).\n     * @return {Spec} spec or undefined\n     */\n    ScrollController.prototype.getSpec = function(node, normalize) {\n        var spec = LayoutController.prototype.getSpec.apply(this, arguments);\n        if (spec && _isSequentiallyScrollingOptimized.call(this)) {\n            spec = {\n                origin: spec.origin,\n                align: spec.align,\n                opacity: spec.opacity,\n                size: spec.size,\n                renderNode: spec.renderNode,\n                transform: spec.transform\n            };\n            var translate = [0, 0, 0];\n            translate[this._direction] = this._scrollOffsetCache + this._scroll.groupStart;\n            spec.transform = Transform.thenMove(spec.transform, translate);\n        }\n        return spec;\n    };\n\n    /**\n     * Executes the layout and updates the state of the scrollview.\n     */\n    function _layout(size, scrollOffset, nested) {\n\n        // Track the number of times the layout-function was executed\n        this._debug.layoutCount++;\n        //_log.call(this, 'Layout, scrollOffset: ', scrollOffset, ', particle: ', this._scroll.particle.getPosition1D());\n\n        // Determine start & end\n        var scrollStart = 0 - Math.max(this.options.extraBoundsSpace[0], 1);\n        var scrollEnd = size[this._direction] + Math.max(this.options.extraBoundsSpace[1], 1);\n        if (this.options.paginated && (this.options.paginationMode === PaginationMode.PAGE)) {\n            scrollStart = scrollOffset - this.options.extraBoundsSpace[0];\n            scrollEnd = scrollOffset + size[this._direction] + this.options.extraBoundsSpace[1];\n            if ((scrollOffset + size[this._direction]) < 0) {\n                scrollStart += size[this._direction];\n                scrollEnd += size[this._direction];\n            }\n            else if ((scrollOffset - size[this._direction]) > 0) {\n                scrollStart -= size[this._direction];\n                scrollEnd -= size[this._direction];\n            }\n        }\n        if (this.options.layoutAll) {\n            scrollStart = -1000000;\n            scrollEnd = 1000000;\n        }\n\n        // Prepare for layout\n        var layoutContext = this._nodes.prepareForLayout(\n            this._viewSequence,     // first node to layout\n            this._nodesById, {      // so we can do fast id lookups\n                size: size,\n                direction: this._direction,\n                reverse: this.options.alignment ? true : false,\n                scrollOffset: this.options.alignment ? (scrollOffset + size[this._direction]) : scrollOffset,\n                scrollStart: scrollStart,\n                scrollEnd: scrollEnd\n            }\n        );\n\n        // Layout objects\n        if (this._layout._function) {\n            this._layout._function(\n                layoutContext,          // context which the layout-function can use\n                this._layout.options    // additional layout-options\n            );\n        }\n        this._scroll.unnormalizedScrollOffset = scrollOffset;\n\n        // Call post-layout function\n        if (this._postLayout) {\n            this._postLayout(size, scrollOffset);\n        }\n\n        // Mark non-invalidated nodes for removal\n        this._nodes.removeNonInvalidatedNodes(this.options.flowOptions.removeSpec);\n\n        // Check whether the bounds have been reached\n        //var oldBoundsReached = this._scroll.boundsReached;\n        _calcBounds.call(this, size, scrollOffset);\n        //if (oldBoundsReached !== this._scroll.boundsReached) {\n        //    _log.call(this, 'bounds reached changed (', oldBoundsReached, ' != ', this._scroll.boundsReached, ')');\n        //}\n\n        // Update scroll-to spring\n        _calcScrollToOffset.call(this, size, scrollOffset);\n\n        // When pagination is enabled, snap to page\n        _snapToPage.call(this);\n\n        // If the bounds have changed, and the scroll-offset would be different\n        // than before, then re-layout entirely using the new offset.\n        var newScrollOffset = _calcScrollOffset.call(this, true);\n        if (!nested && (newScrollOffset !== scrollOffset)) {\n            //_log.call(this, 'offset changed, re-layouting... (', scrollOffset, ' != ', newScrollOffset, ')');\n            return _layout.call(this, size, newScrollOffset, true);\n        }\n\n        // Normalize scroll offset so that the current viewsequence node is as close to the\n        // top as possible and the layout function will need to process the least amount\n        // of renderables.\n        scrollOffset = _normalizeViewSequence.call(this, size, scrollOffset);\n\n        // Update spring\n        _updateSpring.call(this);\n\n        // Cleanup any nodes in case of a VirtualViewSequence\n        this._nodes.removeVirtualViewSequenceNodes();\n\n        // Calculate scroll-length and use that as the true-size (height)\n        if (this.options.size && (this.options.size[this._direction] === true)) {\n            var scrollLength = 0;\n            var node = this._nodes.getStartEnumNode();\n            while (node) {\n                if (node._invalidated && node.scrollLength) {\n                    scrollLength += node.scrollLength;\n                }\n                node = node._next;\n            }\n            this._size = this._size || [0, 0];\n            this._size[0] = this.options.size[0];\n            this._size[1] = this.options.size[1];\n            this._size[this._direction] = scrollLength;\n        }\n\n        return scrollOffset;\n    }\n\n    /**\n     * Inner render function of the Group\n     */\n    function _innerRender() {\n        var specs = this._specs;\n        for (var i3 = 0, j3 = specs.length; i3 < j3; i3++) {\n            if (specs[i3].renderNode) {\n                specs[i3].target = specs[i3].renderNode.render();\n            }\n        }\n\n        // Add our cleanup-registration id also to the list, so that the\n        // cleanup function is called by famo.us when the LayoutController is\n        // removed from the render-tree.\n        if (!specs.length || (specs[specs.length-1] !== this._cleanupRegistration)) {\n            specs.push(this._cleanupRegistration);\n        }\n        return specs;\n    }\n\n    /**\n     * Apply changes from this component to the corresponding document element.\n     * This includes changes to classes, styles, size, content, opacity, origin,\n     * and matrix transforms.\n     *\n     * @private\n     * @method commit\n     * @param {Context} context commit context\n     */\n    ScrollController.prototype.commit = function commit(context) {\n        var size = context.size;\n\n        // Update debug info\n        this._debug.commitCount++;\n\n        // Reset the flow-state when requested\n        if (this._resetFlowState) {\n            this._resetFlowState = false;\n            this._isDirty = true;\n            this._nodes.removeAll();\n        }\n\n        // Calculate scroll offset\n        var scrollOffset = _calcScrollOffset.call(this, true, true);\n        if (this._scrollOffsetCache === undefined) {\n            this._scrollOffsetCache = scrollOffset;\n        }\n\n        // When the size or layout function has changed, reflow the layout\n        var emitEndScrollingEvent = false;\n        var emitScrollEvent = false;\n        var eventData;\n        if (size[0] !== this._contextSizeCache[0] ||\n            size[1] !== this._contextSizeCache[1] ||\n            this._isDirty ||\n            this._scroll.scrollDirty ||\n            this._nodes._trueSizeRequested ||\n            this.options.alwaysLayout ||\n            this._scrollOffsetCache !== scrollOffset) {\n\n            // Prepare event data\n            eventData = {\n                target: this,\n                oldSize: this._contextSizeCache,\n                size: size,\n                oldScrollOffset: -(this._scrollOffsetCache + this._scroll.groupStart),\n                scrollOffset: -(scrollOffset + this._scroll.groupStart)\n            };\n\n            // When scroll-offset has changed, emit scroll-start and scroll events\n            if (this._scrollOffsetCache !== scrollOffset) {\n                if (!this._scroll.isScrolling) {\n                    this._scroll.isScrolling = true;\n                    this._eventOutput.emit('scrollstart', eventData);\n                }\n                emitScrollEvent = true;\n            }\n            else if (this._scroll.isScrolling && !this._scroll.scrollForceCount) {\n                emitEndScrollingEvent = true;\n            }\n\n            this._eventOutput.emit('layoutstart', eventData);\n\n            // When the layout has changed, and we are not just scrolling,\n            // disable the locked state of the layout-nodes so that they\n            // can freely transition between the old and new state.\n            if (this.options.flow && (this._isDirty ||\n                (this.options.flowOptions.reflowOnResize &&\n                ((size[0] !== this._contextSizeCache[0]) ||\n                 (size[1] !== this._contextSizeCache[1]))))) {\n                var node = this._nodes.getStartEnumNode();\n                while (node) {\n                    node.releaseLock(true);\n                    node = node._next;\n                }\n            }\n\n            // Update state\n            this._contextSizeCache[0] = size[0];\n            this._contextSizeCache[1] = size[1];\n            this._isDirty = false;\n            this._scroll.scrollDirty = false;\n\n            // Perform layout\n            scrollOffset = _layout.call(this, size, scrollOffset);\n            this._scrollOffsetCache = scrollOffset;\n\n            // Emit end event\n            eventData.scrollOffset = -(this._scrollOffsetCache + this._scroll.groupStart);\n        }\n        else if (this._scroll.isScrolling && !this._scroll.scrollForceCount) {\n            emitEndScrollingEvent = true;\n        }\n\n        // Update output and optionally emit event\n        var groupTranslate = this._scroll.groupTranslate;\n        groupTranslate[0] = 0;\n        groupTranslate[1] = 0;\n        groupTranslate[2] = 0;\n        groupTranslate[this._direction] = -this._scroll.groupStart - scrollOffset;\n        var sequentialScrollingOptimized = _isSequentiallyScrollingOptimized.call(this);\n        var result = this._nodes.buildSpecAndDestroyUnrenderedNodes(sequentialScrollingOptimized ? groupTranslate : undefined);\n        this._specs = result.specs;\n        if (!this._specs.length) {\n          this._scroll.groupStart = 0;\n        }\n        if (eventData) { // eventData is only used here to check whether there has been a re-layout\n            this._eventOutput.emit('layoutend', eventData);\n        }\n        if (result.modified) {\n            this._eventOutput.emit('reflow', {\n                target: this\n            });\n        }\n\n        // View has been scrolled, emit event\n        if (emitScrollEvent) {\n            this._eventOutput.emit('scroll', eventData);\n        }\n\n        // Check whether the current page has changed\n        if (eventData) { // eventData is only used here to check whether there has been a re-layout\n            var visibleItem = this.options.alignment ? this.getLastVisibleItem() : this.getFirstVisibleItem();\n            if ((visibleItem && !this._visibleItemCache) || (!visibleItem && this._visibleItemCache) ||\n                (visibleItem && this._visibleItemCache && (visibleItem.renderNode !== this._visibleItemCache.renderNode))) {\n                this._eventOutput.emit('pagechange', {\n                    target: this,\n                    oldViewSequence: this._visibleItemCache ? this._visibleItemCache.viewSequence : undefined,\n                    viewSequence: visibleItem ? visibleItem.viewSequence : undefined,\n                    oldIndex: this._visibleItemCache ? this._visibleItemCache.index : undefined,\n                    index: visibleItem ? visibleItem.index : undefined,\n                    renderNode: visibleItem ? visibleItem.renderNode : undefined,\n                    oldRenderNode: this._visibleItemCache ? this._visibleItemCache.renderNode : undefined\n                });\n                this._visibleItemCache = visibleItem;\n            }\n        }\n\n        // Emit end scrolling event\n        if (emitEndScrollingEvent) {\n            this._scroll.isScrolling = false;\n            eventData = {\n                target: this,\n                oldSize: size,\n                size: size,\n                oldScrollOffset: -(this._scroll.groupStart + scrollOffset),\n                scrollOffset: -(this._scroll.groupStart + scrollOffset)\n            };\n            this._eventOutput.emit('scrollend', eventData);\n        }\n\n        // When renderables are layed out sequentiall (e.g. a ListLayout or\n        // CollectionLayout), then offset the renderables onto the Group\n        // and move the group offset instead. This creates a very big performance gain\n        // as the renderables don't have to be repositioned for every change\n        // to the scrollOffset. For layouts that don't layout sequence, disable\n        // this behavior as it will be decremental to the performance.\n        var transform = context.transform;\n        if (sequentialScrollingOptimized) {\n            var windowOffset = scrollOffset + this._scroll.groupStart;\n            var translate = [0, 0, 0];\n            translate[this._direction] = windowOffset;\n            transform = Transform.thenMove(transform, translate);\n        }\n\n        // Return the spec\n        return {\n            transform: transform,\n            size: size,\n            opacity: context.opacity,\n            origin: context.origin,\n            target: this.group.render()\n        };\n    };\n\n    /**\n     * Generate a render spec from the contents of this component.\n     *\n     * @private\n     * @method render\n     * @return {number} Render spec for this component\n     */\n    ScrollController.prototype.render = function render() {\n        if (this.container) {\n            return this.container.render.apply(this.container, arguments);\n        }\n        else {\n            return this.id;\n        }\n    };\n\n    module.exports = ScrollController;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/ScrollController.js\n ** module id = 37\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2014 - 2015\n */\n\n/*global console*/\n/*eslint no-console: 0*/\n\n/**\n * LayoutController lays out renderables according to a layout-\n * function and a data-source.\n *\n * Events:\n *\n * |event      |description|\n * |-----------|-----------|\n * |layoutstart|Emitted before the layout function is executed.|\n * |layoutend  |Emitted after the layout function has been executed.|\n * |reflow     |Emitted after one or more renderables have been changed.|\n *\n * @module\n */\ndefine(function(require, exports, module) {\n\n    // import dependencies\n    var Utility = require('famous/utilities/Utility');\n    var Entity = require('famous/core/Entity');\n    var ViewSequence = require('famous/core/ViewSequence');\n    var LinkedListViewSequence = require('./LinkedListViewSequence');\n    var OptionsManager = require('famous/core/OptionsManager');\n    var EventHandler = require('famous/core/EventHandler');\n    var LayoutUtility = require('./LayoutUtility');\n    var LayoutNodeManager = require('./LayoutNodeManager');\n    var LayoutNode = require('./LayoutNode');\n    var FlowLayoutNode = require('./FlowLayoutNode');\n    var Transform = require('famous/core/Transform');\n    require('./helpers/LayoutDockHelper');\n\n    /**\n     * @class\n     * @param {Object} options Options.\n     * @param {Function|Object} [options.layout] Layout function or layout-literal.\n     * @param {Object} [options.layoutOptions] Options to pass in to the layout-function.\n     * @param {Array|LinkedListViewSequence|Object} [options.dataSource] Array, LinkedListViewSequence or Object with key/value pairs.\n     * @param {Utility.Direction} [options.direction] Direction to layout into (e.g. Utility.Direction.Y) (when omitted the default direction of the layout is used)\n     * @param {Bool} [options.flow] Enables flow animations when the layout changes (default: `false`).\n     * @param {Object} [options.flowOptions] Options used by nodes when reflowing.\n     * @param {Bool} [options.flowOptions.reflowOnResize] Smoothly reflows renderables on resize (only used when flow = true) (default: `true`).\n     * @param {Object} [options.flowOptions.spring] Spring options used by nodes when reflowing (default: `{dampingRatio: 0.8, period: 300}`).\n     * @param {Object} [options.flowOptions.properties] Properties which should be enabled or disabled for flowing.\n     * @param {Spec} [options.flowOptions.insertSpec] Size, transform, opacity... to use when inserting new renderables into the scene (default: `{}`).\n     * @param {Spec} [options.flowOptions.removeSpec] Size, transform, opacity... to use when removing renderables from the scene (default: `{}`).\n     * @param {Bool} [options.alwaysLayout] When set to true, always calls the layout function on every render-cycle (default: `false`).\n     * @param {Bool} [options.autoPipeEvents] When set to true, automatically calls .pipe on all renderables when inserted (default: `false`).\n     * @param {Object} [options.preallocateNodes] Optimisation option to improve initial scrolling/animation performance by pre-allocating nodes, e.g.: `{count: 50, spec: {size:[0, 0], transform: Transform.identity}}`.\n     * @alias module:LayoutController\n     */\n    function LayoutController(options, nodeManager) {\n\n        // Commit\n        this.id = Entity.register(this);\n        this._isDirty = true;\n        this._contextSizeCache = [0, 0];\n        this._commitOutput = {};\n\n        // Create an object to we can capture the famo.us cleanup call on\n        // LayoutController.\n        this._cleanupRegistration = {\n          commit: function() {\n              return undefined;\n          },\n          cleanup: function(context) {\n              this.cleanup(context);\n          }.bind(this)\n        };\n        this._cleanupRegistration.target = Entity.register(this._cleanupRegistration);\n        this._cleanupRegistration.render = function() {\n          return this.target;\n        }.bind(this._cleanupRegistration);\n\n        // Setup input event handler\n        this._eventInput = new EventHandler();\n        EventHandler.setInputHandler(this, this._eventInput);\n\n        // Setup event handlers\n        this._eventOutput = new EventHandler();\n        EventHandler.setOutputHandler(this, this._eventOutput);\n\n        // Data-source\n        //this._dataSource = undefined;\n        //this._nodesById = undefined;\n        //this._viewSequence = undefined;\n\n        // Layout\n        this._layout = {\n            //function: undefined,\n            //literal: undefined,\n            //capabilities: undefined,\n            options: Object.create({})\n        };\n        //this._direction = undefined;\n        this._layout.optionsManager = new OptionsManager(this._layout.options);\n        this._layout.optionsManager.on('change', function() {\n            this._isDirty = true;\n        }.bind(this));\n\n        // Create options\n        this.options = Object.create(LayoutController.DEFAULT_OPTIONS);\n        this._optionsManager = new OptionsManager(this.options);\n\n        // Create node manager that manages (Flow)LayoutNode instances\n        if (nodeManager) {\n            this._nodes = nodeManager;\n        }\n        else if (options && options.flow) {\n            this._nodes = new LayoutNodeManager(FlowLayoutNode, _initFlowLayoutNode.bind(this));\n        }\n        else {\n            this._nodes = new LayoutNodeManager(LayoutNode);\n        }\n\n        // Set options\n        this.setDirection(undefined);\n        if (options) {\n            this.setOptions(options);\n        }\n    }\n\n    LayoutController.DEFAULT_OPTIONS = {\n        flow: false,\n        flowOptions: {\n            reflowOnResize: true,\n            properties: {\n                opacity: true,\n                align: true,\n                origin: true,\n                size: true,\n                translate: true,\n                skew: true,\n                rotate: true,\n                scale: true\n            },\n            spring: {\n                dampingRatio: 0.8,\n                period: 300\n            }\n            /*insertSpec: {\n                opacity: undefined,\n                size: undefined,\n                transform: undefined,\n                origin: undefined,\n                align: undefined\n            },\n            removeSpec: {\n                opacity: undefined,\n                size: undefined,\n                transform: undefined,\n                origin: undefined,\n                align: undefined\n            }*/\n        }\n    };\n\n    /**\n     * Called whenever a layout-node is created/re-used. Initializes\n     * the node with the `insertSpec` if it has been defined.\n     */\n    function _initFlowLayoutNode(node, spec) {\n        if (!spec && this.options.flowOptions.insertSpec) {\n            node.setSpec(this.options.flowOptions.insertSpec);\n        }\n    }\n\n    /**\n     * Patches the LayoutController instance's options with the passed-in ones.\n     *\n     * @param {Options} options An object of configurable options for the LayoutController instance.\n     * @param {Function|Object} [options.layout] Layout function or layout-literal.\n     * @param {Object} [options.layoutOptions] Options to pass in to the layout-function.\n     * @param {Array|LinkedListViewSequence|Object} [options.dataSource] Array, LinkedListViewSequence or Object with key/value pairs.\n     * @param {Utility.Direction} [options.direction] Direction to layout into (e.g. Utility.Direction.Y) (when omitted the default direction of the layout is used)\n     * @param {Object} [options.flowOptions] Options used by nodes when reflowing.\n     * @param {Bool} [options.flowOptions.reflowOnResize] Smoothly reflows renderables on resize (only used when flow = true) (default: `true`).\n     * @param {Object} [options.flowOptions.spring] Spring options used by nodes when reflowing (default: `{dampingRatio: 0.8, period: 300}`).\n     * @param {Object} [options.flowOptions.properties] Properties which should be enabled or disabled for flowing.\n     * @param {Spec} [options.flowOptions.insertSpec] Size, transform, opacity... to use when inserting new renderables into the scene (default: `{}`).\n     * @param {Spec} [options.flowOptions.removeSpec] Size, transform, opacity... to use when removing renderables from the scene (default: `{}`).\n     * @param {Bool} [options.alwaysLayout] When set to true, always calls the layout function on every render-cycle (default: `false`).\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.setOptions = function(options) {\n        if ((options.alignment !== undefined) && (options.alignment !== this.options.alignment)) {\n            this._isDirty = true;\n        }\n        this._optionsManager.setOptions(options);\n        if (options.nodeSpring) {\n            console.warn('nodeSpring options have been moved inside `flowOptions`. Use `flowOptions.spring` instead.');\n            this._optionsManager.setOptions({\n                flowOptions: {\n                    spring: options.nodeSpring\n                }\n            });\n            this._nodes.setNodeOptions(this.options.flowOptions);\n        }\n        if (options.reflowOnResize !== undefined) {\n            console.warn('reflowOnResize options have been moved inside `flowOptions`. Use `flowOptions.reflowOnResize` instead.');\n            this._optionsManager.setOptions({\n                flowOptions: {\n                    reflowOnResize: options.reflowOnResize\n                }\n            });\n            this._nodes.setNodeOptions(this.options.flowOptions);\n        }\n        if (options.insertSpec) {\n            console.warn('insertSpec options have been moved inside `flowOptions`. Use `flowOptions.insertSpec` instead.');\n            this._optionsManager.setOptions({\n                flowOptions: {\n                    insertSpec: options.insertSpec\n                }\n            });\n            this._nodes.setNodeOptions(this.options.flowOptions);\n        }\n        if (options.removeSpec) {\n            console.warn('removeSpec options have been moved inside `flowOptions`. Use `flowOptions.removeSpec` instead.');\n            this._optionsManager.setOptions({\n                flowOptions: {\n                    removeSpec: options.removeSpec\n                }\n            });\n            this._nodes.setNodeOptions(this.options.flowOptions);\n        }\n        if (options.dataSource) {\n            this.setDataSource(options.dataSource);\n        }\n        if (options.layout) {\n            this.setLayout(options.layout, options.layoutOptions);\n        }\n        else if (options.layoutOptions) {\n            this.setLayoutOptions(options.layoutOptions);\n        }\n        if (options.direction !== undefined) {\n            this.setDirection(options.direction);\n        }\n        if (options.flowOptions && this.options.flow) {\n            this._nodes.setNodeOptions(this.options.flowOptions);\n        }\n        if (options.preallocateNodes) {\n            this._nodes.preallocateNodes(options.preallocateNodes.count || 0, options.preallocateNodes.spec);\n        }\n        return this;\n    };\n\n    /**\n     * Helper function to enumerate all the renderables in the datasource\n     */\n    function _forEachRenderable(callback) {\n        if (this._nodesById) {\n            for (var key in this._nodesById) {\n                callback(this._nodesById[key]);\n            }\n        }\n        else {\n            var sequence = this._viewSequence.getHead();\n            while (sequence) {\n                var renderable = sequence.get();\n                if (renderable) {\n                    callback(renderable);\n                }\n                sequence = sequence.getNext();\n            }\n        }\n    }\n\n    /**\n     * Sets the collection of renderables which are layed out according to\n     * the layout-function.\n     *\n     * The data-source can be either an Array, LinkedListViewSequence or Object\n     * with key/value pairs.\n     *\n     * @param {Array|Object|LinkedListViewSequence} dataSource Array, LinkedListViewSequence or Object.\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.setDataSource = function(dataSource) {\n        this._dataSource = dataSource;\n        this._nodesById = undefined;\n        if (dataSource instanceof ViewSequence) {\n            console.warn('The stock famo.us ViewSequence is no longer supported as it is too buggy');\n            console.warn('It has been automatically converted to the safe LinkedListViewSequence.');\n            console.warn('Please refactor your code by using LinkedListViewSequence.');\n            this._dataSource = new LinkedListViewSequence(dataSource._.array);\n            this._viewSequence = this._dataSource;\n        }\n        else if (dataSource instanceof Array) {\n            this._viewSequence = new LinkedListViewSequence(dataSource);\n        }\n        else if (dataSource instanceof LinkedListViewSequence) {\n            this._viewSequence = dataSource;\n        }\n        else if (dataSource.getNext) {\n            this._viewSequence = dataSource;\n        }\n        else if (dataSource instanceof Object){\n            this._nodesById = dataSource;\n        }\n        if (this.options.autoPipeEvents) {\n            if (this._dataSource.pipe) {\n                this._dataSource.pipe(this);\n                this._dataSource.pipe(this._eventOutput);\n            }\n            else {\n                _forEachRenderable.call(this, function(renderable) {\n                    if (renderable && renderable.pipe) {\n                        renderable.pipe(this);\n                        renderable.pipe(this._eventOutput);\n                    }\n                }.bind(this));\n            }\n        }\n        this._isDirty = true;\n        return this;\n    };\n\n    /**\n     * Get the data-source.\n     *\n     * @return {Array|LinkedListViewSequence|Object} data-source\n     */\n    LayoutController.prototype.getDataSource = function() {\n        return this._dataSource;\n    };\n\n    /**\n     * Set the new layout.\n     *\n     * @param {Function|Object} layout Layout function or layout-literal\n     * @param {Object} [options] Options to pass in to the layout-function\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.setLayout = function(layout, options) {\n\n        // Set new layout funtion\n        if (layout instanceof Function) {\n            this._layout._function = layout;\n            this._layout.capabilities = layout.Capabilities;\n            this._layout.literal = undefined;\n\n        // If the layout is an object, treat it as a layout-literal\n        }\n        else if (layout instanceof Object) {\n            this._layout.literal = layout;\n            this._layout.capabilities = undefined; // todo - derive from literal somehow?\n            var helperName = Object.keys(layout)[0];\n            var Helper = LayoutUtility.getRegisteredHelper(helperName);\n            this._layout._function = Helper ? function(context, options2) {\n                var helper = new Helper(context, options2);\n                helper.parse(layout[helperName]);\n            } : undefined;\n        }\n        else {\n            this._layout._function = undefined;\n            this._layout.capabilities = undefined;\n            this._layout.literal = undefined;\n        }\n\n        // Update options\n        if (options) {\n            this.setLayoutOptions(options);\n        }\n\n        // Update direction\n        this.setDirection(this._configuredDirection);\n        this._isDirty = true;\n        return this;\n    };\n\n    /**\n     * Get the current layout.\n     *\n     * @return {Function|Object} Layout function or layout literal\n     */\n    LayoutController.prototype.getLayout = function() {\n        return this._layout.literal || this._layout._function;\n    };\n\n    /**\n     * Set the options for the current layout. Use this function after\n     * `setLayout` to update one or more options for the layout-function.\n     *\n     * @param {Object} [options] Options to pass in to the layout-function\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.setLayoutOptions = function(options) {\n        this._layout.optionsManager.setOptions(options);\n        return this;\n    };\n\n    /**\n     * Get the current layout options.\n     *\n     * @return {Object} Layout options\n     */\n    LayoutController.prototype.getLayoutOptions = function() {\n        return this._layout.options;\n    };\n\n    /**\n     * Calculates the actual in-use direction based on the given direction\n     * and supported capabilities of the layout-function.\n     */\n    function _getActualDirection(direction) {\n\n        // When the direction is configured in the capabilities, look it up there\n        if (this._layout.capabilities && this._layout.capabilities.direction) {\n\n            // Multiple directions are supported\n            if (Array.isArray(this._layout.capabilities.direction)) {\n                for (var i = 0; i < this._layout.capabilities.direction.length; i++) {\n                    if (this._layout.capabilities.direction[i] === direction) {\n                        return direction;\n                    }\n                }\n                return this._layout.capabilities.direction[0];\n            }\n\n            // Only one direction is supported, we must use that\n            else {\n                return this._layout.capabilities.direction;\n            }\n        }\n\n        // Use Y-direction as a fallback\n        return (direction === undefined) ? Utility.Direction.Y : direction;\n    }\n\n    /**\n     * Set the direction of the layout. When no direction is set, the default\n     * direction of the layout function is used.\n     *\n     * @param {Utility.Direction} direction Direction (e.g. Utility.Direction.X)\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.setDirection = function(direction) {\n        this._configuredDirection = direction;\n        var newDirection = _getActualDirection.call(this, direction);\n        if (newDirection !== this._direction) {\n            this._direction = newDirection;\n            this._isDirty = true;\n        }\n    };\n\n    /**\n     * Get the direction (e.g. Utility.Direction.Y). By default, this function\n     * returns the direction that was configured by setting `setDirection`. When\n     * the direction has not been set, `undefined` is returned.\n     *\n     * When no direction has been set, the first direction is used that is specified\n     * in the capabilities of the layout-function. To obtain the actual in-use direction,\n     * use `getDirection(true)`. This method returns the actual in-use direction and\n     * never returns undefined.\n     *\n     * @param {Boolean} [actual] Set to true to obtain the actual in-use direction\n     * @return {Utility.Direction} Direction or undefined\n     */\n    LayoutController.prototype.getDirection = function(actual) {\n        return actual ? this._direction : this._configuredDirection;\n    };\n\n    /**\n     * Get the spec (size, transform, etc..) for the given renderable or\n     * Id.\n     *\n     * @param {Renderable|String} node Renderabe or Id to look for\n     * @param {Bool} [normalize] When set to `true` normalizes the origin/align into the transform translation (default: `false`).\n     * @param {Bool} [endState] When set to `true` returns the flowing end-state spec rather than the current spec.\n     * @return {Spec} spec or undefined\n     */\n    LayoutController.prototype.getSpec = function(node, normalize, endState) {\n        if (!node) {\n            return undefined;\n        }\n        if ((node instanceof String) || (typeof node === 'string')) {\n            if (!this._nodesById) {\n               return undefined;\n            }\n            node = this._nodesById[node];\n            if (!node) {\n                return undefined;\n            }\n\n            // If the result was an array, return that instead\n            if (node instanceof Array) {\n                return node;\n            }\n        }\n        if (this._specs) {\n            for (var i = 0; i < this._specs.length; i++) {\n                var spec = this._specs[i];\n                if (spec.renderNode === node) {\n                    if (endState && spec.endState) {\n                        spec = spec.endState;\n                    }\n                    // normalize align & origin into transform\n                    if (normalize && spec.transform && spec.size && (spec.align || spec.origin)) {\n                        var transform = spec.transform;\n                        if (spec.align && (spec.align[0] || spec.align[1])) {\n                            transform = Transform.thenMove(transform, [spec.align[0] * this._contextSizeCache[0], spec.align[1] * this._contextSizeCache[1], 0]);\n                        }\n                        if (spec.origin && (spec.origin[0] || spec.origin[1])) {\n                            transform = Transform.moveThen([-spec.origin[0] * spec.size[0], -spec.origin[1] * spec.size[1], 0], transform);\n                        }\n                        return {\n                            opacity: spec.opacity,\n                            size: spec.size,\n                            transform: transform\n                        };\n                    }\n                    return spec;\n                }\n            }\n        }\n        return undefined;\n    };\n\n    /**\n     * Forces a reflow of the layout the next render cycle.\n     *\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.reflowLayout = function() {\n        this._isDirty = true;\n        return this;\n    };\n\n    /**\n     * Resets the current flow state, so that all renderables\n     * are immediately displayed in their end-state.\n     *\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.resetFlowState = function() {\n        if (this.options.flow) {\n            this._resetFlowState = true;\n        }\n        return this;\n    };\n\n    /**\n     * Inserts a renderable into the data-source.\n     *\n     * The optional argument `insertSpec` is only used `flow` mode is enabled.\n     * When specified, the renderable is inserted using an animation starting with\n     * size, origin, opacity, transform, etc... as specified in `insertSpec'.\n     *\n     * @param {Number|String} indexOrId Index (0 = before first, -1 at end), within dataSource array or id (String)\n     * @param {Object} renderable Renderable to add to the data-source\n     * @param {Spec} [insertSpec] Size, transform, etc.. to start with when inserting\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.insert = function(indexOrId, renderable, insertSpec) {\n\n        // Add the renderable in case of an id (String)\n        if ((indexOrId instanceof String) || (typeof indexOrId === 'string')) {\n\n            // Create data-source if neccesary\n            if (this._dataSource === undefined) {\n                this._dataSource = {};\n                this._nodesById = this._dataSource;\n            }\n\n            // Insert renderable\n            if (this._nodesById[indexOrId] === renderable) {\n                return this;\n            }\n            this._nodesById[indexOrId] = renderable;\n        }\n\n        // Add the renderable using an index\n        else {\n\n            // Create own data-source if neccesary\n            if (this._dataSource === undefined) {\n                this._dataSource = new LinkedListViewSequence();\n                this._viewSequence = this._dataSource;\n            }\n\n            // Insert data\n            this._viewSequence.insert(indexOrId, renderable);\n        }\n\n        // When a custom insert-spec was specified, store that in the layout-node\n        if (insertSpec) {\n            this._nodes.insertNode(this._nodes.createNode(renderable, insertSpec));\n        }\n\n        // Auto pipe events\n        if (this.options.autoPipeEvents && renderable && renderable.pipe) {\n            renderable.pipe(this);\n            renderable.pipe(this._eventOutput);\n        }\n\n        // Force a reflow\n        this._isDirty = true;\n\n        return this;\n    };\n\n    /**\n     * Adds a renderable to the end of a sequential data-source.\n     *\n     * The optional argument `insertSpec` is only used `flow` mode is enabled.\n     * When specified, the renderable is inserted using an animation starting with\n     * size, origin, opacity, transform, etc... as specified in `insertSpec'.\n     *\n     * @param {Object} renderable Renderable to add to the data-source\n     * @param {Spec} [insertSpec] Size, transform, etc.. to start with when inserting\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.push = function(renderable, insertSpec) {\n        return this.insert(-1, renderable, insertSpec);\n    };\n\n    /**\n     * Helper function for finding the view-sequence node at the given position.\n     */\n    function _getViewSequenceAtIndex(index, startViewSequence) {\n        if (this._viewSequence.getAtIndex) {\n            return this._viewSequence.getAtIndex(index, startViewSequence);\n        }\n        var viewSequence = startViewSequence || this._viewSequence;\n        var i = viewSequence ? viewSequence.getIndex() : index;\n        if (index > i) {\n            while (viewSequence) {\n                viewSequence = viewSequence.getNext();\n                if (!viewSequence) {\n                    return undefined;\n                }\n                i = viewSequence.getIndex();\n                if (i === index) {\n                    return viewSequence;\n                }\n                else if (index < i) {\n                    return undefined;\n                }\n            }\n        }\n        else if (index < i) {\n            while (viewSequence) {\n                viewSequence = viewSequence.getPrevious();\n                if (!viewSequence) {\n                    return undefined;\n                }\n                i = viewSequence.getIndex();\n                if (i === index) {\n                    return viewSequence;\n                }\n                else if (index > i) {\n                    return undefined;\n                }\n            }\n        }\n        return viewSequence;\n    }\n\n    /**\n     * Get the renderable at the given index or Id.\n     *\n     * @param {Number|String} indexOrId Index within dataSource array or id (String)\n     * @return {Renderable} renderable or `undefined`\n     */\n    LayoutController.prototype.get = function(indexOrId) {\n      if (this._nodesById || (indexOrId instanceof String) || (typeof indexOrId === 'string')) {\n        return this._nodesById ? this._nodesById[indexOrId] : undefined;\n      }\n      var viewSequence = _getViewSequenceAtIndex.call(this, indexOrId);\n      return viewSequence ? viewSequence.get() : undefined;\n    };\n\n    /**\n     * Swaps two renderables at the given positions.\n     *\n     * This method is only supported for dataSources of type Array or LinkedListViewSequence.\n     *\n     * @param {Number} index Index of the renderable to swap\n     * @param {Number} index2 Index of the renderable to swap with\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.swap = function(index, index2) {\n        this._viewSequence.swap(index, index2);\n        this._isDirty = true;\n        return this;\n    };\n\n    /**\n     * Replaces a renderable at the given index or id.\n     *\n     * @param {Number|String} indexOrId Index within dataSource array or id (String)\n     * @param {Renderable} renderable renderable to replace with\n     * @param {Bool} [noAnimation] When set to `true`, replaces the renderable without any flowing animation.\n     * @return {Renderable} old renderable that has been replaced\n     */\n    LayoutController.prototype.replace = function(indexOrId, renderable, noAnimation) {\n        var oldRenderable;\n        if (this._nodesById || (indexOrId instanceof String) || (typeof indexOrId === 'string')) {\n            oldRenderable = this._nodesById[indexOrId];\n            if (oldRenderable !== renderable) {\n                if (noAnimation && oldRenderable) {\n                    var node = this._nodes.getNodeByRenderNode(oldRenderable);\n                    if (node) {\n                        node.setRenderNode(renderable);\n                    }\n                }\n                this._nodesById[indexOrId] = renderable;\n                this._isDirty = true;\n            }\n            return oldRenderable;\n        }\n        var sequence = this._viewSequence.findByIndex(indexOrId);\n        if (!sequence) {\n            throw 'Invalid index (' + indexOrId + ') specified to .replace';\n        }\n        oldRenderable = sequence.get();\n        sequence.set(renderable);\n        if (oldRenderable !== renderable) {\n          this._isDirty = true;\n        }\n        return oldRenderable;\n    };\n\n    /**\n     * Moves a renderable to a new index.\n     *\n     * This method is only supported for dataSources of type Array or LinkedListViewSequence.\n     *\n     * @param {Number} index Index of the renderable to move.\n     * @param {Number} newIndex New index of the renderable.\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.move = function(index, newIndex) {\n        var sequence = this._viewSequence.findByIndex(index);\n        if (!sequence) {\n          throw 'Invalid index (' + index + ') specified to .move';\n        }\n        this._viewSequence = this._viewSequence.remove(sequence);\n        this._viewSequence.insert(newIndex, sequence.get());\n        this._isDirty = true;\n        return this;\n    };\n\n    /**\n     * Removes a renderable from the data-source.\n     *\n     * The optional argument `removeSpec` is only used `flow` mode is enabled.\n     * When specified, the renderable is removed using an animation ending at\n     * the size, origin, opacity, transform, etc... as specified in `removeSpec'.\n     *\n     * @param {Number|String|Renderable} indexOrId Index, id (String) or renderable to remove.\n     * @param {Spec} [removeSpec] Size, transform, etc.. to end with when removing\n     * @return {Renderable} renderable that has been removed\n     */\n    LayoutController.prototype.remove = function(indexOrId, removeSpec) {\n        var renderNode;\n\n        // Remove the renderable in case of an id (String)\n        if (this._nodesById || (indexOrId instanceof String) || (typeof indexOrId === 'string')) {\n\n            // Find and remove renderable from data-source\n            if ((indexOrId instanceof String) || (typeof indexOrId === 'string')) {\n                renderNode = this._nodesById[indexOrId];\n                if (renderNode) {\n                    delete this._nodesById[indexOrId];\n                }\n            }\n            else {\n                for (var key in this._nodesById) {\n                    if (this._nodesById[key] === indexOrId) {\n                        delete this._nodesById[key];\n                        renderNode = indexOrId;\n                        break;\n                    }\n                }\n            }\n        }\n        else {\n\n            // Remove the renderable\n            var sequence;\n            if ((indexOrId instanceof Number) || (typeof indexOrId === 'number')) {\n                sequence = this._viewSequence.findByIndex(indexOrId);\n            }\n            else {\n                sequence = this._viewSequence.findByValue(indexOrId);\n            }\n            if (sequence) {\n                renderNode = sequence.get();\n                this._viewSequence = this._viewSequence.remove(sequence);\n            }\n        }\n\n        // When a custom remove-spec was specified, store that in the layout-node\n        if (renderNode && removeSpec) {\n            var node = this._nodes.getNodeByRenderNode(renderNode);\n            if (node) {\n                node.remove(removeSpec || this.options.flowOptions.removeSpec);\n            }\n        }\n\n        // Force a reflow\n        if (renderNode) {\n            this._isDirty = true;\n        }\n\n        return renderNode;\n    };\n\n    /**\n     * Removes all renderables from the data-source.\n     *\n     * The optional argument `removeSpec` is only used when `flow` mode is enabled.\n     * When specified, the renderables are removed using an animation ending at\n     * the size, origin, opacity, transform, etc... as specified in `removeSpec'.\n     *\n     * @param {Spec} [removeSpec] Size, transform, etc.. to end with when removing\n     * @return {LayoutController} this\n     */\n    LayoutController.prototype.removeAll = function(removeSpec) {\n        if (this._nodesById) {\n            var dirty = false;\n            for (var key in this._nodesById) {\n                delete this._nodesById[key];\n                dirty = true;\n            }\n            if (dirty) {\n                this._isDirty = true;\n            }\n        }\n        else if (this._viewSequence){\n            this._viewSequence = this._viewSequence.clear();\n        }\n        if (removeSpec) {\n            var node = this._nodes.getStartEnumNode();\n            while (node) {\n                node.remove(removeSpec || this.options.flowOptions.removeSpec);\n                node = node._next;\n            }\n        }\n        return this;\n    };\n\n    /**\n     * Return size of contained element or `undefined` when size is not defined.\n     *\n     * @return {Array.Number} [width, height]\n     */\n    LayoutController.prototype.getSize = function() {\n        return this._size || this.options.size;\n    };\n\n    /**\n     * Generate a render spec from the contents of this component.\n     *\n     * @private\n     * @method render\n     * @return {Object} Render spec for this component\n     */\n    LayoutController.prototype.render = function render() {\n        return this.id;\n    };\n\n    /**\n     * Apply changes from this component to the corresponding document element.\n     * This includes changes to classes, styles, size, content, opacity, origin,\n     * and matrix transforms.\n     *\n     * @private\n     * @method commit\n     * @param {Context} context commit context\n     */\n    LayoutController.prototype.commit = function commit(context) {\n        var transform = context.transform;\n        var origin = context.origin;\n        var size = context.size;\n        var opacity = context.opacity;\n\n        // Reset the flow-state when requested\n        if (this._resetFlowState) {\n            this._resetFlowState = false;\n            this._isDirty = true;\n            this._nodes.removeAll();\n        }\n\n        // When the size or layout function has changed, reflow the layout\n        if (size[0] !== this._contextSizeCache[0] ||\n            size[1] !== this._contextSizeCache[1] ||\n            this._isDirty ||\n            this._nodes._trueSizeRequested ||\n            this.options.alwaysLayout){\n\n            // Emit start event\n            var eventData = {\n                target: this,\n                oldSize: this._contextSizeCache,\n                size: size,\n                dirty: this._isDirty,\n                trueSizeRequested: this._nodes._trueSizeRequested\n            };\n            this._eventOutput.emit('layoutstart', eventData);\n\n            // When the layout has changed, and we are not just scrolling,\n            // disable the locked state of the layout-nodes so that they\n            // can freely transition between the old and new state.\n            if (this.options.flow) {\n                var lock = false;\n                if (!this.options.flowOptions.reflowOnResize) {\n                    if (!this._isDirty &&\n                        ((size[0] !== this._contextSizeCache[0]) ||\n                         (size[1] !== this._contextSizeCache[1]))) {\n                        lock = undefined;\n                    }\n                    else {\n                      lock = true;\n                    }\n                }\n                if (lock !== undefined) {\n                    var node = this._nodes.getStartEnumNode();\n                    while (node) {\n                        node.releaseLock(lock);\n                        node = node._next;\n                    }\n                }\n            }\n\n            // Update state\n            this._contextSizeCache[0] = size[0];\n            this._contextSizeCache[1] = size[1];\n            this._isDirty = false;\n\n            // Prepare for layout\n            var scrollEnd;\n            if (this.options.size && (this.options.size[this._direction] === true)) {\n                scrollEnd = 1000000; // calculate scroll-length\n            }\n            var layoutContext = this._nodes.prepareForLayout(\n                this._viewSequence,     // first node to layout\n                this._nodesById, {      // so we can do fast id lookups\n                    size: size,\n                    direction: this._direction,\n                    scrollEnd: scrollEnd\n                }\n            );\n\n            // Layout objects\n            if (this._layout._function) {\n                this._layout._function(\n                    layoutContext,          // context which the layout-function can use\n                    this._layout.options    // additional layout-options\n                );\n            }\n\n            // Mark non-invalidated nodes for removal\n            this._nodes.removeNonInvalidatedNodes(this.options.flowOptions.removeSpec);\n\n            // Cleanup any nodes in case of a VirtualViewSequence\n            this._nodes.removeVirtualViewSequenceNodes();\n\n            // Calculate scroll-length and use that as the true-size (height)\n            if (scrollEnd) {\n                scrollEnd = 0;\n                node = this._nodes.getStartEnumNode();\n                while (node) {\n                    if (node._invalidated && node.scrollLength) {\n                        scrollEnd += node.scrollLength;\n                    }\n                    node = node._next;\n                }\n                this._size = this._size || [0, 0];\n                this._size[0] = this.options.size[0];\n                this._size[1] = this.options.size[1];\n                this._size[this._direction] = scrollEnd;\n            }\n\n            // Update output and optionally emit event\n            var result = this._nodes.buildSpecAndDestroyUnrenderedNodes();\n            this._specs = result.specs;\n            this._commitOutput.target = result.specs;\n            this._eventOutput.emit('layoutend', eventData);\n            this._eventOutput.emit('reflow', {\n                target: this\n            });\n        }\n        else if (this.options.flow) {\n\n            // Update output and optionally emit event\n            result = this._nodes.buildSpecAndDestroyUnrenderedNodes();\n            this._specs = result.specs;\n            this._commitOutput.target = result.specs;\n            if (result.modified) {\n                this._eventOutput.emit('reflow', {\n                    target: this\n                });\n            }\n        }\n\n        // Render child-nodes every commit\n        var target = this._commitOutput.target;\n        for (var i = 0, j = target.length; i < j; i++) {\n            if (target[i].renderNode) {\n                target[i].target = target[i].renderNode.render();\n            }\n        }\n\n        // Add our cleanup-registration id also to the list, so that the\n        // cleanup function is called by famo.us when the LayoutController is\n        // removed from the render-tree.\n        if (!target.length || (target[target.length-1] !== this._cleanupRegistration)) {\n            target.push(this._cleanupRegistration);\n        }\n\n        // Translate dependent on origin\n        if (origin && ((origin[0] !== 0) || (origin[1] !== 0))) {\n            transform = Transform.moveThen([-size[0]*origin[0], -size[1]*origin[1], 0], transform);\n        }\n        this._commitOutput.size = size;\n        this._commitOutput.opacity = opacity;\n        this._commitOutput.transform = transform;\n        return this._commitOutput;\n    };\n\n    /**\n     * Called whenever the layout-controller is removed from the render-tree.\n     *\n     * @private\n     * @param {Context} context cleanup context\n     */\n    LayoutController.prototype.cleanup = function(context) {\n        if (this.options.flow) {\n            this._resetFlowState = true;\n        }\n    };\n\n    module.exports = LayoutController;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LayoutController.js\n ** module id = 38\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n\n    /**\n     * Helper object used to iterate through items sequentially. Used in\n     *   views that deal with layout.  A ViewSequence object conceptually points\n     *   to a node in a linked list.\n     *\n     * @class ViewSequence\n     *\n     * @constructor\n     * @param {Object|Array} options Options object, or content array.\n     * @param {Number} [options.index] starting index.\n     * @param {Number} [options.array] Array of elements to populate the ViewSequence\n     * @param {Object} [options._] Optional backing store (internal\n     * @param {Boolean} [options.loop] Whether to wrap when accessing elements just past the end\n     *   (or beginning) of the sequence.\n     */\n    function ViewSequence(options) {\n        if (!options) options = [];\n        if (options instanceof Array) options = {array: options};\n\n        this._ = null;\n        this.index = options.index || 0;\n\n        if (options.array) this._ = new (this.constructor.Backing)(options.array);\n        else if (options._) this._ = options._;\n\n        if (this.index === this._.firstIndex) this._.firstNode = this;\n        if (this.index === this._.firstIndex + this._.array.length - 1) this._.lastNode = this;\n\n        if (options.loop !== undefined) this._.loop = options.loop;\n\n        if (options.trackSize !== undefined) this._.trackSize = options.trackSize;\n\n        this._previousNode = null;\n        this._nextNode = null;\n    }\n\n    // constructor for internal storage\n    ViewSequence.Backing = function Backing(array) {\n        this.array = array;\n        this.firstIndex = 0;\n        this.loop = false;\n        this.firstNode = null;\n        this.lastNode = null;\n        this.cumulativeSizes = [[0, 0]];\n        this.sizeDirty = true;\n        this.trackSize = false;\n    };\n\n    // Get value \"i\" slots away from the first index.\n    ViewSequence.Backing.prototype.getValue = function getValue(i) {\n        var _i = i - this.firstIndex;\n        if (_i < 0 || _i >= this.array.length) return null;\n        return this.array[_i];\n    };\n\n    // Set value \"i\" slots away from the first index.\n    ViewSequence.Backing.prototype.setValue = function setValue(i, value) {\n        this.array[i - this.firstIndex] = value;\n    };\n\n    // Get sequence size from backing up to index\n    // TODO: remove from viewSequence with proper abstraction\n    ViewSequence.Backing.prototype.getSize = function getSize(index) {\n        return this.cumulativeSizes[index];\n    };\n\n    // Calculates cumulative size\n    // TODO: remove from viewSequence with proper abstraction\n    ViewSequence.Backing.prototype.calculateSize = function calculateSize(index) {\n        index = index || this.array.length;\n        var size = [0, 0];\n        for (var i = 0; i < index; i++) {\n            var nodeSize = this.array[i].getSize();\n            if (!nodeSize) return undefined;\n            if (size[0] !== undefined) {\n                if (nodeSize[0] === undefined) size[0] = undefined;\n                else size[0] += nodeSize[0];\n            }\n            if (size[1] !== undefined) {\n                if (nodeSize[1] === undefined) size[1] = undefined;\n                else size[1] += nodeSize[1];\n            }\n            this.cumulativeSizes[i + 1] = size.slice();\n        }\n        this.sizeDirty = false;\n        return size;\n    };\n\n    // After splicing into the backing store, restore the indexes of each node correctly.\n    ViewSequence.Backing.prototype.reindex = function reindex(start, removeCount, insertCount) {\n        if (!this.array[0]) return;\n\n        var i = 0;\n        var index = this.firstIndex;\n        var indexShiftAmount = insertCount - removeCount;\n        var node = this.firstNode;\n\n        // find node to begin\n        while (index < start - 1) {\n            node = node.getNext();\n            index++;\n        }\n        // skip removed nodes\n        var spliceStartNode = node;\n        for (i = 0; i < removeCount; i++) {\n            node = node.getNext();\n            if (node) node._previousNode = spliceStartNode;\n        }\n        var spliceResumeNode = node ? node.getNext() : null;\n        // generate nodes for inserted items\n        spliceStartNode._nextNode = null;\n        node = spliceStartNode;\n        for (i = 0; i < insertCount; i++) node = node.getNext();\n        index += insertCount;\n        // resume the chain\n        if (node !== spliceResumeNode) {\n            node._nextNode = spliceResumeNode;\n            if (spliceResumeNode) spliceResumeNode._previousNode = node;\n        }\n        if (spliceResumeNode) {\n            node = spliceResumeNode;\n            index++;\n            while (node && index < this.array.length + this.firstIndex) {\n                if (node._nextNode) node.index += indexShiftAmount;\n                else node.index = index;\n                node = node.getNext();\n                index++;\n            }\n        }\n        if (this.trackSize) this.sizeDirty = true;\n    };\n\n    /**\n     * Return ViewSequence node previous to this node in the list, respecting looping if applied.\n     *\n     * @method getPrevious\n     * @return {ViewSequence} previous node.\n     */\n    ViewSequence.prototype.getPrevious = function getPrevious() {\n        var len = this._.array.length;\n        if (!len) {\n            this._previousNode = null;\n        }\n        else if (this.index === this._.firstIndex) {\n            if (this._.loop) {\n                this._previousNode = this._.lastNode || new (this.constructor)({_: this._, index: this._.firstIndex + len - 1});\n                this._previousNode._nextNode = this;\n            }\n            else {\n                this._previousNode = null;\n            }\n        }\n        else if (!this._previousNode) {\n            this._previousNode = new (this.constructor)({_: this._, index: this.index - 1});\n            this._previousNode._nextNode = this;\n        }\n        return this._previousNode;\n    };\n\n    /**\n     * Return ViewSequence node next after this node in the list, respecting looping if applied.\n     *\n     * @method getNext\n     * @return {ViewSequence} previous node.\n     */\n    ViewSequence.prototype.getNext = function getNext() {\n        var len = this._.array.length;\n        if (!len) {\n            this._nextNode = null;\n        }\n        else if (this.index === this._.firstIndex + len - 1) {\n            if (this._.loop) {\n                this._nextNode = this._.firstNode || new (this.constructor)({_: this._, index: this._.firstIndex});\n                this._nextNode._previousNode = this;\n            }\n            else {\n                this._nextNode = null;\n            }\n        }\n        else if (!this._nextNode) {\n            this._nextNode = new (this.constructor)({_: this._, index: this.index + 1});\n            this._nextNode._previousNode = this;\n        }\n        return this._nextNode;\n    };\n\n    /**\n     * Return index of the provided item in the backing array\n     *\n     * @method indexOf\n     * @return {Number} index or -1 if not found\n     */\n    ViewSequence.prototype.indexOf = function indexOf(item) {\n        return this._.array.indexOf(item);\n    };\n\n    /**\n     * Return index of this ViewSequence node.\n     *\n     * @method getIndex\n     * @return {Number} index\n     */\n    ViewSequence.prototype.getIndex = function getIndex() {\n        return this.index;\n    };\n\n    /**\n     * Return printable version of this ViewSequence node.\n     *\n     * @method toString\n     * @return {string} this index as a string\n     */\n    ViewSequence.prototype.toString = function toString() {\n        return '' + this.index;\n    };\n\n    /**\n     * Add one or more objects to the beginning of the sequence.\n     *\n     * @method unshift\n     * @param {...Object} value arguments array of objects\n     */\n    ViewSequence.prototype.unshift = function unshift(value) {\n        this._.array.unshift.apply(this._.array, arguments);\n        this._.firstIndex -= arguments.length;\n        if (this._.trackSize) this._.sizeDirty = true;\n    };\n\n    /**\n     * Add one or more objects to the end of the sequence.\n     *\n     * @method push\n     * @param {...Object} value arguments array of objects\n     */\n    ViewSequence.prototype.push = function push(value) {\n        this._.array.push.apply(this._.array, arguments);\n        if (this._.trackSize) this._.sizeDirty = true;\n    };\n\n    /**\n     * Remove objects from the sequence\n     *\n     * @method splice\n     * @param {Number} index starting index for removal\n     * @param {Number} howMany how many elements to remove\n     * @param {...Object} value arguments array of objects\n     */\n    ViewSequence.prototype.splice = function splice(index, howMany) {\n        var values = Array.prototype.slice.call(arguments, 2);\n        this._.array.splice.apply(this._.array, [index - this._.firstIndex, howMany].concat(values));\n        this._.reindex(index, howMany, values.length);\n    };\n\n    /**\n     * Exchange this element's sequence position with another's.\n     *\n     * @method swap\n     * @param {ViewSequence} other element to swap with.\n     */\n    ViewSequence.prototype.swap = function swap(other) {\n        var otherValue = other.get();\n        var myValue = this.get();\n        this._.setValue(this.index, otherValue);\n        this._.setValue(other.index, myValue);\n\n        var myPrevious = this._previousNode;\n        var myNext = this._nextNode;\n        var myIndex = this.index;\n        var otherPrevious = other._previousNode;\n        var otherNext = other._nextNode;\n        var otherIndex = other.index;\n\n        this.index = otherIndex;\n        this._previousNode = (otherPrevious === this) ? other : otherPrevious;\n        if (this._previousNode) this._previousNode._nextNode = this;\n        this._nextNode = (otherNext === this) ? other : otherNext;\n        if (this._nextNode) this._nextNode._previousNode = this;\n\n        other.index = myIndex;\n        other._previousNode = (myPrevious === other) ? this : myPrevious;\n        if (other._previousNode) other._previousNode._nextNode = other;\n        other._nextNode = (myNext === other) ? this : myNext;\n        if (other._nextNode) other._nextNode._previousNode = other;\n\n        if (this.index === this._.firstIndex) this._.firstNode = this;\n        else if (this.index === this._.firstIndex + this._.array.length - 1) this._.lastNode = this;\n        if (other.index === this._.firstIndex) this._.firstNode = other;\n        else if (other.index === this._.firstIndex + this._.array.length - 1) this._.lastNode = other;\n        if (this._.trackSize) this._.sizeDirty = true;\n    };\n\n   /**\n     * Return value of this ViewSequence node.\n     *\n     * @method get\n     * @return {Object} value of thiss\n     */\n    ViewSequence.prototype.get = function get() {\n        return this._.getValue(this.index);\n    };\n\n   /**\n     * Call getSize() on the contained View.\n     *\n     * @method getSize\n     * @return {Array.Number} [width, height]\n     */\n    ViewSequence.prototype.getSize = function getSize() {\n        var target = this.get();\n        return target ? target.getSize() : null;\n    };\n\n    /**\n     * Generate a render spec from the contents of this component.\n     * Specifically, this will render the value at the current index.\n     * @private\n     * @method render\n     * @return {number} Render spec for this component\n     */\n    ViewSequence.prototype.render = function render() {\n        if (this._.trackSize && this._.sizeDirty) this._.calculateSize();\n        var target = this.get();\n        return target ? target.render.apply(target, arguments) : null;\n    };\n\n    module.exports = ViewSequence;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/ViewSequence.js\n ** module id = 39\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2015\n */\n\n/*global console*/\n/*eslint no-console:0 */\n\n/**\n * @private\n */\nfunction assert(value, message) {\n    if (!value) {\n        //debugger;\n        throw new Error(message);\n    }\n}\n\n/**\n * Linked-list based implementation of a view-sequence which fixes\n * several issues in the stock famo.us ViewSequence.\n *\n * @module\n */\ndefine(function(require, exports, module) {\n\n    /**\n     * @class\n     * @param {Object} options Configurable options.\n     * @alias module:LinkedListViewSequence\n     */\n    function LinkedListViewSequence(items) {\n        if (Array.isArray(items)) {\n            this._ = new (this.constructor.Backing)(this);\n            for (var i = 0; i < items.length; i++) {\n                this.push(items[i]);\n            }\n        }\n        else {\n            this._ = items || new (this.constructor.Backing)(this);\n        }\n    }\n\n    LinkedListViewSequence.Backing = function Backing() {\n        this.length = 0;\n        //this.head = undefined;\n        //this.tail = undefined;\n    };\n\n    /*LinkedListViewSequence.prototype.verifyIntegrity = function() {\n        var item = this._.head;\n        var count = 0;\n        while (item) {\n          assert(item._value, 'no rendernode at index: ' + count);\n          count++;\n          assert(count <= this._.length, 'head -> tail, node-count exceeds length: ' + count + ' > ' + this._.length);\n          item = item._next;\n        }\n        assert(count === this._.length, 'head -> tail, different count: ' + count + ' != ' + this._.length);\n        item = this._.tail;\n        count = 0;\n        while (item) {\n          count++;\n          assert(count <= this._.length, 'tail -> head, node-count exceeds length: ' + count + ' > ' + this._.length);\n          item = item._prev;\n        }\n        assert(count === this._.length, 'tail -> head, different count: ' + count + ' != ' + this._.length);\n    };*/\n\n    /**\n     * Get head node.\n     *\n     * @return {LinkedListViewSequence} head node.\n     */\n    LinkedListViewSequence.prototype.getHead = function() {\n        return this._.head;\n    };\n\n    /**\n     * Get tail node.\n     *\n     * @return {LinkedListViewSequence} tail node.\n     */\n    LinkedListViewSequence.prototype.getTail = function() {\n        return this._.tail;\n    };\n\n    /**\n     * Get previous node.\n     *\n     * @return {LinkedListViewSequence} previous node.\n     */\n    LinkedListViewSequence.prototype.getPrevious = function() {\n        return this._prev;\n    };\n\n    /**\n     * Get next node.\n     *\n     * @return {LinkedListViewSequence} next node.\n     */\n    LinkedListViewSequence.prototype.getNext = function() {\n        return this._next;\n    };\n\n    /**\n     * Gets the value of this node.\n     *\n     * @return {Renderable} surface/view\n     */\n    LinkedListViewSequence.prototype.get = function() {\n        return this._value;\n    };\n\n    /**\n     * Sets the value of this node.\n     *\n     * @param {Renderable} value surface/view\n     * @return {LinkedListViewSequence} this\n     */\n    LinkedListViewSequence.prototype.set = function(value) {\n        this._value = value;\n        return this;\n    };\n\n    /**\n     * Get the index of the node.\n     *\n     * @return {Number} Index of node.\n     */\n    LinkedListViewSequence.prototype.getIndex = function() {\n        return this._value ? this.indexOf(this._value) : 0;\n    };\n\n    /**\n     * Get human readable string verion of the node.\n     *\n     * @return {String} node as a human readable string\n     */\n    LinkedListViewSequence.prototype.toString = function() {\n        return '' + this.getIndex();\n    };\n\n    /**\n     * Finds the index of a given render-node.\n     *\n     * @param {Renderable} item Render-node to find.\n     * @return {Number} Index or -1 when not found.\n     */\n    LinkedListViewSequence.prototype.indexOf = function(item) {\n        var sequence = this._.head;\n        var index = 0;\n        while (sequence) {\n            if (sequence._value === item) {\n                return index;\n            }\n            index++;\n            sequence = sequence._next;\n        }\n        return -1;\n    };\n\n    /**\n     * Finds the view-sequence item at the given index.\n     *\n     * @param {Number} index 0-based index.\n     * @return {LinkedListViewSequence} View-sequence node or undefined.\n     */\n    LinkedListViewSequence.prototype.findByIndex = function(index) {\n        index = (index === -1) ? (this._.length - 1) : index;\n        if ((index < 0) || (index >= this._.length)) {\n            return undefined;\n        }\n\n        // search for specific index\n        var searchIndex;\n        var searchSequence;\n        if (index > (this._.length / 2)) {\n            // start searching from the tail\n            searchSequence = this._.tail;\n            searchIndex = this._.length - 1;\n            while (searchIndex > index) {\n                searchSequence = searchSequence._prev;\n                searchIndex--;\n            }\n        }\n        else {\n            // start searching from the head\n            searchSequence = this._.head;\n            searchIndex = 0;\n            while (searchIndex < index) {\n                searchSequence = searchSequence._next;\n                searchIndex++;\n            }\n        }\n        return searchSequence;\n    };\n\n    /**\n     * Finds the view-sequence node by the given renderable.\n     *\n     * @param {Renderable} value Render-node to search for.\n     * @return {LinkedListViewSequence} View-sequence node or undefined.\n     */\n    LinkedListViewSequence.prototype.findByValue = function(value) {\n        var sequence = this._.head;\n        while (sequence) {\n            if (sequence.get() === value) {\n                return sequence;\n            }\n            sequence = sequence._next;\n        }\n        return undefined;\n    };\n\n    /**\n     * Inserts an item into the view-sequence.\n     *\n     * @param {Number} index 0-based index (-1 inserts at the tail).\n     * @param {Renderable} renderNode Renderable to insert.\n     * @return {LinkedListViewSequence} newly inserted view-sequence node.\n     */\n    LinkedListViewSequence.prototype.insert = function(index, renderNode) {\n        index = (index === -1) ? this._.length : index;\n        /*if (this._.debug) {\n            console.log(this._.logName + ': insert (length: ' + this._.length + ')');\n        }*/\n        if (!this._.length) {\n            assert(index === 0, 'inserting in empty view-sequence, but not at index 0 (but ' + index + ' instead)');\n            this._value = renderNode;\n            this._.head = this;\n            this._.tail = this;\n            this._.length = 1;\n            //this.verifyIntegrity();\n            return this;\n        }\n        var sequence;\n        if (index === 0) {\n            // insert at head (quick!)\n            sequence = new LinkedListViewSequence(this._);\n            sequence._value = renderNode;\n            sequence._next = this._.head;\n            this._.head._prev = sequence;\n            this._.head = sequence;\n        }\n        else if (index === this._.length) {\n            // insert at tail (quick!)\n            sequence = new LinkedListViewSequence(this._);\n            sequence._value = renderNode;\n            sequence._prev = this._.tail;\n            this._.tail._next = sequence;\n            this._.tail = sequence;\n        }\n        else {\n            // search for specific index (slow!) ... but fricking solid famo.us...\n            var searchIndex;\n            var searchSequence;\n            assert((index > 0) && (index < this._.length), 'invalid insert index: ' + index + ' (length: ' + this._.length + ')');\n            if (index > (this._.length / 2)) {\n                // start searching from the tail\n                searchSequence = this._.tail;\n                searchIndex = this._.length - 1;\n                while (searchIndex >= index) {\n                    searchSequence = searchSequence._prev;\n                    searchIndex--;\n                }\n            }\n            else {\n                // start searching from the head\n                searchSequence = this._.head;\n                searchIndex = 1;\n                while (searchIndex < index) {\n                    searchSequence = searchSequence._next;\n                    searchIndex++;\n                }\n            }\n            // insert after searchSequence\n            sequence = new LinkedListViewSequence(this._);\n            sequence._value = renderNode;\n            sequence._prev = searchSequence;\n            sequence._next = searchSequence._next;\n            searchSequence._next._prev = sequence;\n            searchSequence._next = sequence;\n        }\n        this._.length++;\n        //this.verifyIntegrity();\n        return sequence;\n    };\n\n    /**\n     * Removes the view-sequence item at the given index.\n     *\n     * @param {LinkedListViewSequence} sequence Node to remove\n     * @return {LinkedListViewSequence} New current view-sequence node to display.\n     */\n    LinkedListViewSequence.prototype.remove = function(sequence) {\n        /*if (this._.debug) {\n            console.log(this._.logName + ': remove (length: ' + this._.length + ')');\n        }*/\n        if (sequence._prev && sequence._next) {\n            sequence._prev._next = sequence._next;\n            sequence._next._prev = sequence._prev;\n            this._.length--;\n            //this.verifyIntegrity();\n            return (sequence === this) ? sequence._prev : this;\n        }\n        else if (!sequence._prev && !sequence._next) {\n            assert(sequence === this, 'only one sequence exists, should be this one');\n            assert(this._value, 'last node should have a value');\n            assert(this._.head, 'head is invalid');\n            assert(this._.tail, 'tail is invalid');\n            assert(this._.length === 1, 'length should be 1');\n            this._value = undefined;\n            this._.head = undefined;\n            this._.tail = undefined;\n            this._.length--;\n            //this.verifyIntegrity();\n            return this;\n        }\n        else if (!sequence._prev) {\n            assert(this._.head === sequence, 'head is invalid');\n            sequence._next._prev = undefined;\n            this._.head = sequence._next;\n            this._.length--;\n            //this.verifyIntegrity();\n            return (sequence === this) ? this._.head : this;\n        }\n        else {\n            assert(!sequence._next, 'next should be empty');\n            assert(this._.tail === sequence, 'tail is invalid');\n            sequence._prev._next = undefined;\n            this._.tail = sequence._prev;\n            this._.length--;\n            //this.verifyIntegrity();\n            return (sequence === this) ? this._.tail : this;\n        }\n    };\n\n    /**\n     * Gets the number of items in the view-sequence.\n     *\n     * @return {Number} length.\n     */\n    LinkedListViewSequence.prototype.getLength = function() {\n        return this._.length;\n    };\n\n    /**\n     * Removes all items.\n     *\n     * @return {LinkedListViewSequence} Last remaining view-sequence node.\n     */\n    LinkedListViewSequence.prototype.clear = function() {\n        var sequence = this; //eslint-disable-line consistent-this\n        while (this._.length) {\n          sequence = sequence.remove(this._.tail);\n        }\n        //sequence.verifyIntegrity();\n        return sequence;\n    };\n\n    /**\n     * Inserts an item at the beginning of the view-sequence.\n     *\n     * @param {Renderable} renderNode Renderable to insert.\n     * @return {LinkedListViewSequence} newly inserted view-sequence node.\n     */\n    LinkedListViewSequence.prototype.unshift = function(renderNode) {\n        return this.insert(0, renderNode);\n    };\n\n    /**\n     * Inserts an item at the end of the view-sequence.\n     *\n     * @param {Renderable} renderNode Renderable to insert.\n     * @return {LinkedListViewSequence} newly inserted view-sequence node.\n     */\n    LinkedListViewSequence.prototype.push = function(renderNode) {\n        return this.insert(-1, renderNode);\n    };\n\n    LinkedListViewSequence.prototype.splice = function(index, remove, items) {\n        if (console.error) {\n            console.error('LinkedListViewSequence.splice is not supported');\n        }\n    };\n\n    /**\n     * Swaps the values of two view-sequence nodes.\n     *\n     * @param {Number} index Index of the first item to swap.\n     * @param {Number} index2 Index of item to swap with.\n     * @return {LinkedListViewSequence} this\n     */\n    LinkedListViewSequence.prototype.swap = function(index, index2) {\n        var sequence1 = this.findByIndex(index);\n        if (!sequence1) {\n            throw new Error('Invalid first index specified to swap: ' + index);\n        }\n        var sequence2 = this.findByIndex(index2);\n        if (!sequence2) {\n            throw new Error('Invalid second index specified to swap: ' + index2);\n        }\n        var swap = sequence1._value;\n        sequence1._value = sequence2._value;\n        sequence2._value = swap;\n        //this.verifyIntegrity();\n        return this;\n    };\n\n    module.exports = LinkedListViewSequence;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LinkedListViewSequence.js\n ** module id = 40\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2014/2015\n */\n\n/**\n * LayoutNodeManager is a private class used internally by LayoutController, ScrollController\n * and ScrollView. It manages the layout-nodes that are rendered and exposes the layout-context\n * which is passed along to the layout-function.\n *\n * LayoutNodeManager keeps track of every rendered node through an ordered double-linked\n * list. The first time the layout-function is called, the linked list is created.\n * After that, the linked list is updated to reflect the output of the layout-function.\n * When the layout is unchanged, then the linked-list exactly matches the order of the\n * accessed nodes in the layout-function, and no layout-nodes need to be created or\n * re-ordered.\n *\n * @module\n */\ndefine(function(require, exports, module) {\n\n    // import dependencies\n    var LayoutContext = require('./LayoutContext');\n    var LayoutUtility = require('./LayoutUtility');\n    var Surface = require('famous/core/Surface');\n    var RenderNode = require('famous/core/RenderNode');\n\n    var MAX_POOL_SIZE = 100;\n\n    /**\n     * @class\n     * @param {LayoutNode} LayoutNode Layout-nodes to create\n     * @param {Function} initLayoutNodeFn function to use when initializing new nodes\n     * @alias module:LayoutNodeManager\n     */\n    function LayoutNodeManager(LayoutNode, initLayoutNodeFn) {\n        this.LayoutNode = LayoutNode;\n        this._initLayoutNodeFn = initLayoutNodeFn;\n        this._layoutCount = 0;\n        this._context = new LayoutContext({\n            next: _contextNext.bind(this),\n            prev: _contextPrev.bind(this),\n            get: _contextGet.bind(this),\n            set: _contextSet.bind(this),\n            resolveSize: _contextResolveSize.bind(this),\n            size: [0, 0]\n            //,cycle: 0\n        });\n        this._contextState = {\n            // enumation state for the context\n            //nextSequence: undefined,\n            //prevSequence: undefined,\n            //next: undefined\n            //prev: undefined\n            //start: undefined\n        };\n        this._pool = {\n            layoutNodes: {\n                size: 0\n                //first: undefined\n            },\n            resolveSize: [0, 0]\n        };\n        //this._first = undefined; // first item in the linked list\n        //this._nodesById = undefined;\n        //this._trueSizeRequested = false;\n    }\n\n    /**\n     * Prepares the manager for a new layout iteration, after which it returns the\n     * context which can be used by the layout-function.\n     *\n     * @param {ViewSequence} viewSequence first node to layout\n     * @param {Object} [nodesById] dictionary to use when looking up nodes by id\n     * @return {LayoutContext} context which can be passed to the layout-function\n     */\n    LayoutNodeManager.prototype.prepareForLayout = function(viewSequence, nodesById, contextData) {\n\n        // Reset all nodes\n        var node = this._first;\n        while (node) {\n            node.reset();\n            node = node._next;\n        }\n\n        // Prepare data\n        var context = this._context;\n        this._layoutCount++;\n        this._nodesById = nodesById;\n        this._trueSizeRequested = false;\n        this._reevalTrueSize =\n            contextData.reevalTrueSize ||\n            !context.size ||\n            (context.size[0] !== contextData.size[0]) ||\n            (context.size[1] !== contextData.size[1]);\n\n        // Prepare context for enumation\n        var contextState = this._contextState;\n        contextState.startSequence = viewSequence;\n        contextState.nextSequence = viewSequence;\n        contextState.prevSequence = viewSequence;\n        contextState.start = undefined;\n        contextState.nextGetIndex = 0;\n        contextState.prevGetIndex = 0;\n        contextState.nextSetIndex = 0;\n        contextState.prevSetIndex = 0;\n        contextState.addCount = 0;\n        contextState.removeCount = 0;\n        contextState.lastRenderNode = undefined;\n\n        // Prepare content\n        context.size[0] = contextData.size[0];\n        context.size[1] = contextData.size[1];\n        context.direction = contextData.direction;\n        context.reverse = contextData.reverse;\n        context.alignment = contextData.reverse ? 1 : 0;\n        context.scrollOffset = contextData.scrollOffset || 0;\n        context.scrollStart = contextData.scrollStart || 0;\n        context.scrollEnd = contextData.scrollEnd || context.size[context.direction];\n        //context.cycle++;\n        return context;\n    };\n\n    /**\n     * When the layout-function no longer lays-out the node, then it is not longer\n     * being invalidated. In this case the destination is set to the removeSpec\n     * after which the node is animated towards the remove-spec.\n     *\n     * @param {Spec} [removeSpec] spec towards which the no longer layed-out nodes are animated\n     */\n    LayoutNodeManager.prototype.removeNonInvalidatedNodes = function(removeSpec) {\n        var node = this._first;\n        while (node) {\n\n            // If a node existed, but it is no longer being layed out,\n            // then set it to the '_removing' state.\n            if (!node._invalidated && !node._removing) {\n                node.remove(removeSpec);\n            }\n\n            // Move to next node\n            node = node._next;\n        }\n    };\n\n    /**\n     * Cleans up any unaccessed virtual nodes that have been created by a VirtualViewSequence.\n     */\n    LayoutNodeManager.prototype.removeVirtualViewSequenceNodes = function() {\n        if (this._contextState.startSequence && this._contextState.startSequence.cleanup) {\n            this._contextState.startSequence.cleanup();\n        }\n    };\n\n    /**\n     * Builds the render-spec and destroy any layout-nodes that no longer\n     * return a render-spec.\n     *\n     * @return {Array.Spec} array of Specs\n     */\n    LayoutNodeManager.prototype.buildSpecAndDestroyUnrenderedNodes = function(translate) {\n        var specs = [];\n        var result = {\n            specs: specs,\n            modified: false\n        };\n        var node = this._first;\n        while (node) {\n            var modified = node._specModified;\n            var spec = node.getSpec();\n            if (spec.removed) {\n\n                // Destroy node\n                var destroyNode = node;\n                node = node._next;\n                _destroyNode.call(this, destroyNode);\n\n                // Mark as modified\n                result.modified = true;\n            }\n            else {\n\n                // Update stats\n                if (modified) {\n                    if (spec.transform && translate) {\n                        spec.transform[12] += translate[0];\n                        spec.transform[13] += translate[1];\n                        spec.transform[14] += translate[2];\n                        spec.transform[12] = Math.round(spec.transform[12] * 100000) / 100000;\n                        spec.transform[13] = Math.round(spec.transform[13] * 100000) / 100000;\n                        if (spec.endState) {\n                            spec.endState.transform[12] += translate[0];\n                            spec.endState.transform[13] += translate[1];\n                            spec.endState.transform[14] += translate[2];\n                            spec.endState.transform[12] = Math.round(spec.endState.transform[12] * 100000) / 100000;\n                            spec.endState.transform[13] = Math.round(spec.endState.transform[13] * 100000) / 100000;\n                        }\n                    }\n                    result.modified = true;\n                }\n\n                // Set meta data\n                spec.usesTrueSize = node.usesTrueSize;\n                spec.trueSizeRequested = node.trueSizeRequested;\n\n                // Add node to result output\n                specs.push(spec);\n                node = node._next;\n            }\n        }\n        this._contextState.addCount = 0;\n        this._contextState.removeCount = 0;\n        return result;\n    };\n\n    /**\n     * Get the layout-node by its renderable.\n     *\n     * @param {Object} renderable renderable\n     * @return {LayoutNode} layout-node or undefined\n     */\n    LayoutNodeManager.prototype.getNodeByRenderNode = function(renderable) {\n        var node = this._first;\n        while (node) {\n            if (node.renderNode === renderable) {\n                return node;\n            }\n            node = node._next;\n        }\n        return undefined;\n    };\n\n    /**\n     * Inserts a layout-node into the linked-list.\n     *\n     * @param {LayoutNode} node layout-node to insert\n     */\n    LayoutNodeManager.prototype.insertNode = function(node) {\n        node._next = this._first;\n        if (this._first) {\n            this._first._prev = node;\n        }\n        this._first = node;\n    };\n\n    /**\n     * Sets the options for all nodes.\n     *\n     * @param {Object} options node options\n     */\n    LayoutNodeManager.prototype.setNodeOptions = function(options) {\n        this._nodeOptions = options;\n        var node = this._first;\n        while (node) {\n            node.setOptions(options);\n            node = node._next;\n        }\n        node = this._pool.layoutNodes.first;\n        while (node) {\n            node.setOptions(options);\n            node = node._next;\n        }\n    };\n\n    /**\n     * Pre-allocate layout-nodes ahead of using them.\n     *\n     * @param {Number} count number of nodes to pre-allocate with the given spec\n     * @param {Spec} [spec] render-spec (defined the node properties which to pre-allocate)\n     */\n    LayoutNodeManager.prototype.preallocateNodes = function(count, spec) {\n        var nodes = [];\n        for (var i = 0; i < count; i++) {\n            nodes.push(this.createNode(undefined, spec));\n        }\n        for (i = 0; i < count; i++) {\n            _destroyNode.call(this, nodes[i]);\n        }\n    };\n\n    /**\n     * Creates a layout-node\n     *\n     * @param {Object} renderNode render-node for whom to create a layout-node for\n     * @return {LayoutNode} layout-node\n     */\n    LayoutNodeManager.prototype.createNode = function(renderNode, spec) {\n        var node;\n        if (this._pool.layoutNodes.first) {\n            node = this._pool.layoutNodes.first;\n            this._pool.layoutNodes.first = node._next;\n            this._pool.layoutNodes.size--;\n            node.constructor.apply(node, arguments);\n        }\n        else {\n            node = new this.LayoutNode(renderNode, spec);\n            if (this._nodeOptions) {\n                node.setOptions(this._nodeOptions);\n            }\n        }\n        node._prev = undefined;\n        node._next = undefined;\n        node._viewSequence = undefined;\n        node._layoutCount = 0;\n        if (this._initLayoutNodeFn) {\n            this._initLayoutNodeFn.call(this, node, spec);\n        }\n        return node;\n    };\n\n    /**\n     * Removes all nodes.\n     */\n    LayoutNodeManager.prototype.removeAll = function() {\n        var node = this._first;\n        while (node) {\n          var next = node._next;\n          _destroyNode.call(this, node);\n          node = next;\n        }\n        this._first = undefined;\n    };\n\n    /**\n     * Destroys a layout-node\n     */\n    function _destroyNode(node) {\n\n        // Remove node from linked-list\n        if (node._next) {\n            node._next._prev = node._prev;\n        }\n        if (node._prev) {\n            node._prev._next = node._next;\n        }\n        else {\n            this._first = node._next;\n        }\n\n        // Destroy the node\n        node.destroy();\n\n        // Add node to pool\n        if (this._pool.layoutNodes.size < MAX_POOL_SIZE) {\n            this._pool.layoutNodes.size++;\n            node._prev = undefined;\n            node._next = this._pool.layoutNodes.first;\n            this._pool.layoutNodes.first = node;\n        }\n    }\n\n    /**\n     * Gets start layout-node for enumeration.\n     *\n     * @param {Bool} [next] undefined = all, true = all next, false = all previous\n     * @return {LayoutNode} layout-node or undefined\n     */\n    LayoutNodeManager.prototype.getStartEnumNode = function(next) {\n        if (next === undefined) {\n            return this._first;\n        }\n        else if (next === true) {\n            return (this._contextState.start && this._contextState.startPrev) ? this._contextState.start._next : this._contextState.start;\n        }\n        else if (next === false) {\n            return (this._contextState.start && !this._contextState.startPrev) ? this._contextState.start._prev : this._contextState.start;\n        }\n    };\n\n    /**\n     * Checks the integrity of the linked-list.\n     */\n    /*function _checkIntegrity() {\n        var node = this._first;\n        var count = 0;\n        var prevNode;\n        while (node) {\n            if (!node._prev && (node !== this._first)) {\n                throw 'No prev but not first';\n            }\n            if (node._prev !== prevNode) {\n                throw 'Bork';\n            }\n            prevNode = node;\n            node = node._next;\n            count++;\n        }\n    }\n\n    function _checkContextStateIntegrity() {\n        var node = this._contextState.start;\n        while (node) {\n            if (node === this._contextState.next) {\n                break;\n            }\n            if (!node._invalidated) {\n                throw 'WTF';\n            }\n            node = node._next;\n        }\n        node = this._contextState.start;\n        while (node) {\n            if (node === this._contextState.prev) {\n                break;\n            }\n            if (!node._invalidated) {\n                throw 'WTF';\n            }\n            node = node._prev;\n        }\n    }*/\n\n    /**\n     * Creates or gets a layout node.\n     */\n    function _contextGetCreateAndOrderNodes(renderNode, prev) {\n\n        // The first time this function is called, the current\n        // prev/next position is obtained.\n        var node;\n        var state = this._contextState;\n        if (!state.start) {\n            node = this._first;\n            while (node) {\n                if (node.renderNode === renderNode) {\n                    break;\n                }\n                node = node._next;\n            }\n            if (!node) {\n                node = this.createNode(renderNode);\n                node._next = this._first;\n                if (this._first) {\n                    this._first._prev = node;\n                }\n                this._first = node;\n            }\n            state.start = node;\n            state.startPrev = prev;\n            state.prev = node;\n            state.next = node;\n            return node;\n        }\n\n        // Check whether node already exist at the correct position\n        // in the linked-list. If so, return that node immediately\n        // and advance the prev/next pointer for the next/prev\n        // lookup operation.\n        if (prev) {\n            if (state.prev._prev && (state.prev._prev.renderNode === renderNode)) {\n                state.prev = state.prev._prev;\n                return state.prev;\n            }\n        }\n        else {\n            if (state.next._next && (state.next._next.renderNode === renderNode)) {\n                state.next = state.next._next;\n                return state.next;\n            }\n        }\n\n        // Lookup the node anywhere in the list..\n        node = this._first;\n        while (node) {\n            if (node.renderNode === renderNode) {\n                break;\n            }\n            node = node._next;\n        }\n\n        // Create new node if neccessary\n        if (!node) {\n            node = this.createNode(renderNode);\n        }\n\n        // Node existed, remove from linked-list\n        else {\n            if (node._next) {\n                node._next._prev = node._prev;\n            }\n            if (node._prev) {\n                node._prev._next = node._next;\n            }\n            else {\n                this._first = node._next;\n            }\n            node._next = undefined;\n            node._prev = undefined;\n        }\n\n        // Insert node into the linked list\n        if (prev) {\n            if (state.prev._prev) {\n                node._prev = state.prev._prev;\n                state.prev._prev._next = node;\n            }\n            else {\n                this._first = node;\n            }\n            state.prev._prev = node;\n            node._next = state.prev;\n            state.prev = node;\n        }\n        else {\n            if (state.next._next) {\n                node._next = state.next._next;\n                state.next._next._prev = node;\n            }\n            state.next._next = node;\n            node._prev = state.next;\n            state.next = node;\n        }\n\n        return node;\n    }\n\n    /**\n     * Get the next render-node\n     */\n    function _contextNext() {\n\n        // Get the next node from the sequence\n        if (!this._contextState.nextSequence) {\n            return undefined;\n        }\n        if (this._context.reverse) {\n            this._contextState.nextSequence = this._contextState.nextSequence.getNext();\n            if (!this._contextState.nextSequence) {\n                return undefined;\n            }\n        }\n        var renderNode = this._contextState.nextSequence.get();\n        if (!renderNode) {\n            this._contextState.nextSequence = undefined;\n            return undefined;\n        }\n        var nextSequence = this._contextState.nextSequence;\n        if (!this._context.reverse) {\n            this._contextState.nextSequence = this._contextState.nextSequence.getNext();\n        }\n        if (this._contextState.lastRenderNode === renderNode) {\n          throw 'ViewSequence is corrupted, should never contain the same renderNode twice, index: ' + nextSequence.getIndex();\n        }\n        this._contextState.lastRenderNode = renderNode;\n        return {\n            renderNode: renderNode,\n            viewSequence: nextSequence,\n            next: true,\n            index: ++this._contextState.nextGetIndex\n        };\n    }\n\n    /**\n     * Get the previous render-node\n     */\n    function _contextPrev() {\n\n        // Get the previous node from the sequence\n        if (!this._contextState.prevSequence) {\n            return undefined;\n        }\n        if (!this._context.reverse) {\n            this._contextState.prevSequence = this._contextState.prevSequence.getPrevious();\n            if (!this._contextState.prevSequence) {\n                return undefined;\n            }\n        }\n        var renderNode = this._contextState.prevSequence.get();\n        if (!renderNode) {\n            this._contextState.prevSequence = undefined;\n            return undefined;\n        }\n        var prevSequence = this._contextState.prevSequence;\n        if (this._context.reverse) {\n            this._contextState.prevSequence = this._contextState.prevSequence.getPrevious();\n        }\n        if (this._contextState.lastRenderNode === renderNode) {\n          throw 'ViewSequence is corrupted, should never contain the same renderNode twice, index: ' + prevSequence.getIndex();\n        }\n        this._contextState.lastRenderNode = renderNode;\n        return {\n            renderNode: renderNode,\n            viewSequence: prevSequence,\n            prev: true,\n            index: --this._contextState.prevGetIndex\n        };\n    }\n\n    /**\n     * Resolve id into a context-node.\n     */\n     function _contextGet(contextNodeOrId) {\n        if (this._nodesById && ((contextNodeOrId instanceof String) || (typeof contextNodeOrId === 'string'))) {\n            var renderNode = this._nodesById[contextNodeOrId];\n            if (!renderNode) {\n                return undefined;\n            }\n\n            // Return array\n            if (renderNode instanceof Array) {\n                var result = [];\n                for (var i = 0, j = renderNode.length; i < j; i++) {\n                    result.push({\n                        renderNode: renderNode[i],\n                        arrayElement: true\n                    });\n                }\n                return result;\n            }\n\n            // Create context node\n            return {\n                renderNode: renderNode,\n                byId: true\n            };\n        }\n        else {\n            return contextNodeOrId;\n        }\n    }\n\n    /**\n     * Set the node content\n     */\n    function _contextSet(contextNodeOrId, set) {\n        var contextNode = this._nodesById ? _contextGet.call(this, contextNodeOrId) : contextNodeOrId;\n        if (contextNode) {\n            var node = contextNode.node;\n            if (!node) {\n                if (contextNode.next) {\n                     if (contextNode.index < this._contextState.nextSetIndex) {\n                        LayoutUtility.error('Nodes must be layed out in the same order as they were requested!');\n                     }\n                     this._contextState.nextSetIndex = contextNode.index;\n                }\n                else if (contextNode.prev) {\n                     if (contextNode.index > this._contextState.prevSetIndex) {\n                        LayoutUtility.error('Nodes must be layed out in the same order as they were requested!');\n                     }\n                     this._contextState.prevSetIndex = contextNode.index;\n                }\n                node = _contextGetCreateAndOrderNodes.call(this, contextNode.renderNode, contextNode.prev);\n                node._viewSequence = contextNode.viewSequence;\n                node._layoutCount++;\n                if (node._layoutCount === 1) {\n                    this._contextState.addCount++;\n                }\n                contextNode.node = node;\n            }\n            node.usesTrueSize = contextNode.usesTrueSize;\n            node.trueSizeRequested = contextNode.trueSizeRequested;\n            node.set(set, this._context.size);\n            contextNode.set = set;\n        }\n        return set;\n    }\n\n    /**\n     * Helper function that recursively discovers the configured size for a\n     * given renderNode.\n     */\n    function _resolveConfigSize(renderNode) {\n        if (renderNode instanceof RenderNode) {\n            var result = null;\n            var target = renderNode.get();\n            if (target) {\n                result = _resolveConfigSize(target);\n                if (result) {\n                    return result;\n                }\n            }\n            if (renderNode._child) {\n                return _resolveConfigSize(renderNode._child);\n            }\n        }\n        else if (renderNode instanceof Surface) {\n            return renderNode.size ? {\n                renderNode: renderNode,\n                size: renderNode.size\n            } : undefined;\n        }\n        else if (renderNode.options && renderNode.options.size) {\n            return {\n                renderNode: renderNode,\n                size: renderNode.options.size\n            };\n        }\n        return undefined;\n    }\n\n    /**\n     * Resolve the size of the layout-node from the renderable itsself.\n     */\n    function _contextResolveSize(contextNodeOrId, parentSize) {\n        var contextNode = this._nodesById ? _contextGet.call(this, contextNodeOrId) : contextNodeOrId;\n        var resolveSize = this._pool.resolveSize;\n        if (!contextNode) {\n            resolveSize[0] = 0;\n            resolveSize[1] = 0;\n            return resolveSize;\n        }\n\n        // Get in use size\n        var renderNode = contextNode.renderNode;\n        var size = renderNode.getSize();\n        if (!size) {\n            return parentSize;\n        }\n\n        // Check if true-size is used and it must be reavaluated.\n        // This particular piece of code specifically handles true-size Surfaces in famo.us.\n        // It contains portions that ensure that the true-size of a Surface is re-evaluated\n        // and also workaround code that backs up the size of a Surface, so that when the surface\n        // is re-added to the DOM (e.g. when scrolling) it doesn't temporarily have a size of 0.\n        var configSize = _resolveConfigSize(renderNode);\n        if (configSize && ((configSize.size[0] === true) || (configSize.size[1] === true))) {\n            contextNode.usesTrueSize = true;\n            if (configSize.renderNode instanceof Surface) {\n                var backupSize = configSize.renderNode._backupSize;\n                if (configSize.renderNode._contentDirty || configSize.renderNode._trueSizeCheck) {\n                  this._trueSizeRequested = true;\n                  contextNode.trueSizeRequested = true;\n                }\n                if (configSize.renderNode._trueSizeCheck) {\n\n                    // Fix for true-size renderables. When true-size is used, the size\n                    // is incorrect for one render-cycle due to the fact that Surface.commit\n                    // updates the content after asking the DOM for the offsetHeight/offsetWidth.\n                    // The code below backs the size up, and re-uses that when this scenario\n                    // occurs.\n                    if (backupSize && (configSize.size !== size)) {\n                        var newWidth = (configSize.size[0] === true) ? Math.max(backupSize[0], size[0]) : size[0];\n                        var newHeight = (configSize.size[1] === true) ? Math.max(backupSize[1], size[1]) : size[1];\n                        backupSize[0] = newWidth;\n                        backupSize[1] = newHeight;\n                        size = backupSize;\n                        configSize.renderNode._backupSize = undefined;\n                        backupSize = undefined;\n                    }\n                }\n                if (this._reevalTrueSize || (backupSize && ((backupSize[0] !== size[0]) || (backupSize[1] !== size[1])))) {\n                    configSize.renderNode._trueSizeCheck = true; // force request of true-size from DOM\n                    configSize.renderNode._sizeDirty = true;\n                    this._trueSizeRequested = true;\n                }\n\n                // Backup the size of the node\n                if (!backupSize) {\n                    configSize.renderNode._backupSize = [0, 0];\n                    backupSize = configSize.renderNode._backupSize;\n                }\n                backupSize[0] = size[0];\n                backupSize[1] = size[1];\n            }\n\n            // Ensure re-layout when a child layout-controller is using true-size and it\n            // has ben changed.\n            else if (configSize.renderNode._nodes) {\n                if (this._reevalTrueSize || configSize.renderNode._nodes._trueSizeRequested) {\n                    contextNode.trueSizeRequested = true;\n                    this._trueSizeRequested = true;\n                }\n            }\n        }\n\n        // Resolve 'undefined' to parent-size and true to 0\n        if ((size[0] === undefined) || (size[0] === true) || (size[1] === undefined) || (size[1] === true)) {\n            resolveSize[0] = size[0];\n            resolveSize[1] = size[1];\n            size = resolveSize;\n            if (size[0] === undefined) {\n                size[0] = parentSize[0];\n            }\n            else if (size[0] === true) {\n                size[0] = 0;\n                this._trueSizeRequested = true;\n                contextNode.trueSizeRequested = true;\n            }\n            if (size[1] === undefined) {\n                size[1] = parentSize[1];\n            }\n            else if (size[1] === true) {\n                size[1] = 0;\n                this._trueSizeRequested = true;\n                contextNode.trueSizeRequested = true;\n            }\n        }\n        return size;\n    }\n\n    module.exports = LayoutNodeManager;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LayoutNodeManager.js\n ** module id = 41\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2014\n */\n\n/**\n * LayoutContext is the interface for a layout-function to access\n * renderables in the data-source and set their size, position, tranformation, etc...\n *\n * The `next`, `prev` and `get` functions return an opaque object which represents\n * the renderable that is to be layed out. To access the actual renderable, use the\n * `.renderNode` property of this opaque object.\n *\n * @module\n */\ndefine(function(require, exports, module) {\n\n    /**\n     * @class\n     * @alias module:LayoutContext\n     */\n    function LayoutContext(methods) {\n        for (var n in methods) {\n            this[n] = methods[n];\n        }\n    }\n\n    /**\n     * {Property} Size in which to layout the renderables.\n     */\n    LayoutContext.prototype.size = undefined;\n\n    /**\n     * {Property} Direction in which to layout the renderables (0 = X, 1 = Y).\n     */\n    LayoutContext.prototype.direction = undefined;\n\n    /**\n     * {Property} {Number} Scrolling offset at which to start laying out next/prev renderables.\n     */\n    LayoutContext.prototype.scrollOffset = undefined;\n\n    /**\n     * {Property} {Number} Top/left boundary to which to layout renderables (default: 0).\n     */\n    LayoutContext.prototype.scrollStart = undefined;\n\n    /**\n     * {Property} {Number} Bottom/right boundary to which to continue laying out renderables.\n     */\n    LayoutContext.prototype.scrollEnd = undefined;\n\n    /**\n     * Get the context-node for the next renderable in the data-source. When\n     * the end of the data-source is reached, `undefined` is returned.\n     * Use this function to enumerate the contents of a data-source that is\n     * either an Array or a ViewSequence.\n     *\n     * **Example:**\n     *\n     * ```javascript\n     * function MyLayoutFunction(context, options) {\n     *   var height = 0;\n     *   var node = context.next(); // get first next node\n     *   while (node) {\n     *     context.set(node, {\n     *       size: [context.size[0], 100],\n     *       translate: [0, height, 0]\n     *     });\n     *     height += 100;\n     *     node = context.next(); // get next node\n     *   }\n     * }\n     * ```\n     *\n     * @return {Object} context-node or undefined\n     */\n    LayoutContext.prototype.next = function() {\n        // dummy implementation, override in constructor\n    };\n\n    /**\n     * Get the context-node for the previous renderable in the data-source. When\n     * the start of the data-source is reached, `undefined` is returned.\n     * Use this function to enumerate the contents of a data-source that is\n     * either an Array or a ViewSequence.\n     *\n     * **Example:**\n     *\n     * ```javascript\n     * function MyLayoutFunction(context, options) {\n     *   var height = 0;\n     *   var node = context.prev(); // get first previous\n     *   while (node) {\n     *     height -= 100;\n     *     context.set(node, {\n     *       size: [context.size[0], 100],\n     *       translate: [0, height, 0]\n     *     });\n     *     node = context.prev(); // get prev node\n     *   }\n     * }\n     * ```\n     *\n     * @return {Object} context-node or undefined\n     */\n    LayoutContext.prototype.prev = function() {\n        // dummy implementation, override in constructor\n    };\n\n    /**\n     * Get the context-node for a renderable with a specific id. This function\n     * should be used to access data-sources which are key-value collections.\n     * When a data-source is an Array or a ViewSequence, use `next()`.\n     * In many cases it is not neccesary to use `get()`, instead you can pass\n     * the id of the renderable straight to the `set` function.\n     *\n     * **Example:**\n     *\n     * ```javascript\n     * var layoutController = new LayoutController({\n     *   layout: function (context, options) {\n     *     var size = context.size;\n     *     var left = context.get('left');\n     *     context.set(left, { size: [100, size[1]] });\n     *\n     *     var right = context.get('right');\n     *     context.set(right, {\n     *       size: [100, size[1]],\n     *       translate: [size[1] - 100, 0, 0]\n     *     });\n     *\n     *     var middle = context.get('middle');\n     *     context.set(middle, {\n     *       size: [size[0] - 200, size[1]],\n     *       translate: [100, 0, 0]\n     *     });\n     *   },\n     *   dataSource: {\n     *     left: new Surface({content: 'left'}),\n     *     right: new Surface({content: 'right'}),\n     *     middle: new Surface({content: 'middle'})\n     *   }\n     * });\n     * ```\n     *\n     * **Arrays:**\n     *\n     * A value at a specific id in the datasource can also be an array. To access the\n     * context-nodes in the array use `get()` to get the array and the elements in the\n     * array:\n     *\n     * ```javascript\n     * var layoutController = new LayoutController({\n     *   layout: function (context, options) {\n     *     var size = context.size;\n     *     var left = 0;\n     *\n     *     // Position title\n     *     context.set('title', { size: [100, size[1]] });\n     *     left += 100;\n     *\n     *     // Position left-items (array)\n     *     var leftItems = context.get('leftItems');\n     *     for (var i = 0; i < leftItems.length; i++) {\n     *       var leftItem = context.get(leftItems[i]);\n     *       context.set(leftItem, {\n     *         size: [100, size[1]],\n     *         translate: [left, 0, 0]\n     *       });\n     *       left += 100;\n     *     }\n     *   },\n     *   dataSource: {\n     *     title: new Surface({content: 'title'}),\n     *     leftItems: [\n     *       new Surface({content: 'item1'}),\n     *       new Surface({content: 'item2'})\n     *     ]\n     *   }\n     * });\n     * ```\n     *\n     * @param {Object|String} node context-node or node-id\n     * @return {Object} context-node or undefined\n     */\n    LayoutContext.prototype.get = function(node) {\n        // dummy implementation, override in constructor\n    };\n\n    /**\n     * Set the size, origin, align, translation, scale, rotate, skew & opacity for a context-node.\n     *\n     * **Overview of all supported properties:**\n     *\n     * ```javascript\n     * function MyLayoutFunction(context, options) {\n     *   context.set('mynode', {\n     *     size: [100, 20],\n     *     origin: [0.5, 0.5],\n     *     align: [0.5, 0.5],\n     *     translate: [50, 10, 0],\n     *     scale: [1, 1, 1],\n     *     skew: [0, 0, 0],\n     *     rotate: [Math.PI, 0, 0],\n     *     opacity: 1\n     *   })\n     * }\n     * ```\n     *\n     * @param {Object|String} node context-node or node-id\n     * @param {Object} set properties: size, origin, align, translate, scale, rotate, skew & opacity\n     */\n    LayoutContext.prototype.set = function(node, set) {\n        // dummy implementation, override in constructor\n    };\n\n    /**\n     * Resolve the size of a context-node by accessing the `getSize` function\n     * of the renderable.\n     *\n     * **Example:**\n     *\n     * ```javascript\n     * var layoutController = new LayoutController({\n     *   layout: function (context, options) {\n     *     var centerSize = context.resolveSize('center');\n     *     context.set('center', {origin: [0.5, 0.5]});\n     *     context.set('centerRight', {\n     *       origin: [0.5, 0.5],\n     *       translate: [centerSize[0] / 2, 0, 0]\n     *     });\n     *   },\n     *   dataSource: {\n     *     center: new Surface({content: 'center'}),\n     *     centerRight: new Surface({content: 'centerRight'}),\n     *   }\n     * });\n     * ```\n     *\n     * **When the size of the renderable is calculated by the DOM (`true` size)**\n     *\n     * When the layout-function performs its layout for the first time, it is\n     * possible that the renderable has not yet been rendered and its size\n     * is unknown. In this case, the LayoutController will cause a second\n     * reflow of the layout the next render-cycle, ensuring that the renderables\n     * are layed out as expected.\n     *\n     * @param {Object|String} node context-node, node-id or array-element\n     * @return {Size} size of the node\n     */\n    LayoutContext.prototype.resolveSize = function(node) {\n        // dummy implementation, override in constructor\n    };\n\n    module.exports = LayoutContext;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LayoutContext.js\n ** module id = 42\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2014\n */\n\n/**\n * Internal LayoutNode class used by `LayoutController`.\n *\n * @module\n */\ndefine(function(require, exports, module) {\n\n    // import dependencies\n    var Transform = require('famous/core/Transform');\n    var LayoutUtility = require('./LayoutUtility');\n\n    /**\n     * @class\n     * @param {Object} renderNode Render-node which this layout-node represents\n     * @alias module:LayoutNode\n     */\n    function LayoutNode(renderNode, spec) {\n        this.renderNode = renderNode;\n        this._spec = spec ? LayoutUtility.cloneSpec(spec) : {};\n        this._spec.renderNode = renderNode; // also store in spec\n        this._specModified = true;\n        this._invalidated = false;\n        this._removing = false;\n        //this.scrollLength = undefined;\n        //this.trueSizeRequested = false;\n    }\n\n    /**\n     * Called to update the underlying render-node\n     */\n    LayoutNode.prototype.setRenderNode = function(renderNode) {\n        this.renderNode = renderNode;\n        this._spec.renderNode = renderNode;\n    };\n\n    /**\n     * Called to update the options for the node\n     */\n    LayoutNode.prototype.setOptions = function(options) {\n        // override to implement\n    };\n\n    /**\n     * Called when the node is destroyed\n     */\n    LayoutNode.prototype.destroy = function() {\n        this.renderNode = undefined;\n        this._spec.renderNode = undefined;\n        this._viewSequence = undefined;\n    };\n\n    /**\n     * Reset the end-state. This function is called on all layout-nodes prior to\n     * calling the layout-function. So that the layout-function starts with a clean slate.\n     */\n    LayoutNode.prototype.reset = function() {\n        this._invalidated = false;\n        this.trueSizeRequested = false;\n    };\n\n    /**\n     * Set the spec of the node\n     *\n     * @param {Object} spec\n     */\n    LayoutNode.prototype.setSpec = function(spec) {\n        this._specModified = true;\n        if (spec.align) {\n            if (!spec.align) {\n                this._spec.align = [0, 0];\n            }\n            this._spec.align[0] = spec.align[0];\n            this._spec.align[1] = spec.align[1];\n        }\n        else {\n            this._spec.align = undefined;\n        }\n        if (spec.origin) {\n            if (!spec.origin) {\n                this._spec.origin = [0, 0];\n            }\n            this._spec.origin[0] = spec.origin[0];\n            this._spec.origin[1] = spec.origin[1];\n        }\n        else {\n            this._spec.origin = undefined;\n        }\n        if (spec.size) {\n            if (!spec.size) {\n                this._spec.size = [0, 0];\n            }\n            this._spec.size[0] = spec.size[0];\n            this._spec.size[1] = spec.size[1];\n        }\n        else {\n            this._spec.size = undefined;\n        }\n        if (spec.transform) {\n            if (!spec.transform) {\n                this._spec.transform = spec.transform.slice(0);\n            }\n            else {\n                for (var i = 0; i < 16; i++) {\n                    this._spec.transform[i] = spec.transform[i];\n                }\n            }\n        }\n        else {\n            this._spec.transform = undefined;\n        }\n        this._spec.opacity = spec.opacity;\n    };\n\n    /**\n     * Set the content of the node\n     *\n     * @param {Object} set\n     */\n    LayoutNode.prototype.set = function(set, size) {\n        this._invalidated = true;\n        this._specModified = true;\n        this._removing = false;\n        var spec = this._spec;\n        spec.opacity = set.opacity;\n        if (set.size) {\n            if (!spec.size) {\n                spec.size = [0, 0];\n            }\n            spec.size[0] = set.size[0];\n            spec.size[1] = set.size[1];\n        }\n        else {\n            spec.size = undefined;\n        }\n        if (set.origin) {\n            if (!spec.origin) {\n                spec.origin = [0, 0];\n            }\n            spec.origin[0] = set.origin[0];\n            spec.origin[1] = set.origin[1];\n        }\n        else {\n            spec.origin = undefined;\n        }\n        if (set.align) {\n            if (!spec.align) {\n                spec.align = [0, 0];\n            }\n            spec.align[0] = set.align[0];\n            spec.align[1] = set.align[1];\n        }\n        else {\n            spec.align = undefined;\n        }\n\n        if (set.skew || set.rotate || set.scale) {\n            this._spec.transform = Transform.build({\n                translate: set.translate || [0, 0, 0],\n                skew: set.skew || [0, 0, 0],\n                scale: set.scale || [1, 1, 1],\n                rotate: set.rotate || [0, 0, 0]\n            });\n        }\n        else if (set.translate) {\n            this._spec.transform = Transform.translate(set.translate[0], set.translate[1], set.translate[2]);\n        }\n        else {\n            this._spec.transform = undefined;\n        }\n        this.scrollLength = set.scrollLength;\n    };\n\n    /**\n     * Creates the render-spec\n     */\n    LayoutNode.prototype.getSpec = function() {\n        this._specModified = false;\n        this._spec.removed = !this._invalidated;\n        return this._spec;\n    };\n\n    /**\n     * Marks the node for removal\n     */\n    LayoutNode.prototype.remove = function(removeSpec) {\n        this._removing = true;\n    };\n\n    module.exports = LayoutNode;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LayoutNode.js\n ** module id = 43\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2014 - 2015\n */\n\n/**\n * Internal LayoutNode class used by `LayoutNodeManager`.\n *\n * @module\n */\ndefine(function(require, exports, module) {\n\n    // import dependencies\n    var OptionsManager = require('famous/core/OptionsManager');\n    var Transform = require('famous/core/Transform');\n    var Vector = require('famous/math/Vector');\n    var Particle = require('famous/physics/bodies/Particle');\n    var Spring = require('famous/physics/forces/Spring');\n    var PhysicsEngine = require('famous/physics/PhysicsEngine');\n    var LayoutNode = require('./LayoutNode');\n    var Transitionable = require('famous/transitions/Transitionable');\n\n    /**\n     * @class\n     * @extends LayoutNode\n     * @param {Object} renderNode Render-node which this layout-node represents\n     * @param {Spec} spec Initial state\n     * @param {Object} physicsEngines physics-engines to use\n     * @alias module:FlowLayoutNode\n     */\n    function FlowLayoutNode(renderNode, spec) {\n        LayoutNode.apply(this, arguments);\n\n        if (!this.options) {\n            this.options = Object.create(this.constructor.DEFAULT_OPTIONS);\n            this._optionsManager = new OptionsManager(this.options);\n        }\n\n        if (!this._pe) {\n            this._pe = new PhysicsEngine();\n            this._pe.sleep();\n        }\n\n        if (!this._properties) {\n            this._properties = {};\n        }\n        else {\n            for (var propName in this._properties) {\n                this._properties[propName].init = false;\n            }\n        }\n\n        if (!this._lockTransitionable) {\n            this._lockTransitionable = new Transitionable(1);\n        }\n        else {\n            this._lockTransitionable.halt();\n            this._lockTransitionable.reset(1);\n        }\n\n        this._specModified = true;\n        this._initial = true;\n        this._spec.endState = {};\n        if (spec) {\n            this.setSpec(spec);\n        }\n    }\n    FlowLayoutNode.prototype = Object.create(LayoutNode.prototype);\n    FlowLayoutNode.prototype.constructor = FlowLayoutNode;\n\n    FlowLayoutNode.DEFAULT_OPTIONS = {\n        spring: {\n            dampingRatio: 0.8,\n            period: 300\n        },\n        properties: {\n            opacity: true,\n            align: true,\n            origin: true,\n            size: true,\n            translate: true,\n            skew: true,\n            rotate: true,\n            scale: true\n        },\n        particleRounding: 0.001\n    };\n\n    /**\n     * Defaults\n     */\n    var DEFAULT = {\n        opacity: 1,\n        opacity2D: [1, 0],\n        size: [0, 0],\n        origin: [0, 0],\n        align: [0, 0],\n        scale: [1, 1, 1],\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        skew: [0, 0, 0]\n    };\n\n    /**\n     * Verifies that the integrity of the layout-node is oke.\n     */\n    /*function _verifyIntegrity() {\n        var i;\n        for (var propName in this._properties) {\n            var prop = this._properties[propName];\n            if (prop.particle) {\n                if (isNaN(prop.particle.getEnergy())) {\n                    throw 'invalid particle energy: ' + propName;\n                }\n                var value = prop.particle.getPosition();\n                for (i = 0; i < value.length; i++) {\n                    if (isNaN(value[i])) {\n                       throw 'invalid particle value: ' + propName + '(' + i + ')';\n                    }\n                }\n                value = prop.endState.get();\n                for (i = 0; i < value.length; i++) {\n                    if (isNaN(value[i])) {\n                       throw 'invalid endState value: ' + propName + '(' + i + ')';\n                    }\n                }\n            }\n        }\n    }*/\n\n    /**\n     * Sets the configuration options\n     */\n    FlowLayoutNode.prototype.setOptions = function(options) {\n        this._optionsManager.setOptions(options);\n        var wasSleeping = this._pe.isSleeping();\n        for (var propName in this._properties) {\n            var prop = this._properties[propName];\n            if (options.spring && prop.force) {\n                prop.force.setOptions(this.options.spring);\n            }\n            if (options.properties && (options.properties[propName] !== undefined)) {\n                if (this.options.properties[propName].length) {\n                    prop.enabled = this.options.properties[propName];\n                }\n                else {\n                    prop.enabled = [\n                        this.options.properties[propName],\n                        this.options.properties[propName],\n                        this.options.properties[propName]\n                    ];\n                }\n            }\n        }\n        if (wasSleeping) {\n            this._pe.sleep();\n        }\n        return this;\n    };\n\n    /**\n     * Set the properties from a spec.\n     */\n    FlowLayoutNode.prototype.setSpec = function(spec) {\n        var set;\n        if (spec.transform) {\n            set = Transform.interpret(spec.transform);\n        }\n        if (!set) {\n            set = {};\n        }\n        set.opacity = spec.opacity;\n        set.size = spec.size;\n        set.align = spec.align;\n        set.origin = spec.origin;\n\n        var oldRemoving = this._removing;\n        var oldInvalidated = this._invalidated;\n        this.set(set);\n        this._removing = oldRemoving;\n        this._invalidated = oldInvalidated;\n    };\n\n    /**\n     * Reset the end-state. This function is called on all layout-nodes prior to\n     * calling the layout-function. So that the layout-function starts with a clean slate.\n     */\n    FlowLayoutNode.prototype.reset = function() {\n        if (this._invalidated) {\n            for (var propName in this._properties) {\n                this._properties[propName].invalidated = false;\n            }\n            this._invalidated = false;\n        }\n        this.trueSizeRequested = false;\n        this.usesTrueSize = false;\n    };\n\n    /**\n     * Markes the node for removal.\n     */\n    FlowLayoutNode.prototype.remove = function(removeSpec) {\n\n        // Transition to the remove-spec state\n        this._removing = true;\n        if (removeSpec) {\n            this.setSpec(removeSpec);\n        }\n        else {\n            this._pe.sleep();\n            this._specModified = false;\n        }\n\n        // Mark for removal\n        this._invalidated = false;\n    };\n\n    /**\n     * Temporarily releases the flowing-lock that is applied to the node.\n     * E.g., when changing position, resizing, the lock should be released so that\n     * the renderables can smoothly transition to their new positions.\n     */\n    FlowLayoutNode.prototype.releaseLock = function(enable) {\n        this._lockTransitionable.halt();\n        this._lockTransitionable.reset(0);\n        if (enable) {\n          this._lockTransitionable.set(1, {\n              duration: this.options.spring.period || 1000\n          });\n        }\n    };\n\n    /**\n     * Helper function for getting the property value.\n     */\n    function _getRoundedValue3D(prop, def, precision, lockValue) {\n        if (!prop || !prop.init) {\n            return def;\n        }\n        return [\n            prop.enabled[0] ? (Math.round((prop.curState.x + ((prop.endState.x - prop.curState.x) * lockValue)) / precision) * precision) : prop.endState.x,\n            prop.enabled[1] ? (Math.round((prop.curState.y + ((prop.endState.y - prop.curState.y) * lockValue)) / precision) * precision) : prop.endState.y,\n            prop.enabled[2] ? (Math.round((prop.curState.z + ((prop.endState.z - prop.curState.z) * lockValue)) / precision) * precision) : prop.endState.z\n        ];\n    }\n\n    /**\n     * Creates the render-spec\n     */\n    FlowLayoutNode.prototype.getSpec = function() {\n\n        // When the end state was reached, return the previous spec\n        var endStateReached = this._pe.isSleeping();\n        if (!this._specModified && endStateReached) {\n            this._spec.removed = !this._invalidated;\n            return this._spec;\n        }\n        this._initial = false;\n        this._specModified = !endStateReached;\n        this._spec.removed = false;\n\n        // Step physics engine when not sleeping\n        if (!endStateReached) {\n            this._pe.step();\n        }\n\n        // Build fresh spec\n        var spec = this._spec;\n        var precision = this.options.particleRounding;\n        var lockValue = this._lockTransitionable.get();\n\n        // opacity\n        var prop = this._properties.opacity;\n        if (prop && prop.init) {\n            spec.opacity = prop.enabled[0] ? (Math.round(Math.max(0, Math.min(1, prop.curState.x)) / precision) * precision) : prop.endState.x;\n            spec.endState.opacity = prop.endState.x;\n        }\n        else {\n            spec.opacity = undefined;\n            spec.endState.opacity = undefined;\n        }\n\n        // size\n        prop = this._properties.size;\n        if (prop && prop.init) {\n            spec.size = spec.size || [0, 0];\n            spec.size[0] = prop.enabled[0] ? (Math.round((prop.curState.x + ((prop.endState.x - prop.curState.x) * lockValue)) / 0.1) * 0.1) : prop.endState.x;\n            spec.size[1] = prop.enabled[1] ? (Math.round((prop.curState.y + ((prop.endState.y - prop.curState.y) * lockValue)) / 0.1) * 0.1) : prop.endState.y;\n            spec.endState.size = spec.endState.size || [0, 0];\n            spec.endState.size[0] = prop.endState.x;\n            spec.endState.size[1] = prop.endState.y;\n        }\n        else {\n            spec.size = undefined;\n            spec.endState.size = undefined;\n        }\n\n        // align\n        prop = this._properties.align;\n        if (prop && prop.init) {\n            spec.align = spec.align || [0, 0];\n            spec.align[0] = prop.enabled[0] ? (Math.round((prop.curState.x + ((prop.endState.x - prop.curState.x) * lockValue)) / 0.1) * 0.1) : prop.endState.x;\n            spec.align[1] = prop.enabled[1] ? (Math.round((prop.curState.y + ((prop.endState.y - prop.curState.y) * lockValue)) / 0.1) * 0.1) : prop.endState.y;\n            spec.endState.align = spec.endState.align || [0, 0];\n            spec.endState.align[0] = prop.endState.x;\n            spec.endState.align[1] = prop.endState.y;\n        }\n        else {\n            spec.align = undefined;\n            spec.endState.align = undefined;\n        }\n\n        // origin\n        prop = this._properties.origin;\n        if (prop && prop.init) {\n            spec.origin = spec.origin || [0, 0];\n            spec.origin[0] = prop.enabled[0] ? (Math.round((prop.curState.x + ((prop.endState.x - prop.curState.x) * lockValue)) / 0.1) * 0.1) : prop.endState.x;\n            spec.origin[1] = prop.enabled[1] ? (Math.round((prop.curState.y + ((prop.endState.y - prop.curState.y) * lockValue)) / 0.1) * 0.1) : prop.endState.y;\n            spec.endState.origin = spec.endState.origin || [0, 0];\n            spec.endState.origin[0] = prop.endState.x;\n            spec.endState.origin[1] = prop.endState.y;\n        }\n        else {\n            spec.origin = undefined;\n            spec.endState.origin = undefined;\n        }\n\n        // translate\n        var translate = this._properties.translate;\n        var translateX;\n        var translateY;\n        var translateZ;\n        if (translate && translate.init) {\n            translateX = translate.enabled[0] ? (Math.round((translate.curState.x + ((translate.endState.x - translate.curState.x) * lockValue)) / precision) * precision) : translate.endState.x;\n            translateY = translate.enabled[1] ? (Math.round((translate.curState.y + ((translate.endState.y - translate.curState.y) * lockValue)) / precision) * precision) : translate.endState.y;\n            translateZ = translate.enabled[2] ? (Math.round((translate.curState.z + ((translate.endState.z - translate.curState.z) * lockValue)) / precision) * precision) : translate.endState.z;\n        }\n        else {\n            translateX = 0;\n            translateY = 0;\n            translateZ = 0;\n        }\n\n        // scale, skew, scale\n        var scale = this._properties.scale;\n        var skew = this._properties.skew;\n        var rotate = this._properties.rotate;\n        if (scale || skew || rotate) {\n            spec.transform = Transform.build({\n                translate: [translateX, translateY, translateZ],\n                skew: _getRoundedValue3D.call(this, skew, DEFAULT.skew, this.options.particleRounding, lockValue),\n                scale: _getRoundedValue3D.call(this, scale, DEFAULT.scale, this.options.particleRounding, lockValue),\n                rotate: _getRoundedValue3D.call(this, rotate, DEFAULT.rotate, this.options.particleRounding, lockValue)\n            });\n            spec.endState.transform = Transform.build({\n                translate: translate ? [translate.endState.x, translate.endState.y, translate.endState.z] : DEFAULT.translate,\n                scale: scale ? [scale.endState.x, scale.endState.y, scale.endState.z] : DEFAULT.scale,\n                skew: skew ? [skew.endState.x, skew.endState.y, skew.endState.z] : DEFAULT.skew,\n                rotate: rotate ? [rotate.endState.x, rotate.endState.y, rotate.endState.z] : DEFAULT.rotate\n            });\n        }\n        else if (translate) {\n            if (!spec.transform) {\n                spec.transform = Transform.translate(translateX, translateY, translateZ);\n            }\n            else {\n                spec.transform[12] = translateX;\n                spec.transform[13] = translateY;\n                spec.transform[14] = translateZ;\n            }\n            if (!spec.endState.transform) {\n                spec.endState.transform = Transform.translate(translate.endState.x, translate.endState.y, translate.endState.z);\n            }\n            else {\n                spec.endState.transform[12] = translate.endState.x;\n                spec.endState.transform[13] = translate.endState.y;\n                spec.endState.transform[14] = translate.endState.z;\n            }\n        }\n        else {\n            spec.transform = undefined;\n            spec.endState.transform = undefined;\n        }\n        return this._spec;\n    };\n\n    /**\n     * Helper function to set the property of a node (e.g. opacity, translate, etc..)\n     */\n    function _setPropertyValue(prop, propName, endState, defaultValue, immediate, isTranslate) {\n\n        // Get property\n        prop = prop || this._properties[propName];\n\n        // Update the property\n        if (prop && prop.init) {\n            prop.invalidated = true;\n            var value = defaultValue;\n            if (endState !== undefined) {\n                value = endState;\n            }\n            else if (this._removing) {\n                value = prop.particle.getPosition();\n            }\n            //if (isTranslate && (this._lockDirection !== undefined) && (this._lockTransitionable.get() === 1)) {\n            //    immediate = true; // this is a bit dirty, it should check !_lockDirection for non changes as well before setting immediate to true\n            //}\n            // set new end state (the quick way)\n            prop.endState.x = value[0];\n            prop.endState.y = (value.length > 1) ? value[1] : 0;\n            prop.endState.z = (value.length > 2) ? value[2] : 0;\n            if (immediate) {\n                // set current state (the quick way)\n                prop.curState.x = prop.endState.x;\n                prop.curState.y = prop.endState.y;\n                prop.curState.z = prop.endState.z;\n                // reset velocity (the quick way)\n                prop.velocity.x = 0;\n                prop.velocity.y = 0;\n                prop.velocity.z = 0;\n            }\n            else if ((prop.endState.x !== prop.curState.x) ||\n                     (prop.endState.y !== prop.curState.y) ||\n                     (prop.endState.z !== prop.curState.z)) {\n                this._pe.wake();\n            }\n            return;\n        }\n        else {\n\n            // Create property if neccesary\n            var wasSleeping = this._pe.isSleeping();\n            if (!prop) {\n                prop = {\n                    particle: new Particle({\n                        position: (this._initial || immediate) ? endState : defaultValue\n                    }),\n                    endState: new Vector(endState)\n                };\n                prop.curState = prop.particle.position;\n                prop.velocity = prop.particle.velocity;\n                prop.force = new Spring(this.options.spring);\n                prop.force.setOptions({\n                    anchor: prop.endState\n                });\n                this._pe.addBody(prop.particle);\n                prop.forceId = this._pe.attach(prop.force, prop.particle);\n                this._properties[propName] = prop;\n            }\n            else {\n                prop.particle.setPosition((this._initial || immediate) ? endState : defaultValue);\n                prop.endState.set(endState);\n            }\n            if (!this._initial && !immediate) {\n                this._pe.wake();\n            }\n            else if (wasSleeping) {\n                this._pe.sleep(); // nothing has changed, put back to sleep\n            }\n            if (this.options.properties[propName] && this.options.properties[propName].length) {\n                prop.enabled = this.options.properties[propName];\n            }\n            else {\n                prop.enabled = [\n                  this.options.properties[propName],\n                  this.options.properties[propName],\n                  this.options.properties[propName]\n                ];\n            }\n            prop.init = true;\n            prop.invalidated = true;\n        }\n    }\n\n    /**\n     * Get value if not equals.\n     */\n    function _getIfNE2D(a1, a2) {\n        return ((a1[0] === a2[0]) && (a1[1] === a2[1])) ? undefined : a1;\n    }\n    function _getIfNE3D(a1, a2) {\n        return ((a1[0] === a2[0]) && (a1[1] === a2[1]) && (a1[2] === a2[2])) ? undefined : a1;\n    }\n\n    /**\n     * context.set(..)\n     */\n    FlowLayoutNode.prototype.set = function(set, defaultSize) {\n        if (defaultSize) {\n            this._removing = false;\n        }\n        this._invalidated = true;\n        this.scrollLength = set.scrollLength;\n        this._specModified = true;\n\n        // opacity\n        var prop = this._properties.opacity;\n        var value = (set.opacity === DEFAULT.opacity) ? undefined : set.opacity;\n        if ((value !== undefined) || (prop && prop.init)) {\n            _setPropertyValue.call(this, prop, 'opacity', (value === undefined) ? undefined : [value, 0], DEFAULT.opacity2D);\n        }\n\n        // set align\n        prop = this._properties.align;\n        value = set.align ? _getIfNE2D(set.align, DEFAULT.align) : undefined;\n        if (value || (prop && prop.init)) {\n            _setPropertyValue.call(this, prop, 'align', value, DEFAULT.align);\n        }\n\n        // set orgin\n        prop = this._properties.origin;\n        value = set.origin ? _getIfNE2D(set.origin, DEFAULT.origin) : undefined;\n        if (value || (prop && prop.init)) {\n            _setPropertyValue.call(this, prop, 'origin', value, DEFAULT.origin);\n        }\n\n        // set size\n        prop = this._properties.size;\n        value = set.size || defaultSize;\n        if (value || (prop && prop.init)) {\n            _setPropertyValue.call(this, prop, 'size', value, defaultSize, this.usesTrueSize);\n        }\n\n        // set translate\n        prop = this._properties.translate;\n        value = set.translate;\n        if (value || (prop && prop.init)) {\n            _setPropertyValue.call(this, prop, 'translate', value, DEFAULT.translate, undefined, true);\n        }\n\n        // set scale\n        prop = this._properties.scale;\n        value = set.scale ? _getIfNE3D(set.scale, DEFAULT.scale) : undefined;\n        if (value || (prop && prop.init)) {\n            _setPropertyValue.call(this, prop, 'scale', value, DEFAULT.scale);\n        }\n\n        // set rotate\n        prop = this._properties.rotate;\n        value = set.rotate ? _getIfNE3D(set.rotate, DEFAULT.rotate) : undefined;\n        if (value || (prop && prop.init)) {\n            _setPropertyValue.call(this, prop, 'rotate', value, DEFAULT.rotate);\n        }\n\n        // set skew\n        prop = this._properties.skew;\n        value = set.skew ? _getIfNE3D(set.skew, DEFAULT.skew) : undefined;\n        if (value || (prop && prop.init)) {\n            _setPropertyValue.call(this, prop, 'skew', value, DEFAULT.skew);\n        }\n    };\n\n    module.exports = FlowLayoutNode;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/FlowLayoutNode.js\n ** module id = 44\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n\n    /**\n     * Three-element floating point vector.\n     *\n     * @class Vector\n     * @constructor\n     *\n     * @param {number} x x element value\n     * @param {number} y y element value\n     * @param {number} z z element value\n     */\n    function Vector(x,y,z) {\n        if (arguments.length === 1 && x !== undefined) this.set(x);\n        else {\n            this.x = x || 0;\n            this.y = y || 0;\n            this.z = z || 0;\n        }\n        return this;\n    }\n\n    var _register = new Vector(0,0,0);\n\n    /**\n     * Add this element-wise to another Vector, element-wise.\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     *\n     * @method add\n     * @param {Vector} v addend\n     * @return {Vector} vector sum\n     */\n    Vector.prototype.add = function add(v) {\n        return _setXYZ.call(_register,\n            this.x + v.x,\n            this.y + v.y,\n            this.z + v.z\n        );\n    };\n\n    /**\n     * Subtract another vector from this vector, element-wise.\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     *\n     * @method sub\n     * @param {Vector} v subtrahend\n     * @return {Vector} vector difference\n     */\n    Vector.prototype.sub = function sub(v) {\n        return _setXYZ.call(_register,\n            this.x - v.x,\n            this.y - v.y,\n            this.z - v.z\n        );\n    };\n\n    /**\n     * Scale Vector by floating point r.\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     *\n     * @method mult\n     *\n     * @param {number} r scalar\n     * @return {Vector} vector result\n     */\n    Vector.prototype.mult = function mult(r) {\n        return _setXYZ.call(_register,\n            r * this.x,\n            r * this.y,\n            r * this.z\n        );\n    };\n\n    /**\n     * Scale Vector by floating point 1/r.\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     *\n     * @method div\n     *\n     * @param {number} r scalar\n     * @return {Vector} vector result\n     */\n    Vector.prototype.div = function div(r) {\n        return this.mult(1 / r);\n    };\n\n    /**\n     * Given another vector v, return cross product (v)x(this).\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     *\n     * @method cross\n     * @param {Vector} v Left Hand Vector\n     * @return {Vector} vector result\n     */\n    Vector.prototype.cross = function cross(v) {\n        var x = this.x;\n        var y = this.y;\n        var z = this.z;\n        var vx = v.x;\n        var vy = v.y;\n        var vz = v.z;\n\n        return _setXYZ.call(_register,\n            z * vy - y * vz,\n            x * vz - z * vx,\n            y * vx - x * vy\n        );\n    };\n\n    /**\n     * Component-wise equality test between this and Vector v.\n     * @method equals\n     * @param {Vector} v vector to compare\n     * @return {boolean}\n     */\n    Vector.prototype.equals = function equals(v) {\n        return (v.x === this.x && v.y === this.y && v.z === this.z);\n    };\n\n    /**\n     * Rotate clockwise around x-axis by theta radians.\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     * @method rotateX\n     * @param {number} theta radians\n     * @return {Vector} rotated vector\n     */\n    Vector.prototype.rotateX = function rotateX(theta) {\n        var x = this.x;\n        var y = this.y;\n        var z = this.z;\n\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n\n        return _setXYZ.call(_register,\n            x,\n            y * cosTheta - z * sinTheta,\n            y * sinTheta + z * cosTheta\n        );\n    };\n\n    /**\n     * Rotate clockwise around y-axis by theta radians.\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     * @method rotateY\n     * @param {number} theta radians\n     * @return {Vector} rotated vector\n     */\n    Vector.prototype.rotateY = function rotateY(theta) {\n        var x = this.x;\n        var y = this.y;\n        var z = this.z;\n\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n\n        return _setXYZ.call(_register,\n            z * sinTheta + x * cosTheta,\n            y,\n            z * cosTheta - x * sinTheta\n        );\n    };\n\n    /**\n     * Rotate clockwise around z-axis by theta radians.\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     * @method rotateZ\n     * @param {number} theta radians\n     * @return {Vector} rotated vector\n     */\n    Vector.prototype.rotateZ = function rotateZ(theta) {\n        var x = this.x;\n        var y = this.y;\n        var z = this.z;\n\n        var cosTheta = Math.cos(theta);\n        var sinTheta = Math.sin(theta);\n\n        return _setXYZ.call(_register,\n            x * cosTheta - y * sinTheta,\n            x * sinTheta + y * cosTheta,\n            z\n        );\n    };\n\n    /**\n     * Return dot product of this with a second Vector\n     * @method dot\n     * @param {Vector} v second vector\n     * @return {number} dot product\n     */\n    Vector.prototype.dot = function dot(v) {\n        return this.x * v.x + this.y * v.y + this.z * v.z;\n    };\n\n    /**\n     * Return squared length of this vector\n     * @method normSquared\n     * @return {number} squared length\n     */\n    Vector.prototype.normSquared = function normSquared() {\n        return this.dot(this);\n    };\n\n    /**\n     * Return length of this vector\n     * @method norm\n     * @return {number} length\n     */\n    Vector.prototype.norm = function norm() {\n        return Math.sqrt(this.normSquared());\n    };\n\n    /**\n     * Scale Vector to specified length.\n     *   If length is less than internal tolerance, set vector to [length, 0, 0].\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     * @method normalize\n     *\n     * @param {number} length target length, default 1.0\n     * @return {Vector}\n     */\n    Vector.prototype.normalize = function normalize(length) {\n        if (arguments.length === 0) length = 1;\n        var norm = this.norm();\n\n        if (norm > 1e-7) return _setFromVector.call(_register, this.mult(length / norm));\n        else return _setXYZ.call(_register, length, 0, 0);\n    };\n\n    /**\n     * Make a separate copy of the Vector.\n     *\n     * @method clone\n     *\n     * @return {Vector}\n     */\n    Vector.prototype.clone = function clone() {\n        return new Vector(this);\n    };\n\n    /**\n     * True if and only if every value is 0 (or falsy)\n     *\n     * @method isZero\n     *\n     * @return {boolean}\n     */\n    Vector.prototype.isZero = function isZero() {\n        return !(this.x || this.y || this.z);\n    };\n\n    function _setXYZ(x,y,z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    }\n\n    function _setFromArray(v) {\n        return _setXYZ.call(this,v[0],v[1],v[2] || 0);\n    }\n\n    function _setFromVector(v) {\n        return _setXYZ.call(this, v.x, v.y, v.z);\n    }\n\n    function _setFromNumber(x) {\n        return _setXYZ.call(this,x,0,0);\n    }\n\n    /**\n     * Set this Vector to the values in the provided Array or Vector.\n     *\n     * @method set\n     * @param {object} v array, Vector, or number\n     * @return {Vector} this\n     */\n    Vector.prototype.set = function set(v) {\n        if (v instanceof Array) return _setFromArray.call(this, v);\n        if (typeof v === 'number') return _setFromNumber.call(this, v);\n        return _setFromVector.call(this, v);\n    };\n\n    Vector.prototype.setXYZ = function(x,y,z) {\n        return _setXYZ.apply(this, arguments);\n    };\n\n    Vector.prototype.set1D = function(x) {\n        return _setFromNumber.call(this, x);\n    };\n\n    /**\n     * Put result of last internal register calculation in specified output vector.\n     *\n     * @method put\n     * @param {Vector} v destination vector\n     * @return {Vector} destination vector\n     */\n\n    Vector.prototype.put = function put(v) {\n        if (this === _register) _setFromVector.call(v, _register);\n        else _setFromVector.call(v, this);\n    };\n\n    /**\n     * Set this vector to [0,0,0]\n     *\n     * @method clear\n     */\n    Vector.prototype.clear = function clear() {\n        return _setXYZ.call(this,0,0,0);\n    };\n\n    /**\n     * Scale this Vector down to specified \"cap\" length.\n     *   If Vector shorter than cap, or cap is Infinity, do nothing.\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     *\n     * @method cap\n     * @return {Vector} capped vector\n     */\n    Vector.prototype.cap = function cap(cap) {\n        if (cap === Infinity) return _setFromVector.call(_register, this);\n        var norm = this.norm();\n        if (norm > cap) return _setFromVector.call(_register, this.mult(cap / norm));\n        else return _setFromVector.call(_register, this);\n    };\n\n    /**\n     * Return projection of this Vector onto another.\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     *\n     * @method project\n     * @param {Vector} n vector to project upon\n     * @return {Vector} projected vector\n     */\n    Vector.prototype.project = function project(n) {\n        return n.mult(this.dot(n));\n    };\n\n    /**\n     * Reflect this Vector across provided vector.\n     *   Note: This sets the internal result register, so other references to that vector will change.\n     *\n     * @method reflectAcross\n     * @param {Vector} n vector to reflect across\n     * @return {Vector} reflected vector\n     */\n    Vector.prototype.reflectAcross = function reflectAcross(n) {\n        n.normalize().put(n);\n        return _setFromVector(_register, this.sub(this.project(n).mult(2)));\n    };\n\n    /**\n     * Convert Vector to three-element array.\n     *\n     * @method get\n     * @return {array<number>} three-element array\n     */\n    Vector.prototype.get = function get() {\n        return [this.x, this.y, this.z];\n    };\n\n    Vector.prototype.get1D = function() {\n        return this.x;\n    };\n\n    module.exports = Vector;\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/math/Vector.js\n ** module id = 45\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Vector = require('../../math/Vector');\n    var Transform = require('../../core/Transform');\n    var EventHandler = require('../../core/EventHandler');\n    var Integrator = require('../integrators/SymplecticEuler');\n\n    /**\n     * A point body that is controlled by the Physics Engine. A particle has\n     *   position and velocity states that are updated by the Physics Engine.\n     *   Ultimately, a particle is a special type of modifier, and can be added to\n     *   the Famo.us Scene Graph like any other modifier.\n     *\n     * @class Particle\n     * @uses EventHandler\n     * @extensionfor Body\n     *\n     * @param [options] {Options}           An object of configurable options.\n     * @param [options.position] {Array}    The position of the particle.\n     * @param [options.velocity] {Array}    The velocity of the particle.\n     * @param [options.mass] {Number}       The mass of the particle.\n     */\n     function Particle(options) {\n        options = options || {};\n        var defaults = Particle.DEFAULT_OPTIONS;\n\n        // registers\n        this.position = new Vector();\n        this.velocity = new Vector();\n        this.force = new Vector();\n\n        // state variables\n        this._engine = null;\n        this._isSleeping = true;\n        this._eventOutput = null;\n\n        // set scalars\n        this.mass = (options.mass !== undefined)\n            ? options.mass\n            : defaults.mass;\n\n        this.inverseMass = 1 / this.mass;\n\n        // set vectors\n        this.setPosition(options.position || defaults.position);\n        this.setVelocity(options.velocity || defaults.velocity);\n        this.force.set(options.force || [0,0,0]);\n\n        this.transform = Transform.identity.slice();\n\n        // cached _spec\n        this._spec = {\n            size : [true, true],\n            target : {\n                transform : this.transform,\n                origin : [0.5, 0.5],\n                target : null\n            }\n        };\n    }\n\n    Particle.DEFAULT_OPTIONS = {\n        position : [0, 0, 0],\n        velocity : [0, 0, 0],\n        mass : 1\n    };\n\n    //Catalogue of outputted events\n    var _events = {\n        start : 'start',\n        update : 'update',\n        end : 'end'\n    };\n\n    // Cached timing function\n    var now = Date.now;\n\n    /**\n     * @attribute isBody\n     * @type Boolean\n     * @static\n     */\n    Particle.prototype.isBody = false;\n\n    /**\n     * Determines if particle is active\n     *\n     * @method isActive\n     * @return {Boolean}\n     */\n    Particle.prototype.isActive = function isActive() {\n        return !this._isSleeping;\n    };\n\n    /**\n     * Stops the particle from updating\n     *\n     * @method sleep\n     */\n    Particle.prototype.sleep = function sleep() {\n        if (this._isSleeping) return;\n        this.emit(_events.end, this);\n        this._isSleeping = true;\n    };\n\n    /**\n     * Starts the particle update\n     *\n     * @method wake\n     */\n    Particle.prototype.wake = function wake() {\n        if (!this._isSleeping) return;\n        this.emit(_events.start, this);\n        this._isSleeping = false;\n        this._prevTime = now();\n        if (this._engine) this._engine.wake();\n    };\n\n    /**\n     * Basic setter for position\n     *\n     * @method setPosition\n     * @param position {Array|Vector}\n     */\n    Particle.prototype.setPosition = function setPosition(position) {\n        this.position.set(position);\n    };\n\n    /**\n     * 1-dimensional setter for position\n     *\n     * @method setPosition1D\n     * @param x {Number}\n     */\n    Particle.prototype.setPosition1D = function setPosition1D(x) {\n        this.position.x = x;\n    };\n\n    /**\n     * Basic getter function for position\n     *\n     * @method getPosition\n     * @return position {Array}\n     */\n    Particle.prototype.getPosition = function getPosition() {\n        this._engine.step();\n        return this.position.get();\n    };\n\n    /**\n     * 1-dimensional getter for position\n     *\n     * @method getPosition1D\n     * @return value {Number}\n     */\n    Particle.prototype.getPosition1D = function getPosition1D() {\n        this._engine.step();\n        return this.position.x;\n    };\n\n    /**\n     * Basic setter function for velocity Vector\n     *\n     * @method setVelocity\n     * @function\n     */\n    Particle.prototype.setVelocity = function setVelocity(velocity) {\n        this.velocity.set(velocity);\n        if (!(velocity[0] === 0 && velocity[1] === 0 && velocity[2] === 0))\n            this.wake();\n    };\n\n    /**\n     * 1-dimensional setter for velocity\n     *\n     * @method setVelocity1D\n     * @param x {Number}\n     */\n    Particle.prototype.setVelocity1D = function setVelocity1D(x) {\n        this.velocity.x = x;\n        if (x !== 0) this.wake();\n    };\n\n    /**\n     * Basic getter function for velocity Vector\n     *\n     * @method getVelocity\n     * @return velocity {Array}\n     */\n    Particle.prototype.getVelocity = function getVelocity() {\n        return this.velocity.get();\n    };\n\n    /**\n     * Basic setter function for force Vector\n     *\n     * @method setForce\n     * @return force {Array}\n     */\n    Particle.prototype.setForce = function setForce(force) {\n        this.force.set(force);\n        this.wake();\n    };\n\n    /**\n     * 1-dimensional getter for velocity\n     *\n     * @method getVelocity1D\n     * @return velocity {Number}\n     */\n    Particle.prototype.getVelocity1D = function getVelocity1D() {\n        return this.velocity.x;\n    };\n\n    /**\n     * Basic setter function for mass quantity\n     *\n     * @method setMass\n     * @param mass {Number} mass\n     */\n    Particle.prototype.setMass = function setMass(mass) {\n        this.mass = mass;\n        this.inverseMass = 1 / mass;\n    };\n\n    /**\n     * Basic getter function for mass quantity\n     *\n     * @method getMass\n     * @return mass {Number}\n     */\n    Particle.prototype.getMass = function getMass() {\n        return this.mass;\n    };\n\n    /**\n     * Reset position and velocity\n     *\n     * @method reset\n     * @param position {Array|Vector}\n     * @param velocity {Array|Vector}\n     */\n    Particle.prototype.reset = function reset(position, velocity) {\n        this.setPosition(position || [0,0,0]);\n        this.setVelocity(velocity || [0,0,0]);\n    };\n\n    /**\n     * Add force vector to existing internal force Vector\n     *\n     * @method applyForce\n     * @param force {Vector}\n     */\n    Particle.prototype.applyForce = function applyForce(force) {\n        if (force.isZero()) return;\n        this.force.add(force).put(this.force);\n        this.wake();\n    };\n\n    /**\n     * Add impulse (change in velocity) Vector to this Vector's velocity.\n     *\n     * @method applyImpulse\n     * @param impulse {Vector}\n     */\n    Particle.prototype.applyImpulse = function applyImpulse(impulse) {\n        if (impulse.isZero()) return;\n        var velocity = this.velocity;\n        velocity.add(impulse.mult(this.inverseMass)).put(velocity);\n    };\n\n    /**\n     * Update a particle's velocity from its force accumulator\n     *\n     * @method integrateVelocity\n     * @param dt {Number} Time differential\n     */\n    Particle.prototype.integrateVelocity = function integrateVelocity(dt) {\n        Integrator.integrateVelocity(this, dt);\n    };\n\n    /**\n     * Update a particle's position from its velocity\n     *\n     * @method integratePosition\n     * @param dt {Number} Time differential\n     */\n    Particle.prototype.integratePosition = function integratePosition(dt) {\n        Integrator.integratePosition(this, dt);\n    };\n\n    /**\n     * Update the position and velocity of the particle\n     *\n     * @method _integrate\n     * @protected\n     * @param dt {Number} Time differential\n     */\n    Particle.prototype._integrate = function _integrate(dt) {\n        this.integrateVelocity(dt);\n        this.integratePosition(dt);\n    };\n\n    /**\n     * Get kinetic energy of the particle.\n     *\n     * @method getEnergy\n     * @function\n     */\n    Particle.prototype.getEnergy = function getEnergy() {\n        return 0.5 * this.mass * this.velocity.normSquared();\n    };\n\n    /**\n     * Generate transform from the current position state\n     *\n     * @method getTransform\n     * @return Transform {Transform}\n     */\n    Particle.prototype.getTransform = function getTransform() {\n        this._engine.step();\n\n        var position = this.position;\n        var transform = this.transform;\n\n        transform[12] = position.x;\n        transform[13] = position.y;\n        transform[14] = position.z;\n        return transform;\n    };\n\n    /**\n     * The modify interface of a Modifier\n     *\n     * @method modify\n     * @param target {Spec}\n     * @return Spec {Spec}\n     */\n    Particle.prototype.modify = function modify(target) {\n        var _spec = this._spec.target;\n        _spec.transform = this.getTransform();\n        _spec.target = target;\n        return this._spec;\n    };\n\n    // private\n    function _createEventOutput() {\n        this._eventOutput = new EventHandler();\n        this._eventOutput.bindThis(this);\n        EventHandler.setOutputHandler(this, this._eventOutput);\n    }\n\n    Particle.prototype.emit = function emit(type, data) {\n        if (!this._eventOutput) return;\n        this._eventOutput.emit(type, data);\n    };\n\n    Particle.prototype.on = function on() {\n        _createEventOutput.call(this);\n        return this.on.apply(this, arguments);\n    };\n\n    Particle.prototype.removeListener = function removeListener() {\n        _createEventOutput.call(this);\n        return this.removeListener.apply(this, arguments);\n    };\n\n    Particle.prototype.pipe = function pipe() {\n        _createEventOutput.call(this);\n        return this.pipe.apply(this, arguments);\n    };\n\n    Particle.prototype.unpipe = function unpipe() {\n        _createEventOutput.call(this);\n        return this.unpipe.apply(this, arguments);\n    };\n\n    module.exports = Particle;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/bodies/Particle.js\n ** module id = 46\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n\n    /**\n     * Ordinary Differential Equation (ODE) Integrator.\n     * Manages updating a physics body's state over time.\n     *\n     *  p = position, v = velocity, m = mass, f = force, dt = change in time\n     *\n     *      v <- v + dt * f / m\n     *      p <- p + dt * v\n     *\n     *  q = orientation, w = angular velocity, L = angular momentum\n     *\n     *      L <- L + dt * t\n     *      q <- q + dt/2 * q * w\n     *\n     * @class SymplecticEuler\n     * @constructor\n     * @param {Object} options Options to set\n     */\n    var SymplecticEuler = {};\n\n    /*\n     * Updates the velocity of a physics body from its accumulated force.\n     *      v <- v + dt * f / m\n     *\n     * @method integrateVelocity\n     * @param {Body} physics body\n     * @param {Number} dt delta time\n     */\n    SymplecticEuler.integrateVelocity = function integrateVelocity(body, dt) {\n        var v = body.velocity;\n        var w = body.inverseMass;\n        var f = body.force;\n\n        if (f.isZero()) return;\n\n        v.add(f.mult(dt * w)).put(v);\n        f.clear();\n    };\n\n    /*\n     * Updates the position of a physics body from its velocity.\n     *      p <- p + dt * v\n     *\n     * @method integratePosition\n     * @param {Body} physics body\n     * @param {Number} dt delta time\n     */\n    SymplecticEuler.integratePosition = function integratePosition(body, dt) {\n        var p = body.position;\n        var v = body.velocity;\n\n        p.add(v.mult(dt)).put(p);\n    };\n\n    /*\n     * Updates the angular momentum of a physics body from its accumuled torque.\n     *      L <- L + dt * t\n     *\n     * @method integrateAngularMomentum\n     * @param {Body} physics body (except a particle)\n     * @param {Number} dt delta time\n     */\n    SymplecticEuler.integrateAngularMomentum = function integrateAngularMomentum(body, dt) {\n        var L = body.angularMomentum;\n        var t = body.torque;\n\n        if (t.isZero()) return;\n\n        L.add(t.mult(dt)).put(L);\n        t.clear();\n    };\n\n    /*\n     * Updates the orientation of a physics body from its angular velocity.\n     *      q <- q + dt/2 * q * w\n     *\n     * @method integrateOrientation\n     * @param {Body} physics body (except a particle)\n     * @param {Number} dt delta time\n     */\n    SymplecticEuler.integrateOrientation = function integrateOrientation(body, dt) {\n        var q = body.orientation;\n        var w = body.angularVelocity;\n\n        if (w.isZero()) return;\n        q.add(q.multiply(w).scalarMultiply(0.5 * dt)).put(q);\n//        q.normalize.put(q);\n    };\n\n    module.exports = SymplecticEuler;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/integrators/SymplecticEuler.js\n ** module id = 47\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\n/*global console */\n\ndefine(function(require, exports, module) {\n    var Force = require('./Force');\n    var Vector = require('../../math/Vector');\n\n    /**\n     *  A force that moves a physics body to a location with a spring motion.\n     *    The body can be moved to another physics body, or an anchor point.\n     *\n     *  @class Spring\n     *  @constructor\n     *  @extends Force\n     *  @param {Object} options options to set on drag\n     */\n    function Spring(options) {\n        Force.call(this);\n\n        this.options = Object.create(this.constructor.DEFAULT_OPTIONS);\n        if (options) this.setOptions(options);\n\n        //registers\n        this.disp = new Vector(0,0,0);\n\n        _init.call(this);\n    }\n\n    Spring.prototype = Object.create(Force.prototype);\n    Spring.prototype.constructor = Spring;\n\n    /** @const */\n    var pi = Math.PI;\n    var MIN_PERIOD = 150;\n\n    /**\n     * @property Spring.FORCE_FUNCTIONS\n     * @type Object\n     * @protected\n     * @static\n     */\n    Spring.FORCE_FUNCTIONS = {\n\n        /**\n         * A FENE (Finitely Extensible Nonlinear Elastic) spring force\n         *      see: http://en.wikipedia.org/wiki/FENE\n         * @attribute FENE\n         * @type Function\n         * @param {Number} dist current distance target is from source body\n         * @param {Number} rMax maximum range of influence\n         * @return {Number} unscaled force\n         */\n        FENE : function(dist, rMax) {\n            var rMaxSmall = rMax * .99;\n            var r = Math.max(Math.min(dist, rMaxSmall), -rMaxSmall);\n            return r / (1 - r * r/(rMax * rMax));\n        },\n\n        /**\n         * A Hookean spring force, linear in the displacement\n         *      see: http://en.wikipedia.org/wiki/Hooke's_law\n         * @attribute FENE\n         * @type Function\n         * @param {Number} dist current distance target is from source body\n         * @return {Number} unscaled force\n         */\n        HOOK : function(dist) {\n            return dist;\n        }\n    };\n\n    /**\n     * @property Spring.DEFAULT_OPTIONS\n     * @type Object\n     * @protected\n     * @static\n     */\n    Spring.DEFAULT_OPTIONS = {\n\n        /**\n         * The amount of time in milliseconds taken for one complete oscillation\n         * when there is no damping\n         *    Range : [150, Infinity]\n         * @attribute period\n         * @type Number\n         * @default 300\n         */\n        period : 300,\n\n        /**\n         * The damping of the spring.\n         *    Range : [0, 1]\n         *    0 = no damping, and the spring will oscillate forever\n         *    1 = critically damped (the spring will never oscillate)\n         * @attribute dampingRatio\n         * @type Number\n         * @default 0.1\n         */\n        dampingRatio : 0.1,\n\n        /**\n         * The rest length of the spring\n         *    Range : [0, Infinity]\n         * @attribute length\n         * @type Number\n         * @default 0\n         */\n        length : 0,\n\n        /**\n         * The maximum length of the spring (for a FENE spring)\n         *    Range : [0, Infinity]\n         * @attribute length\n         * @type Number\n         * @default Infinity\n         */\n        maxLength : Infinity,\n\n        /**\n         * The location of the spring's anchor, if not another physics body\n         *\n         * @attribute anchor\n         * @type Array\n         * @optional\n         */\n        anchor : undefined,\n\n        /**\n         * The type of spring force\n         * @attribute forceFunction\n         * @type Function\n         */\n        forceFunction : Spring.FORCE_FUNCTIONS.HOOK\n    };\n\n    function _calcStiffness() {\n        var options = this.options;\n        options.stiffness = Math.pow(2 * pi / options.period, 2);\n    }\n\n    function _calcDamping() {\n        var options = this.options;\n        options.damping = 4 * pi * options.dampingRatio / options.period;\n    }\n\n    function _init() {\n        _calcStiffness.call(this);\n        _calcDamping.call(this);\n    }\n\n    /**\n     * Basic options setter\n     *\n     * @method setOptions\n     * @param options {Object}\n     */\n    Spring.prototype.setOptions = function setOptions(options) {\n        // TODO fix no-console error\n        /* eslint no-console: 0 */\n\n        if (options.anchor !== undefined) {\n            if (options.anchor.position instanceof Vector) this.options.anchor = options.anchor.position;\n            if (options.anchor instanceof Vector) this.options.anchor = options.anchor;\n            if (options.anchor instanceof Array)  this.options.anchor = new Vector(options.anchor);\n        }\n\n        if (options.period !== undefined){\n            if (options.period < MIN_PERIOD) {\n                options.period = MIN_PERIOD;\n                console.warn('The period of a SpringTransition is capped at ' + MIN_PERIOD + ' ms. Use a SnapTransition for faster transitions');\n            }\n            this.options.period = options.period;\n        }\n\n        if (options.dampingRatio !== undefined) this.options.dampingRatio = options.dampingRatio;\n        if (options.length !== undefined) this.options.length = options.length;\n        if (options.forceFunction !== undefined) this.options.forceFunction = options.forceFunction;\n        if (options.maxLength !== undefined) this.options.maxLength = options.maxLength;\n\n        _init.call(this);\n        Force.prototype.setOptions.call(this, options);\n    };\n\n    /**\n     * Adds a spring force to a physics body's force accumulator.\n     *\n     * @method applyForce\n     * @param targets {Array.Body} Array of bodies to apply force to.\n     */\n    Spring.prototype.applyForce = function applyForce(targets, source) {\n        var force = this.force;\n        var disp = this.disp;\n        var options = this.options;\n\n        var stiffness = options.stiffness;\n        var damping = options.damping;\n        var restLength = options.length;\n        var maxLength = options.maxLength;\n        var anchor = options.anchor || source.position;\n        var forceFunction = options.forceFunction;\n\n        var i;\n        var target;\n        var p2;\n        var v2;\n        var dist;\n        var m;\n\n        for (i = 0; i < targets.length; i++) {\n            target = targets[i];\n            p2 = target.position;\n            v2 = target.velocity;\n\n            anchor.sub(p2).put(disp);\n            dist = disp.norm() - restLength;\n\n            if (dist === 0) return;\n\n            //if dampingRatio specified, then override strength and damping\n            m      = target.mass;\n            stiffness *= m;\n            damping   *= m;\n\n            disp.normalize(stiffness * forceFunction(dist, maxLength))\n                .put(force);\n\n            if (damping)\n                if (source) force.add(v2.sub(source.velocity).mult(-damping)).put(force);\n                else force.add(v2.mult(-damping)).put(force);\n\n            target.applyForce(force);\n            if (source) source.applyForce(force.mult(-1));\n        }\n    };\n\n    /**\n     * Calculates the potential energy of the spring.\n     *\n     * @method getEnergy\n     * @param [targets] target  The physics body attached to the spring\n     * @return {source}         The potential energy of the spring\n     */\n    Spring.prototype.getEnergy = function getEnergy(targets, source) {\n        var options     = this.options;\n        var restLength  = options.length;\n        var anchor      = (source) ? source.position : options.anchor;\n        var strength    = options.stiffness;\n\n        var energy = 0.0;\n        for (var i = 0; i < targets.length; i++){\n            var target = targets[i];\n            var dist = anchor.sub(target.position).norm() - restLength;\n            energy += 0.5 * strength * dist * dist;\n        }\n        return energy;\n    };\n\n    module.exports = Spring;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/forces/Spring.js\n ** module id = 48\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Vector = require('../../math/Vector');\n    var EventHandler = require('../../core/EventHandler');\n\n    /**\n     * Force base class.\n     *\n     * @class Force\n     * @uses EventHandler\n     * @constructor\n     */\n    function Force(force) {\n        this.force = new Vector(force);\n        this._eventOutput = new EventHandler();\n        EventHandler.setOutputHandler(this, this._eventOutput);\n    }\n\n    /**\n     * Basic setter for options\n     *\n     * @method setOptions\n     * @param options {Objects}\n     */\n    Force.prototype.setOptions = function setOptions(options) {\n        this._eventOutput.emit('change', options);\n    };\n\n    /**\n     * Adds a force to a physics body's force accumulator.\n     *\n     * @method applyForce\n     * @param targets {Array.Body} Array of bodies to apply a force to.\n     */\n    Force.prototype.applyForce = function applyForce(targets) {\n        var length = targets.length;\n        while (length--) {\n            targets[length].applyForce(this.force);\n        }\n    };\n\n    /**\n     * Getter for a force's potential energy.\n     *\n     * @method getEnergy\n     * @return energy {Number}\n     */\n    Force.prototype.getEnergy = function getEnergy() {\n        return 0.0;\n    };\n\n    module.exports = Force;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/forces/Force.js\n ** module id = 49\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\ndefine(function(require, exports, module) {\n    var EventHandler = require('../core/EventHandler');\n\n    /**\n     * The Physics Engine is responsible for mediating bodies with their\n     *   interaction with forces and constraints (agents). Specifically, it\n     *   is responsible for:\n     *\n     *   - adding and removing bodies\n     *   - updating a body's state over time\n     *   - attaching and detaching agents\n     *   - sleeping upon equillibrium and waking upon excitation\n     *\n     * @class PhysicsEngine\n     * @constructor\n     * @param options {Object} options\n     */\n    function PhysicsEngine(options) {\n        this.options = Object.create(PhysicsEngine.DEFAULT_OPTIONS);\n        if (options) this.setOptions(options);\n\n        this._particles      = [];   //list of managed particles\n        this._bodies         = [];   //list of managed bodies\n        this._agentData      = {};   //hash of managed agent data\n        this._forces         = [];   //list of Ids of agents that are forces\n        this._constraints    = [];   //list of Ids of agents that are constraints\n\n        this._buffer         = 0.0;\n        this._prevTime       = now();\n        this._isSleeping     = false;\n        this._eventHandler   = null;\n        this._currAgentId    = 0;\n        this._hasBodies      = false;\n        this._eventHandler   = null;\n    }\n\n    /** const */\n    var TIMESTEP = 17;\n    var MIN_TIME_STEP = 1000 / 120;\n    var MAX_TIME_STEP = 17;\n\n    var now = Date.now;\n\n    // Catalogue of outputted events\n    var _events = {\n        start : 'start',\n        update : 'update',\n        end : 'end'\n    };\n\n    /**\n     * @property PhysicsEngine.DEFAULT_OPTIONS\n     * @type Object\n     * @protected\n     * @static\n     */\n    PhysicsEngine.DEFAULT_OPTIONS = {\n\n        /**\n         * The number of iterations the engine takes to resolve constraints\n         * @attribute constraintSteps\n         * @type Number\n         */\n        constraintSteps : 1,\n\n        /**\n         * The energy threshold required for the Physics Engine to update\n         * @attribute sleepTolerance\n         * @type Number\n         */\n        sleepTolerance : 1e-7,\n\n        /**\n         * The maximum velocity magnitude of a physics body\n         *      Range : [0, Infinity]\n         * @attribute velocityCap\n         * @type Number\n         */\n        velocityCap : undefined,\n\n        /**\n         * The maximum angular velocity magnitude of a physics body\n         *      Range : [0, Infinity]\n         * @attribute angularVelocityCap\n         * @type Number\n         */\n        angularVelocityCap : undefined\n    };\n\n    /**\n     * Options setter\n     *\n     * @method setOptions\n     * @param opts {Object}\n     */\n    PhysicsEngine.prototype.setOptions = function setOptions(opts) {\n        for (var key in opts) if (this.options[key]) this.options[key] = opts[key];\n    };\n\n    /**\n     * Method to add a physics body to the engine. Necessary to update the\n     *   body over time.\n     *\n     * @method addBody\n     * @param body {Body}\n     * @return body {Body}\n     */\n    PhysicsEngine.prototype.addBody = function addBody(body) {\n        body._engine = this;\n        if (body.isBody) {\n            this._bodies.push(body);\n            this._hasBodies = true;\n        }\n        else this._particles.push(body);\n        body.on('start', this.wake.bind(this));\n        return body;\n    };\n\n    /**\n     * Remove a body from the engine. Detaches body from all forces and\n     *   constraints.\n     *\n     * TODO: Fix for in loop\n     *\n     * @method removeBody\n     * @param body {Body}\n     */\n    PhysicsEngine.prototype.removeBody = function removeBody(body) {\n        var array = (body.isBody) ? this._bodies : this._particles;\n        var index = array.indexOf(body);\n        if (index > -1) {\n            for (var agentKey in this._agentData) {\n                if (this._agentData.hasOwnProperty(agentKey)) {\n                    this.detachFrom(this._agentData[agentKey].id, body);\n                }\n            }\n            array.splice(index,1);\n        }\n        if (this.getBodies().length === 0) this._hasBodies = false;\n    };\n\n    function _mapAgentArray(agent) {\n        if (agent.applyForce)      return this._forces;\n        if (agent.applyConstraint) return this._constraints;\n    }\n\n    function _attachOne(agent, targets, source) {\n        if (targets === undefined) targets = this.getParticlesAndBodies();\n        if (!(targets instanceof Array)) targets = [targets];\n\n        agent.on('change', this.wake.bind(this));\n\n        this._agentData[this._currAgentId] = {\n            agent   : agent,\n            id      : this._currAgentId,\n            targets : targets,\n            source  : source\n        };\n\n        _mapAgentArray.call(this, agent).push(this._currAgentId);\n        return this._currAgentId++;\n    }\n\n    /**\n     * Attaches a force or constraint to a Body. Returns an AgentId of the\n     *   attached agent which can be used to detach the agent.\n     *\n     * @method attach\n     * @param agents {Agent|Array.Agent} A force, constraint, or array of them.\n     * @param [targets=All] {Body|Array.Body} The Body or Bodies affected by the agent\n     * @param [source] {Body} The source of the agent\n     * @return AgentId {Number}\n     */\n    PhysicsEngine.prototype.attach = function attach(agents, targets, source) {\n        this.wake();\n\n        if (agents instanceof Array) {\n            var agentIDs = [];\n            for (var i = 0; i < agents.length; i++)\n                agentIDs[i] = _attachOne.call(this, agents[i], targets, source);\n            return agentIDs;\n        }\n        else return _attachOne.call(this, agents, targets, source);\n    };\n\n    /**\n     * Append a body to the targets of a previously defined physics agent.\n     *\n     * @method attachTo\n     * @param agentID {AgentId} The agentId of a previously defined agent\n     * @param target {Body} The Body affected by the agent\n     */\n    PhysicsEngine.prototype.attachTo = function attachTo(agentID, target) {\n        _getAgentData.call(this, agentID).targets.push(target);\n    };\n\n    /**\n     * Undoes PhysicsEngine.attach. Removes an agent and its associated\n     *   effect on its affected Bodies.\n     *\n     * @method detach\n     * @param id {AgentId} The agentId of a previously defined agent\n     */\n    PhysicsEngine.prototype.detach = function detach(id) {\n        // detach from forces/constraints array\n        var agent = this.getAgent(id);\n        var agentArray = _mapAgentArray.call(this, agent);\n        var index = agentArray.indexOf(id);\n        agentArray.splice(index,1);\n\n        // detach agents array\n        delete this._agentData[id];\n    };\n\n    /**\n     * Remove a single Body from a previously defined agent.\n     *\n     * @method detach\n     * @param id {AgentId} The agentId of a previously defined agent\n     * @param target {Body} The body to remove from the agent\n     */\n    PhysicsEngine.prototype.detachFrom = function detachFrom(id, target) {\n        var boundAgent = _getAgentData.call(this, id);\n        if (boundAgent.source === target) this.detach(id);\n        else {\n            var targets = boundAgent.targets;\n            var index = targets.indexOf(target);\n            if (index > -1) targets.splice(index,1);\n        }\n    };\n\n    /**\n     * A convenience method to give the Physics Engine a clean slate of\n     * agents. Preserves all added Body objects.\n     *\n     * @method detachAll\n     */\n    PhysicsEngine.prototype.detachAll = function detachAll() {\n        this._agentData     = {};\n        this._forces        = [];\n        this._constraints   = [];\n        this._currAgentId   = 0;\n    };\n\n    function _getAgentData(id) {\n        return this._agentData[id];\n    }\n\n    /**\n     * Returns the corresponding agent given its agentId.\n     *\n     * @method getAgent\n     * @param id {AgentId}\n     */\n    PhysicsEngine.prototype.getAgent = function getAgent(id) {\n        return _getAgentData.call(this, id).agent;\n    };\n\n    /**\n     * Returns all particles that are currently managed by the Physics Engine.\n     *\n     * @method getParticles\n     * @return particles {Array.Particles}\n     */\n    PhysicsEngine.prototype.getParticles = function getParticles() {\n        return this._particles;\n    };\n\n    /**\n     * Returns all bodies, except particles, that are currently managed by the Physics Engine.\n     *\n     * @method getBodies\n     * @return bodies {Array.Bodies}\n     */\n    PhysicsEngine.prototype.getBodies = function getBodies() {\n        return this._bodies;\n    };\n\n    /**\n     * Returns all bodies that are currently managed by the Physics Engine.\n     *\n     * @method getBodies\n     * @return bodies {Array.Bodies}\n     */\n    PhysicsEngine.prototype.getParticlesAndBodies = function getParticlesAndBodies() {\n        return this.getParticles().concat(this.getBodies());\n    };\n\n    /**\n     * Iterates over every Particle and applies a function whose first\n     *   argument is the Particle\n     *\n     * @method forEachParticle\n     * @param fn {Function} Function to iterate over\n     * @param [dt] {Number} Delta time\n     */\n    PhysicsEngine.prototype.forEachParticle = function forEachParticle(fn, dt) {\n        var particles = this.getParticles();\n        for (var index = 0, len = particles.length; index < len; index++)\n            fn.call(this, particles[index], dt);\n    };\n\n    /**\n     * Iterates over every Body that isn't a Particle and applies\n     *   a function whose first argument is the Body\n     *\n     * @method forEachBody\n     * @param fn {Function} Function to iterate over\n     * @param [dt] {Number} Delta time\n     */\n    PhysicsEngine.prototype.forEachBody = function forEachBody(fn, dt) {\n        if (!this._hasBodies) return;\n        var bodies = this.getBodies();\n        for (var index = 0, len = bodies.length; index < len; index++)\n            fn.call(this, bodies[index], dt);\n    };\n\n    /**\n     * Iterates over every Body and applies a function whose first\n     *   argument is the Body\n     *\n     * @method forEach\n     * @param fn {Function} Function to iterate over\n     * @param [dt] {Number} Delta time\n     */\n    PhysicsEngine.prototype.forEach = function forEach(fn, dt) {\n        this.forEachParticle(fn, dt);\n        this.forEachBody(fn, dt);\n    };\n\n    function _updateForce(index) {\n        var boundAgent = _getAgentData.call(this, this._forces[index]);\n        boundAgent.agent.applyForce(boundAgent.targets, boundAgent.source);\n    }\n\n    function _updateForces() {\n        for (var index = this._forces.length - 1; index > -1; index--)\n            _updateForce.call(this, index);\n    }\n\n    function _updateConstraint(index, dt) {\n        var boundAgent = this._agentData[this._constraints[index]];\n        return boundAgent.agent.applyConstraint(boundAgent.targets, boundAgent.source, dt);\n    }\n\n    function _updateConstraints(dt) {\n        var iteration = 0;\n        while (iteration < this.options.constraintSteps) {\n            for (var index = this._constraints.length - 1; index > -1; index--)\n                _updateConstraint.call(this, index, dt);\n            iteration++;\n        }\n    }\n\n    function _updateVelocities(body, dt) {\n        body.integrateVelocity(dt);\n        if (this.options.velocityCap)\n            body.velocity.cap(this.options.velocityCap).put(body.velocity);\n    }\n\n    function _updateAngularVelocities(body, dt) {\n        body.integrateAngularMomentum(dt);\n        body.updateAngularVelocity();\n        if (this.options.angularVelocityCap)\n            body.angularVelocity.cap(this.options.angularVelocityCap).put(body.angularVelocity);\n    }\n\n    function _updateOrientations(body, dt) {\n        body.integrateOrientation(dt);\n    }\n\n    function _updatePositions(body, dt) {\n        body.integratePosition(dt);\n        body.emit(_events.update, body);\n    }\n\n    function _integrate(dt) {\n        _updateForces.call(this, dt);\n        this.forEach(_updateVelocities, dt);\n        this.forEachBody(_updateAngularVelocities, dt);\n        _updateConstraints.call(this, dt);\n        this.forEachBody(_updateOrientations, dt);\n        this.forEach(_updatePositions, dt);\n    }\n\n    function _getParticlesEnergy() {\n        var energy = 0.0;\n        var particleEnergy = 0.0;\n        this.forEach(function(particle) {\n            particleEnergy = particle.getEnergy();\n            energy += particleEnergy;\n        });\n        return energy;\n    }\n\n    function _getAgentsEnergy() {\n        var energy = 0;\n        for (var id in this._agentData)\n            energy += this.getAgentEnergy(id);\n        return energy;\n    }\n\n    /**\n     * Calculates the potential energy of an agent, like a spring, by its Id\n     *\n     * @method getAgentEnergy\n     * @param agentId {Number} The attached agent Id\n     * @return energy {Number}\n     */\n    PhysicsEngine.prototype.getAgentEnergy = function(agentId) {\n        var agentData = _getAgentData.call(this, agentId);\n        return agentData.agent.getEnergy(agentData.targets, agentData.source);\n    };\n\n    /**\n     * Calculates the kinetic energy of all Body objects and potential energy\n     *   of all attached agents.\n     *\n     * TODO: implement.\n     * @method getEnergy\n     * @return energy {Number}\n     */\n    PhysicsEngine.prototype.getEnergy = function getEnergy() {\n        return _getParticlesEnergy.call(this) + _getAgentsEnergy.call(this);\n    };\n\n    /**\n     * Updates all Body objects managed by the physics engine over the\n     *   time duration since the last time step was called.\n     *\n     * @method step\n     */\n    PhysicsEngine.prototype.step = function step() {\n        if (this.isSleeping()) return;\n\n        //set current frame's time\n        var currTime = now();\n\n        //milliseconds elapsed since last frame\n        var dtFrame = currTime - this._prevTime;\n\n        this._prevTime = currTime;\n\n        if (dtFrame < MIN_TIME_STEP) return;\n        if (dtFrame > MAX_TIME_STEP) dtFrame = MAX_TIME_STEP;\n\n        //robust integration\n//        this._buffer += dtFrame;\n//        while (this._buffer > this._timestep){\n//            _integrate.call(this, this._timestep);\n//            this._buffer -= this._timestep;\n//        };\n//        _integrate.call(this, this._buffer);\n//        this._buffer = 0.0;\n\n        _integrate.call(this, TIMESTEP);\n\n        this.emit(_events.update, this);\n\n        if (this.getEnergy() < this.options.sleepTolerance) this.sleep();\n    };\n\n    /**\n     * Tells whether the Physics Engine is sleeping or awake.\n     *\n     * @method isSleeping\n     * @return {Boolean}\n     */\n    PhysicsEngine.prototype.isSleeping = function isSleeping() {\n        return this._isSleeping;\n    };\n\n    /**\n     * Tells whether the Physics Engine is sleeping or awake.\n     *\n     * @method isActive\n     * @return {Boolean}\n     */\n    PhysicsEngine.prototype.isActive = function isSleeping() {\n        return !this._isSleeping;\n    };\n\n    /**\n     * Stops the Physics Engine update loop. Emits an 'end' event.\n     *\n     * @method sleep\n     */\n    PhysicsEngine.prototype.sleep = function sleep() {\n        if (this._isSleeping) return;\n        this.forEach(function(body) {\n            body.sleep();\n        });\n        this.emit(_events.end, this);\n        this._isSleeping = true;\n    };\n\n    /**\n     * Restarts the Physics Engine update loop. Emits an 'start' event.\n     *\n     * @method wake\n     */\n    PhysicsEngine.prototype.wake = function wake() {\n        if (!this._isSleeping) return;\n        this._prevTime = now();\n        this.emit(_events.start, this);\n        this._isSleeping = false;\n    };\n\n    PhysicsEngine.prototype.emit = function emit(type, data) {\n        if (this._eventHandler === null) return;\n        this._eventHandler.emit(type, data);\n    };\n\n    PhysicsEngine.prototype.on = function on(event, fn) {\n        if (this._eventHandler === null) this._eventHandler = new EventHandler();\n        this._eventHandler.on(event, fn);\n    };\n\n    module.exports = PhysicsEngine;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/PhysicsEngine.js\n ** module id = 50\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2014 - 2015\n */\n\n/**\n * LayoutDockHelper helps positioning nodes using docking principles.\n *\n * **Example:**\n *\n * ```javascript\n * var LayoutDockHelper = require('famous-flex/helpers/LayoutDockHelper');\n *\n * function HeaderFooterLayout(context, options) {\n *   var dock = new LayoutDockHelper(context);\n *   dock.top('header', options.headerSize);\n *   dock.bottom('footer', options.footerSize);\n *   dock.fill('content');\n * };\n * ```\n *\n * You can also use layout-literals to create layouts using docking semantics:\n *\n * ```javascript\n * var layoutController = new LayoutController({\n *   layout: {dock: [\n *     ['top', 'header', 40],\n *     ['bottom', 'footer', 40, 1], // z-index +1\n *     ['fill', 'content']\n *   ]},\n *   dataSource: {\n *     header: new Surface({content: 'header'}),\n *     footer: new Surface({content: 'footer'}),\n *     content: new Surface({content: 'content'}),\n *   }\n * });\n * ```\n *\n * @module\n */\ndefine(function(require, exports, module) {\n\n    // import dependencies\n    var LayoutUtility = require('../LayoutUtility');\n\n    /**\n     * @class\n     * @param {LayoutContext} context layout-context\n     * @param {Object} [options] additional options\n     * @param {Object} [options.margins] margins to start out with (default: 0px)\n     * @param {Number} [options.translateZ] z-index to use when translating objects (default: 0)\n     * @alias module:LayoutDockHelper\n     */\n    function LayoutDockHelper(context, options) {\n        var size = context.size;\n        this._size = size;\n        this._context = context;\n        this._options = options;\n        this._data = {\n            z: (options && options.translateZ) ? options.translateZ : 0\n        };\n        if (options && options.margins) {\n            var margins = LayoutUtility.normalizeMargins(options.margins);\n            this._data.left = margins[3];\n            this._data.top = margins[0];\n            this._data.right = size[0] - margins[1];\n            this._data.bottom = size[1] - margins[2];\n        }\n        else {\n            this._data.left = 0;\n            this._data.top = 0;\n            this._data.right = size[0];\n            this._data.bottom = size[1];\n        }\n    }\n\n    /**\n     * Parses the layout-rules based on a JSON data object.\n     * The object should be an array with the following syntax:\n     * `[[rule, node, value, z], [rule, node, value, z], ...]`\n     *\n     * **Example:**\n     *\n     * ```JSON\n     * [\n     *   ['top', 'header', 50],\n     *   ['bottom', 'footer', 50, 10], // z-index: 10\n     *   ['margins', [10, 5]], // marginate remaining space: 10px top/bottom, 5px left/right\n     *   ['fill', 'content']\n     * ]\n     * ```\n     *\n     * @param {Object} data JSON object\n     */\n    LayoutDockHelper.prototype.parse = function(data) {\n        for (var i = 0; i < data.length; i++) {\n            var rule = data[i];\n            var value = (rule.length >= 3) ? rule[2] : undefined;\n            if (rule[0] === 'top') {\n                this.top(rule[1], value, (rule.length >=4) ? rule[3] : undefined);\n            }\n            else if (rule[0] === 'left') {\n                this.left(rule[1], value, (rule.length >=4) ? rule[3] : undefined);\n            }\n            else if (rule[0] === 'right') {\n                this.right(rule[1], value, (rule.length >=4) ? rule[3] : undefined);\n            }\n            else if (rule[0] === 'bottom') {\n                this.bottom(rule[1], value, (rule.length >=4) ? rule[3] : undefined);\n            }\n            else if (rule[0] === 'fill') {\n                this.fill(rule[1], (rule.length >=3) ? rule[2] : undefined);\n            }\n            else if (rule[0] === 'margins') {\n                this.margins(rule[1]);\n            }\n        }\n    };\n\n    /**\n     * Dock the node to the top.\n     *\n     * @param {LayoutNode|String} [node] layout-node to dock, when omitted the `height` argument argument is used for padding\n     * @param {Number} [height] height of the layout-node, when omitted the height of the node is used\n     * @param {Number} [z] z-index to use for the node\n     * @return {LayoutDockHelper} this\n     */\n    LayoutDockHelper.prototype.top = function(node, height, z) {\n        if (height instanceof Array) {\n            height = height[1];\n        }\n        if (height === undefined) {\n            var size = this._context.resolveSize(node, [this._data.right - this._data.left, this._data.bottom - this._data.top]);\n            height = size[1];\n        }\n        this._context.set(node, {\n            size: [this._data.right - this._data.left, height],\n            origin: [0, 0],\n            align: [0, 0],\n            translate: [this._data.left, this._data.top, (z === undefined) ? this._data.z : z]\n        });\n        this._data.top += height;\n        return this;\n    };\n\n    /**\n     * Dock the node to the left\n     *\n     * @param {LayoutNode|String} [node] layout-node to dock, when omitted the `width` argument argument is used for padding\n     * @param {Number} [width] width of the layout-node, when omitted the width of the node is used\n     * @param {Number} [z] z-index to use for the node\n     * @return {LayoutDockHelper} this\n     */\n    LayoutDockHelper.prototype.left = function(node, width, z) {\n        if (width instanceof Array) {\n            width = width[0];\n        }\n        if (width === undefined) {\n            var size = this._context.resolveSize(node, [this._data.right - this._data.left, this._data.bottom - this._data.top]);\n            width = size[0];\n        }\n        this._context.set(node, {\n            size: [width, this._data.bottom - this._data.top],\n            origin: [0, 0],\n            align: [0, 0],\n            translate: [this._data.left, this._data.top, (z === undefined) ? this._data.z : z]\n        });\n        this._data.left += width;\n        return this;\n    };\n\n    /**\n     * Dock the node to the bottom\n     *\n     * @param {LayoutNode|String} [node] layout-node to dock, when omitted the `height` argument argument is used for padding\n     * @param {Number} [height] height of the layout-node, when omitted the height of the node is used\n     * @param {Number} [z] z-index to use for the node\n     * @return {LayoutDockHelper} this\n     */\n    LayoutDockHelper.prototype.bottom = function(node, height, z) {\n        if (height instanceof Array) {\n            height = height[1];\n        }\n        if (height === undefined) {\n            var size = this._context.resolveSize(node, [this._data.right - this._data.left, this._data.bottom - this._data.top]);\n            height = size[1];\n        }\n        this._context.set(node, {\n            size: [this._data.right - this._data.left, height],\n            origin: [0, 1],\n            align: [0, 1],\n            translate: [this._data.left, -(this._size[1] - this._data.bottom), (z === undefined) ? this._data.z : z]\n        });\n        this._data.bottom -= height;\n        return this;\n    };\n\n    /**\n     * Dock the node to the right.\n     *\n     * @param {LayoutNode|String} [node] layout-node to dock, when omitted the `width` argument argument is used for padding\n     * @param {Number} [width] width of the layout-node, when omitted the width of the node is used\n     * @param {Number} [z] z-index to use for the node\n     * @return {LayoutDockHelper} this\n     */\n    LayoutDockHelper.prototype.right = function(node, width, z) {\n        if (width instanceof Array) {\n            width = width[0];\n        }\n        if (node) {\n            if (width === undefined) {\n                var size = this._context.resolveSize(node, [this._data.right - this._data.left, this._data.bottom - this._data.top]);\n                width = size[0];\n            }\n            this._context.set(node, {\n                size: [width, this._data.bottom - this._data.top],\n                origin: [1, 0],\n                align: [1, 0],\n                translate: [-(this._size[0] - this._data.right), this._data.top, (z === undefined) ? this._data.z : z]\n            });\n        }\n        if (width) {\n            this._data.right -= width;\n        }\n        return this;\n    };\n\n    /**\n     * Fills the node to the remaining content.\n     *\n     * @param {LayoutNode|String} node layout-node to dock\n     * @param {Number} [z] z-index to use for the node\n     * @return {LayoutDockHelper} this\n     */\n    LayoutDockHelper.prototype.fill = function(node, z) {\n        this._context.set(node, {\n            size: [this._data.right - this._data.left, this._data.bottom - this._data.top],\n            translate: [this._data.left, this._data.top, (z === undefined) ? this._data.z : z]\n        });\n        return this;\n    };\n\n    /**\n     * Applies indent margins to the remaining content.\n     *\n     * @param {Number|Array} margins margins shorthand (e.g. '5', [10, 10], [5, 10, 5, 10])\n     * @return {LayoutDockHelper} this\n     */\n    LayoutDockHelper.prototype.margins = function(margins) {\n        margins = LayoutUtility.normalizeMargins(margins);\n        this._data.left += margins[3];\n        this._data.top += margins[0];\n        this._data.right -= margins[1];\n        this._data.bottom -= margins[2];\n        return this;\n    };\n\n    /**\n     * Gets the current left/right/top/bottom/z bounds used by the dock-helper.\n     *\n     * @return {Object} `{left: x, right: x, top: x, bottom: x, z: x}`\n     */\n    LayoutDockHelper.prototype.get = function() {\n        return this._data;\n    };\n\n    // Register the helper\n    LayoutUtility.registerHelper('dock', LayoutDockHelper);\n\n    module.exports = LayoutDockHelper;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/helpers/LayoutDockHelper.js\n ** module id = 51\n ** module chunks = 0\n **/","\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Surface = require('../core/Surface');\n    var Context = require('../core/Context');\n\n    /**\n     * ContainerSurface is an object designed to contain surfaces and\n     *   set properties to be applied to all of them at once.\n     *   This extends the Surface class.\n     *   A container surface will enforce these properties on the\n     *   surfaces it contains:\n     *\n     *   size (clips contained surfaces to its own width and height);\n     *\n     *   origin;\n     *\n     *   its own opacity and transform, which will be automatically\n     *   applied to  all Surfaces contained directly and indirectly.\n     *\n     * @class ContainerSurface\n     * @extends Surface\n     * @constructor\n     * @param {Array.Number} [options.size] [width, height] in pixels\n     * @param {Array.string} [options.classes] CSS classes to set on all inner content\n     * @param {Array} [options.properties] string dictionary of HTML attributes to set on target div\n     * @param {string} [options.content] inner (HTML) content of surface (should not be used)\n     */\n    function ContainerSurface(options) {\n        Surface.call(this, options);\n        this._container = document.createElement('div');\n        this._container.classList.add('famous-group');\n        this._container.classList.add('famous-container-group');\n        this._shouldRecalculateSize = false;\n        this.context = new Context(this._container);\n        this.setContent(this._container);\n    }\n\n    ContainerSurface.prototype = Object.create(Surface.prototype);\n    ContainerSurface.prototype.constructor = ContainerSurface;\n    ContainerSurface.prototype.elementType = 'div';\n    ContainerSurface.prototype.elementClass = 'famous-surface';\n\n    /**\n     * Add renderables to this object's render tree\n     *\n     * @method add\n     *\n     * @param {Object} obj renderable object\n     * @return {RenderNode} RenderNode wrapping this object, if not already a RenderNode\n     */\n    ContainerSurface.prototype.add = function add() {\n        return this.context.add.apply(this.context, arguments);\n    };\n\n    /**\n     * Return spec for this surface.  Note: Can result in a size recalculation.\n     *\n     * @private\n     * @method render\n     *\n     * @return {Object} render spec for this surface (spec id)\n     */\n    ContainerSurface.prototype.render = function render() {\n        if (this._sizeDirty) this._shouldRecalculateSize = true;\n        return Surface.prototype.render.apply(this, arguments);\n    };\n\n    /**\n     * Place the document element this component manages into the document.\n     *\n     * @private\n     * @method deploy\n     * @param {Node} target document parent of this container\n     */\n    ContainerSurface.prototype.deploy = function deploy() {\n        this._shouldRecalculateSize = true;\n        return Surface.prototype.deploy.apply(this, arguments);\n    };\n\n    /**\n     * Apply changes from this component to the corresponding document element.\n     * This includes changes to classes, styles, size, content, opacity, origin,\n     * and matrix transforms.\n     *\n     * @private\n     * @method commit\n     * @param {Context} context commit context\n     * @param {Transform} transform unused TODO\n     * @param {Number} opacity  unused TODO\n     * @param {Array.Number} origin unused TODO\n     * @param {Array.Number} size unused TODO\n     * @return {undefined} TODO returns an undefined value\n     */\n    ContainerSurface.prototype.commit = function commit(context, transform, opacity, origin, size) {\n        var previousSize = this._size ? [this._size[0], this._size[1]] : null;\n        var result = Surface.prototype.commit.apply(this, arguments);\n        if (this._shouldRecalculateSize || (previousSize && (this._size[0] !== previousSize[0] || this._size[1] !== previousSize[1]))) {\n            this.context.setSize();\n            this._shouldRecalculateSize = false;\n        }\n        this.context.update();\n        return result;\n    };\n\n    module.exports = ContainerSurface;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/surfaces/ContainerSurface.js\n ** module id = 52\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Context = require('./Context');\n    var Transform = require('./Transform');\n    var Surface = require('./Surface');\n\n    /**\n     * A Context designed to contain surfaces and set properties\n     *   to be applied to all of them at once.\n     *   This is primarily used for specific performance improvements in the rendering engine.\n     *   Private.\n     *\n     * @private\n     * @class Group\n     * @extends Surface\n     * @constructor\n     * @param {Object} [options] Surface options array (see Surface})\n     */\n    function Group(options) {\n        Surface.call(this, options);\n        this._shouldRecalculateSize = false;\n        this._container = document.createDocumentFragment();\n        this.context = new Context(this._container);\n        this.setContent(this._container);\n        this._groupSize = [undefined, undefined];\n    }\n\n    /** @const */\n    Group.SIZE_ZERO = [0, 0];\n\n    Group.prototype = Object.create(Surface.prototype);\n    Group.prototype.elementType = 'div';\n    Group.prototype.elementClass = 'famous-group';\n\n    /**\n     * Add renderables to this component's render tree.\n     *\n     * @method add\n     * @private\n     * @param {Object} obj renderable object\n     * @return {RenderNode} Render wrapping provided object, if not already a RenderNode\n     */\n    Group.prototype.add = function add() {\n        return this.context.add.apply(this.context, arguments);\n    };\n\n    /**\n     * Generate a render spec from the contents of this component.\n     *\n     * @private\n     * @method render\n     * @return {Number} Render spec for this component\n     */\n    Group.prototype.render = function render() {\n        return Surface.prototype.render.call(this);\n    };\n\n    /**\n     * Place the document element this component manages into the document.\n     *\n     * @private\n     * @method deploy\n     * @param {Node} target document parent of this container\n     */\n    Group.prototype.deploy = function deploy(target) {\n        this.context.migrate(target);\n    };\n\n    /**\n     * Remove this component and contained content from the document\n     *\n     * @private\n     * @method recall\n     *\n     * @param {Node} target node to which the component was deployed\n     */\n    Group.prototype.recall = function recall(target) {\n        this._container = document.createDocumentFragment();\n        this.context.migrate(this._container);\n    };\n\n    /**\n     * Apply changes from this component to the corresponding document element.\n     *\n     * @private\n     * @method commit\n     *\n     * @param {Object} context update spec passed in from above in the render tree.\n     */\n    Group.prototype.commit = function commit(context) {\n        var transform = context.transform;\n        var origin = context.origin;\n        var opacity = context.opacity;\n        var size = context.size;\n        var result = Surface.prototype.commit.call(this, {\n            allocator: context.allocator,\n            transform: Transform.thenMove(transform, [-origin[0] * size[0], -origin[1] * size[1], 0]),\n            opacity: opacity,\n            origin: origin,\n            size: Group.SIZE_ZERO\n        });\n        if (size[0] !== this._groupSize[0] || size[1] !== this._groupSize[1]) {\n            this._groupSize[0] = size[0];\n            this._groupSize[1] = size[1];\n            this.context.setSize(size);\n        }\n        this.context.update({\n            transform: Transform.translate(-origin[0] * size[0], -origin[1] * size[1], 0),\n            origin: origin,\n            size: size\n        });\n        return result;\n    };\n\n    module.exports = Group;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Group.js\n ** module id = 53\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: david@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\n\ndefine(function(require, exports, module) {\n    var Force = require('./Force');\n\n    /**\n     * Drag is a force that opposes velocity. Attach it to the physics engine\n     * to slow down a physics body in motion.\n     *\n     * @class Drag\n     * @constructor\n     * @extends Force\n     * @param {Object} options options to set on drag\n     */\n    function Drag(options) {\n        this.options = Object.create(this.constructor.DEFAULT_OPTIONS);\n        if (options) this.setOptions(options);\n\n        Force.call(this);\n    }\n\n    Drag.prototype = Object.create(Force.prototype);\n    Drag.prototype.constructor = Drag;\n\n    /**\n     * @property Drag.FORCE_FUNCTIONS\n     * @type Object\n     * @protected\n     * @static\n     */\n    Drag.FORCE_FUNCTIONS = {\n\n        /**\n         * A drag force proportional to the velocity\n         * @attribute LINEAR\n         * @type Function\n         * @param {Vector} velocity\n         * @return {Vector} drag force\n         */\n        LINEAR : function(velocity) {\n            return velocity;\n        },\n\n        /**\n         * A drag force proportional to the square of the velocity\n         * @attribute QUADRATIC\n         * @type Function\n         * @param {Vector} velocity\n         * @return {Vector} drag force\n         */\n        QUADRATIC : function(velocity) {\n            return velocity.mult(velocity.norm());\n        }\n    };\n\n    /**\n     * @property Drag.DEFAULT_OPTIONS\n     * @type Object\n     * @protected\n     * @static\n     */\n    Drag.DEFAULT_OPTIONS = {\n\n        /**\n         * The strength of the force\n         *    Range : [0, 0.1]\n         * @attribute strength\n         * @type Number\n         * @default 0.01\n         */\n        strength : 0.01,\n\n        /**\n         * The type of opposing force\n         * @attribute forceFunction\n         * @type Function\n         */\n        forceFunction : Drag.FORCE_FUNCTIONS.LINEAR\n    };\n\n    /**\n     * Adds a drag force to a physics body's force accumulator.\n     *\n     * @method applyForce\n     * @param targets {Array.Body} Array of bodies to apply drag force to.\n     */\n    Drag.prototype.applyForce = function applyForce(targets) {\n        var strength        = this.options.strength;\n        var forceFunction   = this.options.forceFunction;\n        var force           = this.force;\n        var index;\n        var particle;\n\n        for (index = 0; index < targets.length; index++) {\n            particle = targets[index];\n            forceFunction(particle.velocity).mult(-strength).put(force);\n            particle.applyForce(force);\n        }\n    };\n\n    /**\n     * Basic options setter\n     *\n     * @method setOptions\n     * @param {Objects} options\n     */\n    Drag.prototype.setOptions = function setOptions(options) {\n        for (var key in options) this.options[key] = options[key];\n    };\n\n    module.exports = Drag;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/forces/Drag.js\n ** module id = 54\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2015\n */\ndefine(function(require, exports, module) {\n    var EventHandler = require('../core/EventHandler');\n    var Engine = require('../core/Engine');\n    var OptionsManager = require('../core/OptionsManager');\n\n    /**\n     * Handles piped in mousewheel events.\n     *   Emits 'start', 'update', and 'end' events with payloads including:\n     *   delta: change since last position,\n     *   position: accumulated deltas,\n     *   velocity: speed of change in pixels per ms,\n     *   slip: true (unused).\n     *\n     *   Can be used as delegate of GenericSync.\n     *\n     * @class ScrollSync\n     * @constructor\n     * @param {Object} [options] overrides of default options\n     * @param {Number} [options.direction] Pay attention to x changes (ScrollSync.DIRECTION_X),\n     *   y changes (ScrollSync.DIRECTION_Y) or both (undefined)\n     * @param {Number} [options.minimumEndSpeed] End speed calculation floors at this number, in pixels per ms\n     * @param {boolean} [options.rails] whether to snap position calculations to nearest axis\n     * @param {Number | Array.Number} [options.scale] scale outputs in by scalar or pair of scalars\n     * @param {Number} [options.stallTime] reset time for velocity calculation in ms\n     */\n    function ScrollSync(options) {\n        this.options = Object.create(ScrollSync.DEFAULT_OPTIONS);\n        this._optionsManager = new OptionsManager(this.options);\n        if (options) this.setOptions(options);\n\n        this._payload = {\n            delta    : null,\n            position : null,\n            velocity : null,\n            slip     : true\n        };\n\n        this._eventInput = new EventHandler();\n        this._eventOutput = new EventHandler();\n\n        EventHandler.setInputHandler(this, this._eventInput);\n        EventHandler.setOutputHandler(this, this._eventOutput);\n\n        this._position = (this.options.direction === undefined) ? [0,0] : 0;\n        this._prevTime = undefined;\n        this._prevVel = undefined;\n        this._eventInput.on('mousewheel', _handleMove.bind(this));\n        this._eventInput.on('wheel', _handleMove.bind(this));\n        this._inProgress = false;\n        this._loopBound = false;\n    }\n\n    ScrollSync.DEFAULT_OPTIONS = {\n        direction: undefined,\n        minimumEndSpeed: Infinity,\n        rails: false,\n        scale: 1,\n        stallTime: 50,\n        lineHeight: 40,\n        preventDefault: true\n    };\n\n    ScrollSync.DIRECTION_X = 0;\n    ScrollSync.DIRECTION_Y = 1;\n\n    var MINIMUM_TICK_TIME = 8;\n\n    var _now = Date.now;\n\n    function _newFrame() {\n        if (this._inProgress && (_now() - this._prevTime) > this.options.stallTime) {\n            this._inProgress = false;\n\n            var finalVel = (Math.abs(this._prevVel) >= this.options.minimumEndSpeed)\n                ? this._prevVel\n                : 0;\n\n            var payload = this._payload;\n            payload.position = this._position;\n            payload.velocity = finalVel;\n            payload.slip = true;\n\n            this._eventOutput.emit('end', payload);\n        }\n    }\n\n    function _handleMove(event) {\n        if (this.options.preventDefault) event.preventDefault();\n\n        if (!this._inProgress) {\n            this._inProgress = true;\n            this._position = (this.options.direction === undefined) ? [0,0] : 0;\n            payload = this._payload;\n            payload.slip = true;\n            payload.position = this._position;\n            payload.clientX = event.clientX;\n            payload.clientY = event.clientY;\n            payload.offsetX = event.offsetX;\n            payload.offsetY = event.offsetY;\n            this._eventOutput.emit('start', payload);\n            if (!this._loopBound) {\n                Engine.on('prerender', _newFrame.bind(this));\n                this._loopBound = true;\n            }\n        }\n\n        var currTime = _now();\n        var prevTime = this._prevTime || currTime;\n\n        var diffX = (event.wheelDeltaX !== undefined) ? event.wheelDeltaX : -event.deltaX;\n        var diffY = (event.wheelDeltaY !== undefined) ? event.wheelDeltaY : -event.deltaY;\n\n        if (event.deltaMode === 1) { // units in lines, not pixels\n            diffX *= this.options.lineHeight;\n            diffY *= this.options.lineHeight;\n        }\n\n        if (this.options.rails) {\n            if (Math.abs(diffX) > Math.abs(diffY)) diffY = 0;\n            else diffX = 0;\n        }\n\n        var diffTime = Math.max(currTime - prevTime, MINIMUM_TICK_TIME); // minimum tick time\n\n        var velX = diffX / diffTime;\n        var velY = diffY / diffTime;\n\n        var scale = this.options.scale;\n        var nextVel;\n        var nextDelta;\n\n        if (this.options.direction === ScrollSync.DIRECTION_X) {\n            nextDelta = scale * diffX;\n            nextVel = scale * velX;\n            this._position += nextDelta;\n        }\n        else if (this.options.direction === ScrollSync.DIRECTION_Y) {\n            nextDelta = scale * diffY;\n            nextVel = scale * velY;\n            this._position += nextDelta;\n        }\n        else {\n            nextDelta = [scale * diffX, scale * diffY];\n            nextVel = [scale * velX, scale * velY];\n            this._position[0] += nextDelta[0];\n            this._position[1] += nextDelta[1];\n        }\n\n        var payload = this._payload;\n        payload.delta    = nextDelta;\n        payload.velocity = nextVel;\n        payload.position = this._position;\n        payload.slip     = true;\n\n        this._eventOutput.emit('update', payload);\n\n        this._prevTime = currTime;\n        this._prevVel = nextVel;\n    }\n\n    /**\n     * Return entire options dictionary, including defaults.\n     *\n     * @method getOptions\n     * @return {Object} configuration options\n     */\n    ScrollSync.prototype.getOptions = function getOptions() {\n        return this.options;\n    };\n\n    /**\n     * Set internal options, overriding any default options\n     *\n     * @method setOptions\n     *\n     * @param {Object} [options] overrides of default options\n     * @param {Number} [options.minimimEndSpeed] If final velocity smaller than this, round down to 0.\n     * @param {Number} [options.stallTime] ms of non-motion before 'end' emitted\n     * @param {Number} [options.rails] whether to constrain to nearest axis.\n     * @param {Number} [options.direction] ScrollSync.DIRECTION_X, DIRECTION_Y -\n     *    pay attention to one specific direction.\n     * @param {Number} [options.scale] constant factor to scale velocity output\n     */\n    ScrollSync.prototype.setOptions = function setOptions(options) {\n        return this._optionsManager.setOptions(options);\n    };\n\n    module.exports = ScrollSync;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/inputs/ScrollSync.js\n ** module id = 55\n ** module chunks = 0\n **/","/**\n * This Source Code is licensed under the MIT license. If a copy of the\n * MIT-license was not distributed with this file, You can obtain one at:\n * http://opensource.org/licenses/mit-license.html.\n *\n * @author: Hein Rutjes (IjzerenHein)\n * @license MIT\n * @copyright Gloey Apps, 2014 - 2015\n */\n\n/**\n * Lays out items and optionally sticky sections from top to bottom or left to right.\n *\n * |options|type|description|\n * |---|---|---|\n * |`[itemSize]`|Number/Function|Height or width in pixels of an item (used when renderNode has no size)|\n * |`[margins]`|Number/Array|Margins shorthand (e.g. 5, [10, 20], [2, 5, 2, 10])|\n * |`[spacing]`|Number|Spacing between items|\n * |`[isSectionCallback]`|Function|Callback that is called in order to check if a render-node is a section rather than a cell.|\n *\n * Example:\n *\n * ```javascript\n * var FlexScrollView = require('famous-flex/FlexScrollView');\n * var ListLayout = require('famous-flex/layouts/ListLayout');\n *\n * var scrollView = new FlexScrollView({\n *   layout: ListLayout,\n *   layoutOptions: {\n *     margins: [20, 10, 20, 10],\n *     spacing: 1,\n *     isSectionCallback: function(renderNode) {\n *       return renderNode.isSection;\n *     },\n *   },\n *   dataSource: [\n *     // first section\n *     _createSection(),\n *     _createCell(),\n *     _createCell(),\n *     // second section\n *     _createSection(),\n *     _createCell(),\n *   ]\n * });\n * this.add(scrollView);\n *\n * function _createCell() {\n *   return new Surface({\n *     size: [undefined, 50],\n *     content: 'my cell'\n *   });\n * }\n *\n * function _createSection() {\n *   var section = new Surface({\n *     size: [undefined, 30],\n *     content: 'my sticky section'\n *   });\n *   section.isSection = true; // mark renderNode as section\n *   return section;\n * }\n * ```\n * @module\n */\ndefine(function(require, exports, module) {\n\n    // import dependencies\n    var Utility = require('famous/utilities/Utility');\n    var LayoutUtility = require('../LayoutUtility');\n\n    // Define capabilities of this layout function\n    var capabilities = {\n        sequence: true,\n        direction: [Utility.Direction.Y, Utility.Direction.X],\n        scrolling: true,\n        trueSize: true,\n        sequentialScrollingOptimized: true\n    };\n\n    // Data\n    var set = {\n        size: [0, 0],\n        translate: [0, 0, 0],\n        scrollLength: undefined\n    };\n    var margin = [0, 0];\n\n    // Layout function\n    function ListLayout(context, options) {\n\n        // Local data\n        var size = context.size;\n        var direction = context.direction;\n        var alignment = context.alignment;\n        var revDirection = direction ? 0 : 1;\n        var offset;\n        var margins = LayoutUtility.normalizeMargins(options.margins);\n        var spacing = options.spacing || 0;\n        var node;\n        var nodeSize;\n        var itemSize;\n        var getItemSize;\n        var lastSectionBeforeVisibleCell;\n        var lastSectionBeforeVisibleCellOffset;\n        var lastSectionBeforeVisibleCellLength;\n        var lastSectionBeforeVisibleCellScrollLength;\n        var lastSectionBeforeVisibleCellTopReached;\n        var firstVisibleCell;\n        var lastNode;\n        var lastCellOffsetInFirstVisibleSection;\n        var isSectionCallback = options.isSectionCallback;\n        var bound;\n\n        //\n        // Sanity checks\n        //\n        if (spacing && typeof spacing !== 'number') {\n            console.log('Famous-flex warning: ListLayout was initialized with a non-numeric spacing option. ' + // eslint-disable-line no-console\n                'The CollectionLayout supports an array spacing argument, but the ListLayout does not.');\n        }\n\n        //\n        // Reset size & translation\n        //\n        set.size[0] = size[0];\n        set.size[1] = size[1];\n        set.size[revDirection] -= (margins[1 - revDirection] + margins[3 - revDirection]);\n        set.translate[0] = 0;\n        set.translate[1] = 0;\n        set.translate[2] = 0;\n        set.translate[revDirection] = margins[direction ? 3 : 0];\n\n        //\n        // Determine item-size or use true=size\n        //\n        if ((options.itemSize === true) || !options.hasOwnProperty('itemSize')) {\n            itemSize = true;\n        }\n        else if (options.itemSize instanceof Function) {\n            getItemSize = options.itemSize;\n        }\n        else {\n            itemSize = (options.itemSize === undefined) ? size[direction] : options.itemSize;\n        }\n\n        //\n        // Determine leading/trailing margins\n        //\n        margin[0] = margins[direction ? 0 : 3];\n        margin[1] = -margins[direction ? 2 : 1];\n\n        //\n        // Process all next nodes\n        //\n        offset = context.scrollOffset + margin[alignment];\n        bound = context.scrollEnd + margin[alignment];\n        while (offset < (bound + spacing)) {\n            lastNode = node;\n            node = context.next();\n            if (!node) {\n                break;\n            }\n\n            //\n            // Get node size\n            //\n            nodeSize = getItemSize ? getItemSize(node.renderNode, context.size) : itemSize;\n            nodeSize = (nodeSize === true) ? context.resolveSize(node, size)[direction] : nodeSize;\n\n            //\n            // Position node\n            //\n            set.size[direction] = nodeSize;\n            set.translate[direction] = offset + (alignment ? spacing : 0);\n            set.scrollLength = nodeSize + spacing;\n            context.set(node, set);\n            offset += set.scrollLength;\n\n            //\n            // Keep track of the last section before the first visible cell\n            //\n            if (isSectionCallback && isSectionCallback(node.renderNode)) {\n                if ((set.translate[direction] <= margin[0]) && !lastSectionBeforeVisibleCellTopReached) {\n                    lastSectionBeforeVisibleCellTopReached = true;\n                    set.translate[direction] = margin[0];\n                    context.set(node, set);\n                }\n                if (!firstVisibleCell) {\n                    lastSectionBeforeVisibleCell = node;\n                    lastSectionBeforeVisibleCellOffset = offset - nodeSize;\n                    lastSectionBeforeVisibleCellLength = nodeSize;\n                    lastSectionBeforeVisibleCellScrollLength = nodeSize;\n                }\n                else if (lastCellOffsetInFirstVisibleSection === undefined) {\n                    lastCellOffsetInFirstVisibleSection = offset - nodeSize;\n                }\n            }\n            else if (!firstVisibleCell && (offset >= 0)) {\n                firstVisibleCell = node;\n            }\n        }\n        if (lastNode && !node && !alignment) {\n            set.scrollLength = nodeSize + margin[0] + -margin[1];\n            context.set(lastNode, set);\n        }\n\n        //\n        // Process previous nodes\n        //\n        lastNode = undefined;\n        node = undefined;\n        offset = context.scrollOffset + margin[alignment];\n        bound = context.scrollStart + margin[alignment];\n        while (offset > (bound - spacing)) {\n            lastNode = node;\n            node = context.prev();\n            if (!node) {\n                break;\n            }\n\n            //\n            // Get node size\n            //\n            nodeSize = getItemSize ? getItemSize(node.renderNode, context.size) : itemSize;\n            nodeSize = (nodeSize === true) ? context.resolveSize(node, size)[direction] : nodeSize;\n\n            //\n            // Position node\n            //\n            set.scrollLength = nodeSize + spacing;\n            offset -= set.scrollLength;\n            set.size[direction] = nodeSize;\n            set.translate[direction] = offset + (alignment ? spacing : 0);\n            context.set(node, set);\n\n            //\n            // Keep track of the last section before the first visible cell\n            //\n            if (isSectionCallback && isSectionCallback(node.renderNode)) {\n                if ((set.translate[direction] <= margin[0]) && !lastSectionBeforeVisibleCellTopReached) {\n                    lastSectionBeforeVisibleCellTopReached = true;\n                    set.translate[direction] = margin[0];\n                    context.set(node, set);\n                }\n                if (!lastSectionBeforeVisibleCell) {\n                    lastSectionBeforeVisibleCell = node;\n                    lastSectionBeforeVisibleCellOffset = offset;\n                    lastSectionBeforeVisibleCellLength = nodeSize;\n                    lastSectionBeforeVisibleCellScrollLength = set.scrollLength;\n                }\n            }\n            else if ((offset + nodeSize) >= 0) {\n                firstVisibleCell = node;\n                if (lastSectionBeforeVisibleCell) {\n                    lastCellOffsetInFirstVisibleSection = offset + nodeSize;\n                }\n                lastSectionBeforeVisibleCell = undefined;\n            }\n        }\n        if (lastNode && !node && alignment) {\n            set.scrollLength = nodeSize + margin[0] + -margin[1];\n            context.set(lastNode, set);\n            if (lastSectionBeforeVisibleCell === lastNode) {\n                lastSectionBeforeVisibleCellScrollLength = set.scrollLength;\n            }\n        }\n\n        //\n        // When no first section is in the scrollable range, then\n        // look back further in search for that section\n        //\n        if (isSectionCallback && !lastSectionBeforeVisibleCell) {\n            node = context.prev();\n            while (node) {\n                if (isSectionCallback(node.renderNode)) {\n                    lastSectionBeforeVisibleCell = node;\n                    nodeSize = options.itemSize || context.resolveSize(node, size)[direction];\n                    lastSectionBeforeVisibleCellOffset = offset - nodeSize;\n                    lastSectionBeforeVisibleCellLength = nodeSize;\n                    lastSectionBeforeVisibleCellScrollLength = undefined;\n                    break;\n                }\n                else {\n                    node = context.prev();\n                }\n            }\n        }\n\n        //\n        // Reposition \"last section before first visible cell\" to the top of the layout\n        //\n        if (lastSectionBeforeVisibleCell) {\n            var correctedOffset = Math.max(margin[0], lastSectionBeforeVisibleCellOffset);\n            if ((lastCellOffsetInFirstVisibleSection !== undefined) &&\n                (lastSectionBeforeVisibleCellLength > (lastCellOffsetInFirstVisibleSection - margin[0]))) {\n                correctedOffset = ((lastCellOffsetInFirstVisibleSection - lastSectionBeforeVisibleCellLength));\n            }\n            set.size[direction] = lastSectionBeforeVisibleCellLength;\n            set.translate[direction] = correctedOffset;\n            set.scrollLength = lastSectionBeforeVisibleCellScrollLength;\n            context.set(lastSectionBeforeVisibleCell, set);\n        }\n    }\n\n    ListLayout.Capabilities = capabilities;\n    ListLayout.Name = 'ListLayout';\n    ListLayout.Description = 'List-layout with margins, spacing and sticky headers';\n    module.exports = ListLayout;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/layouts/ListLayout.js\n ** module id = 56\n ** module chunks = 0\n **/","/**\n * @license\n * lodash 3.10.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -o ./lodash.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.10.1';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      ARY_FLAG = 128,\n      REARG_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n  /**\n   * Used to match `RegExp` [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns)\n   * and those outlined by [`EscapeRegExpPattern`](http://ecma-international.org/ecma-262/6.0/#sec-escaperegexppattern).\n   */\n  var reRegExpChars = /^[:!,]|[\\\\^$.*+?()[\\]{}|\\/]|(^[0-9a-fA-Fnrtuvx])|([\\n\\r\\u2028\\u2029])/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). */\n  var reComboMark = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /** Used to match [ES template delimiters](http://ecma-international.org/ecma-262/6.0/#sec-template-literal-lexical-components). */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHasHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^\\d+$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'isFinite',\n    'parseFloat', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled regexes. */\n  var regexpEscapes = {\n    '0': 'x30', '1': 'x31', '2': 'x32', '3': 'x33', '4': 'x34',\n    '5': 'x35', '6': 'x36', '7': 'x37', '8': 'x38', '9': 'x39',\n    'A': 'x41', 'B': 'x42', 'C': 'x43', 'D': 'x44', 'E': 'x45', 'F': 'x46',\n    'a': 'x61', 'b': 'x62', 'c': 'x63', 'd': 'x64', 'e': 'x65', 'f': 'x66',\n    'n': 'x6e', 'r': 'x72', 't': 'x74', 'u': 'x75', 'v': 'x76', 'x': 'x78'\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global && global.Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it's the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsNull = value === null,\n          valIsUndef = value === undefined,\n          valIsReflexive = value === value;\n\n      var othIsNull = other === null,\n          othIsUndef = other === undefined,\n          othIsReflexive = other === other;\n\n      if ((value > other && !othIsNull) || !valIsReflexive ||\n          (valIsNull && !othIsUndef && othIsReflexive) ||\n          (valIsUndef && othIsReflexive)) {\n        return 1;\n      }\n      if ((value < other && !valIsNull) || !othIsReflexive ||\n          (othIsNull && !valIsUndef && valIsReflexive) ||\n          (othIsUndef && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromRight) {\n    var length = array.length,\n        index = fromRight ? length : -1;\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it's not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of a value to another\n   * and stable sort them.\n   *\n   * If `orders` is unspecified, all valuess are sorted in ascending order. Otherwise,\n   * a value is sorted in ascending order if its corresponding order is \"asc\", and\n   * descending if \"desc\".\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        var order = orders[index];\n        return result * ((order === 'asc' || order === true) ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.escapeRegExp` to escape characters for inclusion in compiled regexes.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @param {string} leadingChar The capture group for a leading character.\n   * @param {string} whitespaceChar The capture group for a whitespace character.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeRegExpChar(chr, leadingChar, whitespaceChar) {\n    if (leadingChar) {\n      chr = regexpEscapes[chr];\n    } else if (whitespaceChar) {\n      chr = stringEscapes[chr];\n    }\n    return '\\\\' + chr;\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = context.ArrayBuffer,\n        clearTimeout = context.clearTimeout,\n        parseFloat = context.parseFloat,\n        pow = Math.pow,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = getNative(context, 'Set'),\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = context.Uint8Array,\n        WeakMap = getNative(context, 'WeakMap');\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeCreate = getNative(Object, 'create'),\n        nativeFloor = Math.floor,\n        nativeIsArray = getNative(Array, 'isArray'),\n        nativeIsFinite = context.isFinite,\n        nativeKeys = getNative(Object, 'keys'),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = getNative(Date, 'now'),\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = 4294967295,\n        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /**\n     * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n     * of an array-like value.\n     */\n    var MAX_SAFE_INTEGER = 9007199254740991;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that retrieve a single value or may return a\n     * primitive value will automatically end the chain returning the unwrapped\n     * value. Explicit chaining may be enabled using `_.chain`. The execution of\n     * chained methods is lazy, that is, execution is deferred until `_#value`\n     * is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization strategy which merge iteratee calls; this can help\n     * to avoid the creation of intermediate data structures and greatly reduce the\n     * number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defaultsDeep`,\n     * `defer`, `delay`, `difference`, `drop`, `dropRight`, `dropRightWhile`,\n     * `dropWhile`, `fill`, `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`,\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`,\n     * `matchesProperty`, `memoize`, `merge`, `method`, `methodOf`, `mixin`,\n     * `modArgs`, `negate`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `restParam`,\n     * `reverse`, `set`, `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`,\n     * `sortByOrder`, `splice`, `spread`, `take`, `takeRight`, `takeRightWhile`,\n     * `takeWhile`, `tap`, `throttle`, `thru`, `times`, `toArray`, `toPlainObject`,\n     * `transform`, `union`, `uniq`, `unshift`, `unzip`, `unzipWith`, `values`,\n     * `valuesIn`, `where`, `without`, `wrap`, `xor`, `zip`, `zipObject`, `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clone`, `cloneDeep`,\n     * `deburr`, `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`,\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`,\n     * `floor`, `get`, `gt`, `gte`, `has`, `identity`, `includes`, `indexOf`,\n     * `inRange`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n     * `isEmpty`, `isEqual`, `isError`, `isFinite` `isFunction`, `isMatch`,\n     * `isNative`, `isNaN`, `isNull`, `isNumber`, `isObject`, `isPlainObject`,\n     * `isRegExp`, `isString`, `isUndefined`, `isTypedArray`, `join`, `kebabCase`,\n     * `last`, `lastIndexOf`, `lt`, `lte`, `max`, `min`, `noConflict`, `noop`,\n     * `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`, `random`, `reduce`,\n     * `reduceRight`, `repeat`, `result`, `round`, `runInContext`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`, `startCase`,\n     * `startsWith`, `sum`, `template`, `trim`, `trimLeft`, `trimRight`, `trunc`,\n     * `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(total, n) {\n     *   return total + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = arrayCopy(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = arrayCopy(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = arrayCopy(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || arrLength < LARGE_ARRAY_SIZE || (arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Sets `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a new array joining `array` with `other`.\n     *\n     * @private\n     * @param {Array} array The array to join.\n     * @param {Array} other The other array to join.\n     * @returns {Array} Returns the new concatenated array.\n     */\n    function arrayConcat(array, other) {\n      var index = -1,\n          length = array.length,\n          othIndex = -1,\n          othLength = other.length,\n          result = Array(length + othLength);\n\n      while (++index < length) {\n        result[index] = array[index];\n      }\n      while (++othIndex < othLength) {\n        result[index++] = other[othIndex];\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseExtremum` for arrays which invokes `iteratee`\n     * with one argument: (value).\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function arrayExtremum(array, iteratee, comparator, exValue) {\n      var index = -1,\n          length = array.length,\n          computed = exValue,\n          result = computed;\n\n      while (++index < length) {\n        var value = array[index],\n            current = +iteratee(value);\n\n        if (comparator(current, computed)) {\n          computed = current;\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * Appends the elements of `values` to `array`.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to append.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayPush(array, values) {\n      var index = -1,\n          length = values.length,\n          offset = array.length;\n\n      while (++index < length) {\n        array[offset + index] = values[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `_.sum` for arrays without support for callback\n     * shorthands and `this` binding..\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function arraySum(array, iteratee) {\n      var length = array.length,\n          result = 0;\n\n      while (length--) {\n        result += +iteratee(array[length]) || 0;\n      }\n      return result;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This function is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (objectValue === undefined || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * A specialized version of `_.assign` for customizing assigned values without\n     * support for argument juggling, multiple sources, and `this` binding `customizer`\n     * functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     */\n    function assignWith(object, source, customizer) {\n      var index = -1,\n          props = keys(source),\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (value === undefined && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return source == null\n        ? object\n        : baseCopy(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.at` without support for string collections\n     * and individual key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} props The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          isNil = collection == null,\n          isArr = !isNil && isArrayLike(collection),\n          length = isArr ? collection.length : 0,\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = isNil ? undefined : collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property names to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, props, object) {\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return thisArg === undefined\n          ? func\n          : bindCallback(func, thisArg, argCount);\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return thisArg === undefined\n        ? property(func)\n        : baseMatchesProperty(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseAssign(result, value);\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          object.prototype = prototype;\n          var result = new object;\n          object.prototype = undefined;\n        }\n        return result || {};\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The arguments provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf === baseIndexOf,\n          cache = (isCommon && values.length >= LARGE_ARRAY_SIZE) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments: (value, index|key, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(collection, iteratee, comparator, exValue) {\n      var computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = +iteratee(value, index, collection);\n        if (comparator(current, computed) || (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict, result) {\n      result || (result = []);\n\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index];\n        if (isObjectLike(value) && isArrayLike(value) &&\n            (isStrict || isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, isDeep, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iteratee functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `get` without support for string paths\n     * and default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path of the property to get.\n     * @param {string} [pathKey] The key representation of path.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path, pathKey) {\n      if (object == null) {\n        return;\n      }\n      if (pathKey !== undefined && pathKey in toObject(object)) {\n        path = [pathKey];\n      }\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[path[index++]];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      if (!isLoose) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} matchData The propery names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = toObject(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        var key = matchData[0][0],\n            value = matchData[0][1];\n\n        return function(object) {\n          if (object == null) {\n            return false;\n          }\n          return object[key] === value && (value !== undefined || (key in toObject(object)));\n        };\n      }\n      return function(object) {\n        return baseIsMatch(object, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      var isArr = isArray(path),\n          isCommon = isKey(path) && isStrictComparable(srcValue),\n          pathKey = (path + '');\n\n      path = toPath(path);\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        var key = pathKey;\n        object = toObject(object);\n        if ((isArr || !isCommon) && !(key in object)) {\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          if (object == null) {\n            return false;\n          }\n          key = last(path);\n          object = toObject(object);\n        }\n        return object[key] === srcValue\n          ? (srcValue !== undefined || (key in object))\n          : baseIsEqual(srcValue, object[key], undefined, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns `object`.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\n          props = isSrcArr ? undefined : keys(source);\n\n      arrayEach(props || source, function(srcValue, key) {\n        if (props) {\n          key = srcValue;\n          srcValue = source[key];\n        }\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        else {\n          var value = object[key],\n              result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n              isCommon = result === undefined;\n\n          if (isCommon) {\n            result = srcValue;\n          }\n          if ((result !== undefined || (isSrcArr && !(key in object))) &&\n              (isCommon || (result === result ? (result !== value) : (value === value)))) {\n            object[key] = result;\n          }\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = result === undefined;\n\n      if (isCommon) {\n        result = srcValue;\n        if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (isArrayLike(value) ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` without support for deep paths.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function basePropertyDeep(path) {\n      var pathKey = (path + '');\n      path = toPath(path);\n      return function(object) {\n        return baseGet(object, path, pathKey);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments and capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0;\n      while (length--) {\n        var index = indexes[length];\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + nativeFloor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands and `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, iteratees, orders) {\n      var callback = getCallback(),\n          index = -1;\n\n      iteratees = arrayMap(iteratees, function(iteratee) { return callback(iteratee); });\n\n      var result = baseMap(collection, function(value) {\n        var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.sum` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {number} Returns the sum.\n     */\n    function baseSum(collection, iteratee) {\n      var result = 0;\n      baseEach(collection, function(value, index, collection) {\n        result += +iteratee(value, index, collection) || 0;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf === baseIndexOf,\n          isLarge = isCommon && length >= LARGE_ARRAY_SIZE,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * of `props`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var action = actions[index];\n        result = action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if ((retHighest ? (computed <= value) : (computed < value)) && computed !== null) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsUndef = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isDef = computed !== undefined,\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsNull) {\n          setLow = isReflexive && isDef && (retHighest || computed != null);\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || isDef);\n        } else if (computed == null) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (thisArg === undefined) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      var result = new ArrayBuffer(buffer.byteLength),\n          view = new Uint8Array(result);\n\n      view.set(new Uint8Array(buffer));\n      return result;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(leftLength + argsLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[offset + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a `_.countBy`, `_.groupBy`, `_.indexBy`, or `_.partition` function.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return restParam(function(object, sources) {\n        var index = -1,\n            length = object == null ? 0 : sources.length,\n            customizer = length > 2 ? sources[length - 2] : undefined,\n            guard = length > 2 ? sources[2] : undefined,\n            thisArg = length > 1 ? sources[length - 1] : undefined;\n\n        if (typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = typeof thisArg == 'function' ? thisArg : undefined;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        var length = collection ? getLength(collection) : 0;\n        if (!isLength(length)) {\n          return eachFunc(collection, iteratee);\n        }\n        var index = fromRight ? length : -1,\n            iterable = toObject(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var iterable = toObject(object),\n            props = keysFunc(object),\n            length = props.length,\n            index = fromRight ? length : -1;\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var key = props[index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    function createCache(values) {\n      return (nativeCreate && Set) ? new SetCache(values) : null;\n    }\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors.\n        // See http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a `_.curry` or `_.curryRight` function.\n     *\n     * @private\n     * @param {boolean} flag The curry bit flag.\n     * @returns {Function} Returns the new curry function.\n     */\n    function createCurry(flag) {\n      function curryFunc(func, arity, guard) {\n        if (guard && isIterateeCall(func, arity, guard)) {\n          arity = undefined;\n        }\n        var result = createWrapper(func, flag, undefined, undefined, undefined, undefined, undefined, arity);\n        result.placeholder = curryFunc.placeholder;\n        return result;\n      }\n      return curryFunc;\n    }\n\n    /**\n     * Creates a `_.defaults` or `_.defaultsDeep` function.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Function} Returns the new defaults function.\n     */\n    function createDefaults(assigner, customizer) {\n      return restParam(function(args) {\n        var object = args[0];\n        if (object == null) {\n          return object;\n        }\n        args.push(customizer);\n        return assigner.apply(undefined, args);\n      });\n    }\n\n    /**\n     * Creates a `_.max` or `_.min` function.\n     *\n     * @private\n     * @param {Function} comparator The function used to compare values.\n     * @param {*} exValue The initial extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(comparator, exValue) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = undefined;\n        }\n        iteratee = getCallback(iteratee, thisArg, 3);\n        if (iteratee.length == 1) {\n          collection = isArray(collection) ? collection : toIterable(collection);\n          var result = arrayExtremum(collection, iteratee, comparator, exValue);\n          if (!(collection.length && result === exValue)) {\n            return result;\n          }\n        }\n        return baseExtremum(collection, iteratee, comparator, exValue);\n      };\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(eachFunc, fromRight) {\n      return function(collection, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        if (isArray(collection)) {\n          var index = baseFindIndex(collection, predicate, fromRight);\n          return index > -1 ? collection[index] : undefined;\n        }\n        return baseFind(collection, predicate, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindIndex(fromRight) {\n      return function(array, predicate, thisArg) {\n        if (!(array && array.length)) {\n          return -1;\n        }\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFindIndex(array, predicate, fromRight);\n      };\n    }\n\n    /**\n     * Creates a `_.findKey` or `_.findLastKey` function.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFindKey(objectFunc) {\n      return function(object, predicate, thisArg) {\n        predicate = getCallback(predicate, thisArg, 3);\n        return baseFind(object, predicate, objectFunc, true);\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return function() {\n        var wrapper,\n            length = arguments.length,\n            index = fromRight ? length : -1,\n            leftIndex = 0,\n            funcs = Array(length);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          var func = funcs[leftIndex++] = arguments[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (!wrapper && LodashWrapper.prototype.thru && getFuncName(func) == 'wrapper') {\n            wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? -1 : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value) && value.length >= LARGE_ARRAY_SIZE) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function for `_.forEach` or `_.forEachRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForEach(arrayFunc, eachFunc) {\n      return function(collection, iteratee, thisArg) {\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee)\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\n      };\n    }\n\n    /**\n     * Creates a function for `_.forIn` or `_.forInRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForIn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee, keysIn);\n      };\n    }\n\n    /**\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\n     *\n     * @private\n     * @param {Function} objectFunc The function to iterate over an object.\n     * @returns {Function} Returns the new each function.\n     */\n    function createForOwn(objectFunc) {\n      return function(object, iteratee, thisArg) {\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\n          iteratee = bindCallback(iteratee, thisArg, 3);\n        }\n        return objectFunc(object, iteratee);\n      };\n    }\n\n    /**\n     * Creates a function for `_.mapKeys` or `_.mapValues`.\n     *\n     * @private\n     * @param {boolean} [isMapKeys] Specify mapping keys instead of values.\n     * @returns {Function} Returns the new map function.\n     */\n    function createObjectMapper(isMapKeys) {\n      return function(object, iteratee, thisArg) {\n        var result = {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        baseForOwn(object, function(value, key, object) {\n          var mapped = iteratee(value, key, object);\n          key = isMapKeys ? mapped : key;\n          value = isMapKeys ? value : mapped;\n          result[key] = value;\n        });\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function for `_.padLeft` or `_.padRight`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify padding from the right.\n     * @returns {Function} Returns the new pad function.\n     */\n    function createPadDir(fromRight) {\n      return function(string, length, chars) {\n        string = baseToString(string);\n        return (fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string);\n      };\n    }\n\n    /**\n     * Creates a `_.partial` or `_.partialRight` function.\n     *\n     * @private\n     * @param {boolean} flag The partial bit flag.\n     * @returns {Function} Returns the new partial function.\n     */\n    function createPartial(flag) {\n      var partialFunc = restParam(function(func, partials) {\n        var holders = replaceHolders(partials, partialFunc.placeholder);\n        return createWrapper(func, flag, undefined, partials, holders);\n      });\n      return partialFunc;\n    }\n\n    /**\n     * Creates a function for `_.reduce` or `_.reduceRight`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over an array.\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @returns {Function} Returns the new each function.\n     */\n    function createReduce(arrayFunc, eachFunc) {\n      return function(collection, iteratee, accumulator, thisArg) {\n        var initFromArray = arguments.length < 3;\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG,\n          Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : undefined,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : undefined,\n                newHoldersRight = isCurry ? undefined : argsHolders,\n                newPartials = isCurry ? args : undefined,\n                newPartialsRight = isCurry ? undefined : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n                result = createHybridWrapper.apply(undefined, newData);\n\n            if (isLaziable(func)) {\n              setData(result, newData);\n            }\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtorWrapper(func);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the padding required for `string` based on the given `length`.\n     * The `chars` string is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPadding(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, nativeCeil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.ceil`, `_.floor`, or `_.round` function.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        precision = precision === undefined ? 0 : (+precision || 0);\n        if (precision) {\n          precision = pow(10, precision);\n          return func(number * precision) / precision;\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\n     *\n     * @private\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {Function} Returns the new index function.\n     */\n    function createSortedIndex(retHighest) {\n      return function(array, value, iteratee, thisArg) {\n        var callback = getCallback(iteratee);\n        return (iteratee == null && callback === baseCallback)\n          ? binaryIndex(array, value, retHighest)\n          : binaryIndexBy(array, value, callback(iteratee, thisArg, 1), retHighest);\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\n        return false;\n      }\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index],\n            result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\n\n        if (result !== undefined) {\n          if (result) {\n            continue;\n          }\n          return false;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (isLoose) {\n          if (!arraySome(other, function(othValue) {\n                return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\n              })) {\n            return false;\n          }\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            : object == +other;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isLoose) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      var skipCtor = isLoose;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key],\n            result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\n\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\n          return false;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (!skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = array ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the \"length\" property value of `object`.\n     *\n     * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\n     * that affects Safari on at least iOS 8.1-8.3 ARM64.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {*} Returns the \"length\" value.\n     */\n    var getLength = baseProperty('length');\n\n    /**\n     * Gets the propery names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = pairs(object),\n          length = result.length;\n\n      while (length--) {\n        result[length][2] = isStrictComparable(result[length][1]);\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = object == null ? undefined : object[key];\n      return isNative(value) ? value : undefined;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the method at `path` on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function invokePath(object, path, args) {\n      if (object != null && !isKey(path, object)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        path = last(path);\n      }\n      var func = object == null ? object : object[path];\n      return func == null ? undefined : func.apply(object, args);\n    }\n\n    /**\n     * Checks if `value` is array-like.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(getLength(value));\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n          ? (isArrayLike(object) && isIndex(index, object.length))\n          : (type == 'string' && index in object)) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      var type = typeof value;\n      if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\n        return true;\n      }\n      if (isArray(value)) {\n        return false;\n      }\n      var result = !reIsDeepProp.test(value);\n      return result || (object != null && value in toObject(object));\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < ARY_FLAG;\n\n      var isCombo =\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function mergeDefaults(objectValue, sourceValue) {\n      return objectValue === undefined ? sourceValue : merge(objectValue, sourceValue, mergeDefaults);\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties specified\n     * by `props`.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` which picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length;\n\n      var allowIndexes = !!length && isLength(length) &&\n        (isArray(object) || isArguments(object));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isArrayLike(value)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to property path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array} Returns the property path array.\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return value;\n      }\n      var result = [];\n      baseToString(value).replace(rePropName, function(match, number, quote, string) {\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(nativeFloor(size) || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of unique `array` values not included in the other\n     * provided arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    var difference = restParam(function(array, values) {\n      return (isObjectLike(array) && isArrayLike(array))\n        ? baseDifference(array, baseFlatten(values, false, true))\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8], '*', 1, 2);\n     * // => [4, '*', 8]\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    var findIndex = createFindIndex();\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    var findLastIndex = createFindIndex(true);\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it's only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]]\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4]\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4]\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the offset\n     * from the end of `array`. If `array` is sorted providing `true` for `fromIndex`\n     * performs a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value);\n        if (index < length &&\n            (value === value ? (value === array[index]) : (array[index] !== array[index]))) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values that are included in all of the provided\n     * arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    var intersection = restParam(function(arrays) {\n      var othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(length),\n          indexOf = getIndexOf(),\n          isCommon = indexOf === baseIndexOf,\n          result = [];\n\n      while (othIndex--) {\n        var value = arrays[othIndex] = isArrayLike(value = arrays[othIndex]) ? value : [];\n        caches[othIndex] = (isCommon && value.length >= 120) ? createCache(othIndex && value) : null;\n      }\n      var array = arrays[0],\n          index = -1,\n          length = array ? array.length : 0,\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          var othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(arrays[othIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    });\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    var pullAt = restParam(function(array, indexes) {\n      indexes = baseFlatten(indexes);\n\n      var result = baseAt(array, indexes);\n      basePullAt(array, indexes.sort(baseCompareAscending));\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it's invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    var sortedIndex = createSortedIndex();\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    var sortedLastIndex = createSortedIndex(true);\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments: (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      return (array && array.length)\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all of the provided arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    var union = restParam(function(arrays) {\n      return baseUniq(baseFlatten(arrays, false, true));\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurence of each element\n     * is kept. Providing `true` for `isSorted` performs a faster search algorithm\n     * for sorted arrays. If an iteratee function is provided it's invoked for\n     * each element in the array to generate the criterion by which uniqueness\n     * is computed. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, array).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? undefined : isSorted;\n        isSorted = false;\n      }\n      var callback = getCallback();\n      if (!(iteratee == null && callback === baseCallback)) {\n        iteratee = callback(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() === baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var index = -1,\n          length = 0;\n\n      array = arrayFilter(array, function(group) {\n        if (isArrayLike(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts an iteratee to specify\n     * how regrouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee] The function to combine regrouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      iteratee = bindCallback(iteratee, thisArg, 4);\n      return arrayMap(result, function(group) {\n        return arrayReduce(group, iteratee, undefined, true);\n      });\n    }\n\n    /**\n     * Creates an array excluding all provided values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    var without = restParam(function(array, values) {\n      return isArrayLike(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the provided arrays.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArrayLike(array)) {\n          var result = result\n            ? arrayPush(baseDifference(result, array), baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    var zip = restParam(unzip);\n\n    /**\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\n     * of property names and values. Provide either a single two dimensional array,\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\n     * and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject([['fred', 30], ['barney', 40]]);\n     * // => { 'fred': 30, 'barney': 40 }\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an iteratee to specify\n     * how grouped values should be combined. The `iteratee` is bound to `thisArg`\n     * and invoked with four arguments: (accumulator, value, index, group).\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee] The function to combine grouped values.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], _.add);\n     * // => [111, 222]\n     */\n    var zipWith = restParam(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 2 ? arrays[length - 2] : undefined,\n          thisArg = length > 1 ? arrays[length - 1] : undefined;\n\n      if (length > 2 && typeof iteratee == 'function') {\n        length -= 2;\n      } else {\n        iteratee = (length > 1 && typeof thisArg == 'function') ? (--length, thisArg) : undefined;\n        thisArg = undefined;\n      }\n      arrays.length = length;\n      return unzipWith(arrays, iteratee, thisArg);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a new array joining a wrapped array with any additional arrays\n     * and/or values.\n     *\n     * @name concat\n     * @memberOf _\n     * @category Chain\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var wrapped = _(array).concat(2, [3], [[4]]);\n     *\n     * console.log(wrapped.value());\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    var wrapperConcat = restParam(function(values) {\n      values = baseFlatten(values);\n      return this.thru(function(array) {\n        return arrayConcat(isArray(array) ? array : [toObject(array)], values);\n      });\n    });\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapped = wrapped.plant(other);\n     *\n     * otherWrapped.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n\n      var interceptor = function(value) {\n        return value.reverse();\n      };\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(interceptor);\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\n     * // => ['barney', 'pebbles']\n     */\n    var at = restParam(function(collection, props) {\n      return baseAt(collection, baseFlatten(props));\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    var find = createFind(baseEach);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(baseEachRight, true);\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection). Iteratee functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    var forEach = createForEach(arrayEach, baseEach);\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from right to left and returns the array\n     */\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `target` is in `collection` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the offset\n     * from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex, guard) {\n      var length = collection ? getLength(collection) : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\n        fromIndex = 0;\n      } else {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex <= length && collection.indexOf(target, fromIndex) > -1)\n        : (!!length && getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `methodName` is a function it's\n     * invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invoke = restParam(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          isProp = isKey(path),\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? path : ((isProp && value != null) ? value[path] : undefined);\n        result[++index] = func ? func.apply(value, args) : invokePath(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\n     * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\n     * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\n     * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\n     * `sum`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the property value of `path` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|string} path The path of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, path) {\n      return map(collection, property(path));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `sortByAll`,\n     * and `sortByOrder`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(total, n) {\n     *   return total + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    var reduce = createReduce(arrayReduce, baseEach);\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    var reduceRight = createReduce(arrayReduceRight, baseEachRight);\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var index = -1,\n          result = toArray(collection),\n          length = result.length,\n          lastIndex = length - 1;\n\n      n = nativeMin(n < 0 ? 0 : (+n || 0), length);\n      while (++index < n) {\n        var rand = baseRandom(index, lastIndex),\n            value = result[rand];\n\n        result[rand] = result[index];\n        result[index] = value;\n      }\n      result.length = n;\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      return sample(collection, POSITIVE_INFINITY);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? getLength(collection) : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\n        predicate = undefined;\n      }\n      if (typeof predicate != 'function' || thisArg !== undefined) {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      var index = -1;\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      var result = baseMap(collection, function(value, key, collection) {\n        return { 'criteria': iteratee(value, key, collection), 'index': ++index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it can sort by multiple iteratees\n     * or property names.\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(Function|Function[]|Object|Object[]|string|string[])} iteratees\n     *  The iteratees to sort by, specified as individual values or arrays of values.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 34], ['barney', 36], ['fred', 42], ['fred', 48]]\n     *\n     * _.map(_.sortByAll(users, 'user', function(chr) {\n     *   return Math.floor(chr.age / 10);\n     * }), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    var sortByAll = restParam(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var guard = iteratees[2];\n      if (guard && isIterateeCall(iteratees[0], iteratees[1], guard)) {\n        iteratees.length = 1;\n      }\n      return baseSortByOrder(collection, baseFlatten(iteratees), []);\n    });\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the iteratees to sort by. If `orders` is unspecified, all\n     * values are sorted in ascending order. Otherwise, a value is sorted in\n     * ascending order if its corresponding order is \"asc\", and descending if \"desc\".\n     *\n     * If a property name is provided for an iteratee the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If an object is provided for an iteratee the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {boolean[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 42 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], ['asc', 'desc']), _.values);\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\n     */\n    function sortByOrder(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(iteratees, orders, guard)) {\n        orders = undefined;\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, iteratees, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = undefined;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = restParam(function(func, thisArg, partials) {\n      var bitmask = BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bind.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the \"length\" property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    var bindAll = restParam(function(object, methodNames) {\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\n\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = restParam(function(object, key, partials) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, bindKey.placeholder);\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    var curry = createCurry(CURRY_FLAG);\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the debounced function return the result of the last\n     * `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it's invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = !!options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        lastCalled = 0;\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function complete(isCalled, id) {\n        if (id) {\n          clearTimeout(id);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (isCalled) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = undefined;\n          }\n        }\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          complete(trailingCall, maxTimeoutId);\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        complete(trailing, timeoutId);\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = undefined;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    var defer = restParam(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    var delay = restParam(function(func, wait, args) {\n      return baseDelay(func, wait, args);\n    });\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the [`Map`](http://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that runs each argument through a corresponding\n     * transform function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms] The functions to transform\n     * arguments, specified as individual functions or arrays of functions.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var modded = _.modArgs(function(x, y) {\n     *   return [x, y];\n     * }, square, doubled);\n     *\n     * modded(1, 2);\n     * // => [1, 4]\n     *\n     * modded(5, 10);\n     * // => [25, 20]\n     */\n    var modArgs = restParam(function(func, transforms) {\n      transforms = baseFlatten(transforms);\n      if (typeof func != 'function' || !arrayEvery(transforms, baseIsFunction)) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = transforms.length;\n      return restParam(function(args) {\n        var index = nativeMin(args.length, length);\n        while (index--) {\n          args[index] = transforms[index](args[index]);\n        }\n        return func.apply(this, args);\n      });\n    });\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = createPartial(PARTIAL_FLAG);\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    var rearg = restParam(function(func, indexes) {\n      return createWrapper(func, REARG_FLAG, undefined, undefined, undefined, baseFlatten(indexes));\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as an array.\n     *\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/Web/JavaScript/Reference/Functions/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.restParam(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function restParam(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            rest = Array(length);\n\n        while (++index < length) {\n          rest[index] = args[start + index];\n        }\n        switch (start) {\n          case 0: return func.call(this, rest);\n          case 1: return func.call(this, args[0], rest);\n          case 2: return func.call(this, args[0], args[1], rest);\n        }\n        var otherArgs = Array(start + 1);\n        index = -1;\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = rest;\n        return func.apply(this, otherArgs);\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the created\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\n     *\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/Web/JavaScript/Reference/Operators/Spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed invocations. Provide an options object to indicate\n     * that `func` should be invoked on the leading and/or trailing edge of the\n     * `wait` timeout. Subsequent calls to the throttled function return the\n     * result of the last `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, { 'leading': leading, 'maxWait': +wait, 'trailing': trailing });\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, undefined, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it's\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with up to three argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      return typeof customizer == 'function'\n        ? baseClone(value, isDeep, bindCallback(customizer, thisArg, 3))\n        : baseClone(value, isDeep);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it's invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with up to three argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      return typeof customizer == 'function'\n        ? baseClone(value, true, bindCallback(customizer, thisArg, 3))\n        : baseClone(value, true);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`, else `false`.\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    function gt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    function gte(value, other) {\n      return value >= other;\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return isObjectLike(value) && isArrayLike(value) &&\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return isObjectLike(value) && objToString.call(value) == dateTag;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it's an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !value.length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it's invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with up to\n     * three arguments: (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @alias eq\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return  result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on [`Number.isFinite`](http://ecma-international.org/ecma-262/6.0/#sec-number.isfinite).\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 which returns 'object' for typed array constructors.\n      return isObject(value) && objToString.call(value) == funcTag;\n    }\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return !!value && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it's invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize value comparisons.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\n      return baseIsMatch(object, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\n     * which returns `true` for `undefined` and other non-numeric values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (isFunction(value)) {\n        return reIsNative.test(fnToString.call(value));\n      }\n      return isObjectLike(value) && reIsHostCtor.test(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      var Ctor;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isArguments(value)) ||\n          (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return result === undefined || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return isObject(value) && objToString.call(value) == regexpTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`, else `false`.\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    function lt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to `other`, else `false`.\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    function lte(value, other) {\n      return value <= other;\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? getLength(value) : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it's invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments: (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it's invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * **Note:** This method mutates `object` and is based on\n     * [`Object.assign`](http://ecma-international.org/ecma-262/6.0/#sec-object.assign).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return _.isUndefined(value) ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(function(object, source, customizer) {\n      return customizer\n        ? assignWith(object, source, customizer)\n        : baseAssign(object, source);\n    });\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = undefined;\n      }\n      return properties ? baseAssign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var defaults = createDefaults(assign, assignDefaults);\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaultsDeep({ 'user': { 'name': 'barney' } }, { 'user': { 'name': 'fred', 'age': 36 } });\n     * // => { 'user': { 'name': 'barney', 'age': 36 } }\n     *\n     */\n    var defaultsDeep = createDefaults(merge, mergeDefaults);\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    var findKey = createFindKey(baseForOwn);\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    var findLastKey = createFindKey(baseForOwnRight);\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    var forIn = createForIn(baseFor);\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    var forInRight = createForIn(baseForRight);\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    var forOwn = createForOwn(baseForOwn);\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    var forOwnRight = createForOwn(baseForOwnRight);\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the property value at `path` of `object`. If the resolved value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, toPath(path), (path + ''));\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': { 'c': 3 } } };\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b.c');\n     * // => true\n     *\n     * _.has(object, ['a', 'b', 'c']);\n     * // => true\n     */\n    function has(object, path) {\n      if (object == null) {\n        return false;\n      }\n      var result = hasOwnProperty.call(object, path);\n      if (!result && !isKey(path)) {\n        path = toPath(path);\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n        if (object == null) {\n          return false;\n        }\n        path = last(path);\n        result = hasOwnProperty.call(object, path);\n      }\n      return result || (isLength(object.length) && isIndex(path, object.length) &&\n        (isArray(object) || isArguments(object)));\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = undefined;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      var Ctor = object == null ? undefined : object.constructor;\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && isArrayLike(object))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || isArguments(object)) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * property of `object` through `iteratee`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    var mapKeys = createObjectMapper(true);\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    var mapValues = createObjectMapper();\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    var omit = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof props[0] != 'function') {\n        var props = arrayMap(baseFlatten(props), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      var predicate = bindCallback(props[0], props[1], 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    });\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      object = toObject(object);\n\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it's invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    var pick = restParam(function(object, props) {\n      if (object == null) {\n        return {};\n      }\n      return typeof props[0] == 'function'\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\n        : pickByArray(object, baseFlatten(props));\n    });\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a function\n     * it's invoked with the `this` binding of its parent object and its result\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a.b.c', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a.b.c', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      var result = object == null ? undefined : object[path];\n      if (result === undefined) {\n        if (object != null && !isKey(path, object)) {\n          path = toPath(path);\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n          result = object == null ? undefined : object[last(path)];\n        }\n        result = result === undefined ? defaultValue : result;\n      }\n      return isFunction(result) ? result.call(object) : result;\n    }\n\n    /**\n     * Sets the property value of `path` on `object`. If a portion of `path`\n     * does not exist it's created.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to augment.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, 'x[0].y.z', 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      if (object == null) {\n        return object;\n      }\n      var pathKey = (path + '');\n      path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = path[index];\n        if (isObject(nested)) {\n          if (index == lastIndex) {\n            nested[key] = value;\n          } else if (nested[key] == null) {\n            nested[key] = isIndex(path[index + 1]) ? [] : {};\n          }\n        }\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments: (accumulator, value, key, object). Iteratee functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) ? Ctor.prototype : undefined);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it's set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= nativeMin(start, end) && value < nativeMax(start, end);\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = undefined;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n     * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\n     * for more details.\n     *\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\n     * to reduce XSS vectors.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, escapeRegExpChar)\n        : (string || '(?:)');\n    }\n\n    /**\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = nativeFloor(mid),\n          rightLength = nativeCeil(mid);\n\n      chars = createPadding('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    var padLeft = createPadDir();\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    var padRight = createPadDir(true);\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\n     * of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n      // Chrome fails to trim leading <BOM> whitespace characters.\n      // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n      if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      string = trim(string);\n      return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = undefined;\n      }\n      string = baseToString(string);\n      options = assignWith(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = assignWith(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = undefined;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = restParam(function(func, args) {\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = undefined;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function that compares the property value of `path` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred' }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, true));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` on a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': _.constant(2) } } },\n     *   { 'a': { 'b': { 'c': _.constant(1) } } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.invoke(_.sortBy(objects, _.method(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    var method = restParam(function(path, args) {\n      return function(object) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path on `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = restParam(function(object, args) {\n      return function(path) {\n        return invokePath(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj ? keys(source) : undefined,\n            methodNames = (props && props.length) ? baseFunctions(source, props) : undefined;\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__),\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\n\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              return func.apply(object, arrayPush([this.value()], arguments));\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      root._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function that returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that returns the property value at `path` on a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': { 'c': 2 } } },\n     *   { 'a': { 'b': { 'c': 1 } } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b.c'));\n     * // => [2, 1]\n     *\n     * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the property value at a given path on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return baseGet(object, toPath(path), (path + ''));\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it's\n     * set to `start` with `start` then set to `0`. If `end` is less than `start`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = undefined;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2`\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = nativeFloor(n);\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return (+augend || 0) + (+addend || 0);\n    }\n\n    /**\n     * Calculates `n` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Calculates `n` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it's invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    var max = createExtremum(gt, NEGATIVE_INFINITY);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it's invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments: (value, index, collection).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var min = createExtremum(lt, POSITIVE_INFINITY);\n\n    /**\n     * Calculates `n` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} n The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6]);\n     * // => 10\n     *\n     * _.sum({ 'a': 4, 'b': 6 });\n     * // => 10\n     *\n     * var objects = [\n     *   { 'n': 4 },\n     *   { 'n': 6 }\n     * ];\n     *\n     * _.sum(objects, function(object) {\n     *   return object.n;\n     * });\n     * // => 10\n     *\n     * // using the `_.property` callback shorthand\n     * _.sum(objects, 'n');\n     * // => 10\n     */\n    function sum(collection, iteratee, thisArg) {\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = undefined;\n      }\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return iteratee.length == 1\n        ? arraySum(isArray(collection) ? collection : toIterable(collection), iteratee)\n        : baseSum(collection, iteratee);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.modArgs = modArgs;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.restParam = restParam;\n    lodash.set = set;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.floor = floor;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.eq = isEqual;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__;\n        if (filtered && !index) {\n          return new LazyWrapper(this);\n        }\n        n = n == null ? 1 : nativeMax(nativeFloor(n) || 0, 0);\n\n        var result = this.clone();\n        if (filtered) {\n          result.__takeCount__ = nativeMin(result.__takeCount__, n);\n        } else {\n          result.__views__.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type != LAZY_MAP_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var result = this.clone();\n        result.__iteratees__.push({ 'iteratee': getCallback(iteratee, thisArg, 1), 'type': type });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : property;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate, thisArg) {\n      return this.reverse().takeWhile(predicate, thisArg).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(POSITIVE_INFINITY);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName),\n          lodashFunc = lodash[retUnwrapped ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName];\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var args = retUnwrapped ? [1] : arguments,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var interceptor = function(value) {\n          return (retUnwrapped && chainAll)\n            ? lodashFunc(value, 1)[0]\n            : lodashFunc.apply(undefined, arrayPush([value], args));\n        };\n\n        var action = { 'func': thru, 'args': [interceptor], 'thisArg': undefined },\n            onlyLazy = isLazy && !isHybrid;\n\n        if (retUnwrapped && !chainAll) {\n          if (onlyLazy) {\n            value = value.clone();\n            value.__actions__.push(action);\n            return func.call(value);\n          }\n          return lodashFunc.call(undefined, this.value())[0];\n        }\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push(action);\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Map minified function names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = (lodashFunc.name + ''),\n            names = realNames[key] || (realNames[key] = []);\n\n        names.push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybridWrapper(undefined, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': undefined }];\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.concat = wrapperConcat;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Rhino with CommonJS support.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/lodash/lodash.js\n ** module id = 57\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 58\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"723e31f389b6dd77d68545b69583256f.jpg\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/content/whatsdota.jpg\n ** module id = 59\n ** module chunks = 0\n **/","if(!global[\"dat\"]) global[\"dat\"] = {};\nmodule.exports = global[\"dat\"][\"gui\"] = require(\"-!/Users/b1ncer/shanghai-metro-ad/app/lib/dat.gui.js/build/dat.gui.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?dat.gui!./app/lib/dat.gui.js/build/dat.gui.js\n ** module id = 60\n ** module chunks = 0\n **/","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/** @namespace */\ndat = dat || {};\n\n/** @namespace */\ndat.gui = dat.gui || {};\n\n/** @namespace */\ndat.utils = dat.utils || {};\n\n/** @namespace */\ndat.controllers = dat.controllers || {};\n\n/** @namespace */\ndat.dom = dat.dom || {};\n\n/** @namespace */\ndat.color = dat.color || {};\n\ndat.utils.css = (function () {\n  return {\n    load: function (url, doc) {\n      doc = doc || document;\n      var link = doc.createElement('link');\n      link.type = 'text/css';\n      link.rel = 'stylesheet';\n      link.href = url;\n      doc.getElementsByTagName('head')[0].appendChild(link);\n    },\n    inject: function(css, doc) {\n      doc = doc || document;\n      var injected = document.createElement('style');\n      injected.type = 'text/css';\n      injected.innerHTML = css;\n      doc.getElementsByTagName('head')[0].appendChild(injected);\n    }\n  }\n})();\n\n\ndat.utils.common = (function () {\n  \n  var ARR_EACH = Array.prototype.forEach;\n  var ARR_SLICE = Array.prototype.slice;\n\n  /**\n   * Band-aid methods for things that should be a lot easier in JavaScript.\n   * Implementation and structure inspired by underscore.js\n   * http://documentcloud.github.com/underscore/\n   */\n\n  return { \n    \n    BREAK: {},\n  \n    extend: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (!this.isUndefined(obj[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n      \n    },\n    \n    defaults: function(target) {\n      \n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n        \n        for (var key in obj)\n          if (this.isUndefined(target[key])) \n            target[key] = obj[key];\n        \n      }, this);\n      \n      return target;\n    \n    },\n    \n    compose: function() {\n      var toCall = ARR_SLICE.call(arguments);\n            return function() {\n              var args = ARR_SLICE.call(arguments);\n              for (var i = toCall.length -1; i >= 0; i--) {\n                args = [toCall[i].apply(this, args)];\n              }\n              return args[0];\n            }\n    },\n    \n    each: function(obj, itr, scope) {\n\n      if (!obj) return;\n\n      if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) { \n        \n        obj.forEach(itr, scope);\n        \n      } else if (obj.length === obj.length + 0) { // Is number but not NaN\n        \n        for (var key = 0, l = obj.length; key < l; key++)\n          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) \n            return;\n            \n      } else {\n\n        for (var key in obj) \n          if (itr.call(scope, obj[key], key) === this.BREAK)\n            return;\n            \n      }\n            \n    },\n    \n    defer: function(fnc) {\n      setTimeout(fnc, 0);\n    },\n    \n    toArray: function(obj) {\n      if (obj.toArray) return obj.toArray();\n      return ARR_SLICE.call(obj);\n    },\n\n    isUndefined: function(obj) {\n      return obj === undefined;\n    },\n    \n    isNull: function(obj) {\n      return obj === null;\n    },\n    \n    isNaN: function(obj) {\n      return obj !== obj;\n    },\n    \n    isArray: Array.isArray || function(obj) {\n      return obj.constructor === Array;\n    },\n    \n    isObject: function(obj) {\n      return obj === Object(obj);\n    },\n    \n    isNumber: function(obj) {\n      return obj === obj+0;\n    },\n    \n    isString: function(obj) {\n      return obj === obj+'';\n    },\n    \n    isBoolean: function(obj) {\n      return obj === false || obj === true;\n    },\n    \n    isFunction: function(obj) {\n      return Object.prototype.toString.call(obj) === '[object Function]';\n    }\n  \n  };\n    \n})();\n\n\ndat.controllers.Controller = (function (common) {\n\n  /**\n   * @class An \"abstract\" class that represents a given property of an object.\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var Controller = function(object, property) {\n\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n\n  };\n\n  common.extend(\n\n      Controller.prototype,\n\n      /** @lends dat.controllers.Controller.prototype */\n      {\n\n        /**\n         * Specify that a function fire every time someone changes the value with\n         * this Controller.\n         *\n         * @param {Function} fnc This function will be called whenever the value\n         * is modified via this Controller.\n         * @returns {dat.controllers.Controller} this\n         */\n        onChange: function(fnc) {\n          this.__onChange = fnc;\n          return this;\n        },\n\n        /**\n         * Specify that a function fire every time someone \"finishes\" changing\n         * the value wih this Controller. Useful for values that change\n         * incrementally like numbers or strings.\n         *\n         * @param {Function} fnc This function will be called whenever\n         * someone \"finishes\" changing the value via this Controller.\n         * @returns {dat.controllers.Controller} this\n         */\n        onFinishChange: function(fnc) {\n          this.__onFinishChange = fnc;\n          return this;\n        },\n\n        /**\n         * Change the value of <code>object[property]</code>\n         *\n         * @param {Object} newValue The new value of <code>object[property]</code>\n         */\n        setValue: function(newValue) {\n          this.object[this.property] = newValue;\n          if (this.__onChange) {\n            this.__onChange.call(this, newValue);\n          }\n          this.updateDisplay();\n          return this;\n        },\n\n        /**\n         * Gets the value of <code>object[property]</code>\n         *\n         * @returns {Object} The current value of <code>object[property]</code>\n         */\n        getValue: function() {\n          return this.object[this.property];\n        },\n\n        /**\n         * Refreshes the visual display of a Controller in order to keep sync\n         * with the object's current value.\n         * @returns {dat.controllers.Controller} this\n         */\n        updateDisplay: function() {\n          return this;\n        },\n\n        /**\n         * @returns {Boolean} true if the value has deviated from initialValue\n         */\n        isModified: function() {\n          return this.initialValue !== this.getValue()\n        }\n\n      }\n\n  );\n\n  return Controller;\n\n\n})(dat.utils.common);\n\n\ndat.dom.dom = (function (common) {\n\n  var EVENT_MAP = {\n    'HTMLEvents': ['change'],\n    'MouseEvents': ['click','mousemove','mousedown','mouseup', 'mouseover'],\n    'KeyboardEvents': ['keydown']\n  };\n\n  var EVENT_MAP_INV = {};\n  common.each(EVENT_MAP, function(v, k) {\n    common.each(v, function(e) {\n      EVENT_MAP_INV[e] = k;\n    });\n  });\n\n  var CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\n  function cssValueToPixels(val) {\n\n    if (val === '0' || common.isUndefined(val)) return 0;\n\n    var match = val.match(CSS_VALUE_PIXELS);\n\n    if (!common.isNull(match)) {\n      return parseFloat(match[1]);\n    }\n\n    // TODO ...ems? %?\n\n    return 0;\n\n  }\n\n  /**\n   * @namespace\n   * @member dat.dom\n   */\n  var dom = {\n\n    /**\n     * \n     * @param elem\n     * @param selectable\n     */\n    makeSelectable: function(elem, selectable) {\n\n      if (elem === undefined || elem.style === undefined) return;\n\n      elem.onselectstart = selectable ? function() {\n        return false;\n      } : function() {\n      };\n\n      elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n      elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n      elem.unselectable = selectable ? 'on' : 'off';\n\n    },\n\n    /**\n     *\n     * @param elem\n     * @param horizontal\n     * @param vertical\n     */\n    makeFullscreen: function(elem, horizontal, vertical) {\n\n      if (common.isUndefined(horizontal)) horizontal = true;\n      if (common.isUndefined(vertical)) vertical = true;\n\n      elem.style.position = 'absolute';\n\n      if (horizontal) {\n        elem.style.left = 0;\n        elem.style.right = 0;\n      }\n      if (vertical) {\n        elem.style.top = 0;\n        elem.style.bottom = 0;\n      }\n\n    },\n\n    /**\n     *\n     * @param elem\n     * @param eventType\n     * @param params\n     */\n    fakeEvent: function(elem, eventType, params, aux) {\n      params = params || {};\n      var className = EVENT_MAP_INV[eventType];\n      if (!className) {\n        throw new Error('Event type ' + eventType + ' not supported.');\n      }\n      var evt = document.createEvent(className);\n      switch (className) {\n        case 'MouseEvents':\n          var clientX = params.x || params.clientX || 0;\n          var clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n              params.cancelable || true, window, params.clickCount || 1,\n              0, //screen X\n              0, //screen Y\n              clientX, //client X\n              clientY, //client Y\n              false, false, false, false, 0, null);\n          break;\n        case 'KeyboardEvents':\n          var init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n              params.cancelable, window,\n              params.ctrlKey, params.altKey,\n              params.shiftKey, params.metaKey,\n              params.keyCode, params.charCode);\n          break;\n        default:\n          evt.initEvent(eventType, params.bubbles || false,\n              params.cancelable || true);\n          break;\n      }\n      common.defaults(evt, aux);\n      elem.dispatchEvent(evt);\n    },\n\n    /**\n     *\n     * @param elem\n     * @param event\n     * @param func\n     * @param bool\n     */\n    bind: function(elem, event, func, bool) {\n      bool = bool || false;\n      if (elem.addEventListener)\n        elem.addEventListener(event, func, bool);\n      else if (elem.attachEvent)\n        elem.attachEvent('on' + event, func);\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param event\n     * @param func\n     * @param bool\n     */\n    unbind: function(elem, event, func, bool) {\n      bool = bool || false;\n      if (elem.removeEventListener)\n        elem.removeEventListener(event, func, bool);\n      else if (elem.detachEvent)\n        elem.detachEvent('on' + event, func);\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param className\n     */\n    addClass: function(elem, className) {\n      if (elem.className === undefined) {\n        elem.className = className;\n      } else if (elem.className !== className) {\n        var classes = elem.className.split(/ +/);\n        if (classes.indexOf(className) == -1) {\n          classes.push(className);\n          elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n        }\n      }\n      return dom;\n    },\n\n    /**\n     *\n     * @param elem\n     * @param className\n     */\n    removeClass: function(elem, className) {\n      if (className) {\n        if (elem.className === undefined) {\n          // elem.className = className;\n        } else if (elem.className === className) {\n          elem.removeAttribute('class');\n        } else {\n          var classes = elem.className.split(/ +/);\n          var index = classes.indexOf(className);\n          if (index != -1) {\n            classes.splice(index, 1);\n            elem.className = classes.join(' ');\n          }\n        }\n      } else {\n        elem.className = undefined;\n      }\n      return dom;\n    },\n\n    hasClass: function(elem, className) {\n      return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getWidth: function(elem) {\n\n      var style = getComputedStyle(elem);\n\n      return cssValueToPixels(style['border-left-width']) +\n          cssValueToPixels(style['border-right-width']) +\n          cssValueToPixels(style['padding-left']) +\n          cssValueToPixels(style['padding-right']) +\n          cssValueToPixels(style['width']);\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getHeight: function(elem) {\n\n      var style = getComputedStyle(elem);\n\n      return cssValueToPixels(style['border-top-width']) +\n          cssValueToPixels(style['border-bottom-width']) +\n          cssValueToPixels(style['padding-top']) +\n          cssValueToPixels(style['padding-bottom']) +\n          cssValueToPixels(style['height']);\n    },\n\n    /**\n     *\n     * @param elem\n     */\n    getOffset: function(elem) {\n      var offset = {left: 0, top:0};\n      if (elem.offsetParent) {\n        do {\n          offset.left += elem.offsetLeft;\n          offset.top += elem.offsetTop;\n        } while (elem = elem.offsetParent);\n      }\n      return offset;\n    },\n\n    // http://stackoverflow.com/posts/2684561/revisions\n    /**\n     * \n     * @param elem\n     */\n    isActive: function(elem) {\n      return elem === document.activeElement && ( elem.type || elem.href );\n    }\n\n  };\n\n  return dom;\n\n})(dat.utils.common);\n\n\ndat.controllers.OptionController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a select input to alter the property of an object, using a\n   * list of accepted values.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object|string[]} options A map of labels to acceptable values, or\n   * a list of acceptable string values.\n   *\n   * @member dat.controllers\n   */\n  var OptionController = function(object, property, options) {\n\n    OptionController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      var map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n\n      var opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      var desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n\n  };\n\n  OptionController.superclass = Controller;\n\n  common.extend(\n\n      OptionController.prototype,\n      Controller.prototype,\n\n      {\n\n        setValue: function(v) {\n          var toReturn = OptionController.superclass.prototype.setValue.call(this, v);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          return toReturn;\n        },\n\n        updateDisplay: function() {\n          this.__select.value = this.getValue();\n          return OptionController.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  return OptionController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.NumberController = (function (Controller, common) {\n\n  /**\n   * @class Represents a given property of an object that is a number.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object} [params] Optional parameters\n   * @param {Number} [params.min] Minimum allowed value\n   * @param {Number} [params.max] Maximum allowed value\n   * @param {Number} [params.step] Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberController = function(object, property, params) {\n\n    NumberController.superclass.call(this, object, property);\n\n    params = params || {};\n\n    this.__min = params.min;\n    this.__max = params.max;\n    this.__step = params.step;\n\n    if (common.isUndefined(this.__step)) {\n\n      if (this.initialValue == 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(this.initialValue)/Math.LN10))/10;\n      }\n\n    } else {\n\n    \tthis.__impliedStep = this.__step;\n\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n\n\n  };\n\n  NumberController.superclass = Controller;\n\n  common.extend(\n\n      NumberController.prototype,\n      Controller.prototype,\n\n      /** @lends dat.controllers.NumberController.prototype */\n      {\n\n        setValue: function(v) {\n\n          if (this.__min !== undefined && v < this.__min) {\n            v = this.__min;\n          } else if (this.__max !== undefined && v > this.__max) {\n            v = this.__max;\n          }\n\n          if (this.__step !== undefined && v % this.__step != 0) {\n            v = Math.round(v / this.__step) * this.__step;\n          }\n\n          return NumberController.superclass.prototype.setValue.call(this, v);\n\n        },\n\n        /**\n         * Specify a minimum value for <code>object[property]</code>.\n         *\n         * @param {Number} minValue The minimum value for\n         * <code>object[property]</code>\n         * @returns {dat.controllers.NumberController} this\n         */\n        min: function(v) {\n          this.__min = v;\n          return this;\n        },\n\n        /**\n         * Specify a maximum value for <code>object[property]</code>.\n         *\n         * @param {Number} maxValue The maximum value for\n         * <code>object[property]</code>\n         * @returns {dat.controllers.NumberController} this\n         */\n        max: function(v) {\n          this.__max = v;\n          return this;\n        },\n\n        /**\n         * Specify a step value that dat.controllers.NumberController\n         * increments by.\n         *\n         * @param {Number} stepValue The step value for\n         * dat.controllers.NumberController\n         * @default if minimum and maximum specified increment is 1% of the\n         * difference otherwise stepValue is 1\n         * @returns {dat.controllers.NumberController} this\n         */\n        step: function(v) {\n          this.__step = v;\n          this.__impliedStep = v;\n          this.__precision = numDecimals(v);\n          return this;\n        }\n\n      }\n\n  );\n\n  function numDecimals(x) {\n    x = x.toString();\n    if (x.indexOf('.') > -1) {\n      return x.length - x.indexOf('.') - 1;\n    } else {\n      return 0;\n    }\n  }\n\n  return NumberController;\n\n})(dat.controllers.Controller,\ndat.utils.common);\n\n\ndat.controllers.NumberControllerBox = (function (NumberController, dom, common) {\n\n  /**\n   * @class Represents a given property of an object that is a number and\n   * provides an input element with which to manipulate it.\n   *\n   * @extends dat.controllers.Controller\n   * @extends dat.controllers.NumberController\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Object} [params] Optional parameters\n   * @param {Number} [params.min] Minimum allowed value\n   * @param {Number} [params.max] Maximum allowed value\n   * @param {Number} [params.step] Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberControllerBox = function(object, property, params) {\n\n    this.__truncationSuspended = false;\n\n    NumberControllerBox.superclass.call(this, object, property, params);\n\n    var _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    var prev_y;\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n\n      // When pressing entire, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n      }\n\n    });\n\n    function onChange() {\n      var attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) _this.setValue(attempted);\n    }\n\n    function onBlur() {\n      onChange();\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prev_y = e.clientY;\n    }\n\n    function onMouseDrag(e) {\n\n      var diff = prev_y - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prev_y = e.clientY;\n\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n    }\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n\n  };\n\n  NumberControllerBox.superclass = NumberController;\n\n  common.extend(\n\n      NumberControllerBox.prototype,\n      NumberController.prototype,\n\n      {\n\n        updateDisplay: function() {\n\n          this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n          return NumberControllerBox.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  function roundToDecimal(value, decimals) {\n    var tenTo = Math.pow(10, decimals);\n    return Math.round(value * tenTo) / tenTo;\n  }\n\n  return NumberControllerBox;\n\n})(dat.controllers.NumberController,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.NumberControllerSlider = (function (NumberController, dom, css, common, styleSheet) {\n\n  /**\n   * @class Represents a given property of an object that is a number, contains\n   * a minimum and maximum, and provides a slider element with which to\n   * manipulate it. It should be noted that the slider element is made up of\n   * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n   * <code>&lt;slider&gt;</code> element.\n   *\n   * @extends dat.controllers.Controller\n   * @extends dat.controllers.NumberController\n   * \n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   * @param {Number} minValue Minimum allowed value\n   * @param {Number} maxValue Maximum allowed value\n   * @param {Number} stepValue Increment by which to change value\n   *\n   * @member dat.controllers\n   */\n  var NumberControllerSlider = function(object, property, min, max, step) {\n\n    NumberControllerSlider.superclass.call(this, object, property, { min: min, max: max, step: step });\n\n    var _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n    \n\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    \n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n\n      e.preventDefault();\n\n      var offset = dom.getOffset(_this.__background);\n      var width = dom.getWidth(_this.__background);\n      \n      _this.setValue(\n      \tmap(e.clientX, offset.left, offset.left + width, _this.__min, _this.__max)\n      );\n\n      return false;\n\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n\n  };\n\n  NumberControllerSlider.superclass = NumberController;\n\n  /**\n   * Injects default stylesheet for slider elements.\n   */\n  NumberControllerSlider.useDefaultStyles = function() {\n    css.inject(styleSheet);\n  };\n\n  common.extend(\n\n      NumberControllerSlider.prototype,\n      NumberController.prototype,\n\n      {\n\n        updateDisplay: function() {\n          var pct = (this.getValue() - this.__min)/(this.__max - this.__min);\n          this.__foreground.style.width = pct*100+'%';\n          return NumberControllerSlider.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n\n\n  );\n\n\tfunction map(v, i1, i2, o1, o2) {\n\t\treturn o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n\t}\n\n  return NumberControllerSlider;\n  \n})(dat.controllers.NumberController,\ndat.dom.dom,\ndat.utils.css,\ndat.utils.common,\n\"/**\\n * dat-gui JavaScript Controller Library\\n * http://code.google.com/p/dat-gui\\n *\\n * Copyright 2011 Data Arts Team, Google Creative Lab\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n * http://www.apache.org/licenses/LICENSE-2.0\\n */\\n\\n.slider {\\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\\n  height: 1em;\\n  border-radius: 1em;\\n  background-color: #eee;\\n  padding: 0 0.5em;\\n  overflow: hidden;\\n}\\n\\n.slider-fg {\\n  padding: 1px 0 2px 0;\\n  background-color: #aaa;\\n  height: 1em;\\n  margin-left: -0.5em;\\n  padding-right: 0.5em;\\n  border-radius: 1em 0 0 1em;\\n}\\n\\n.slider-fg:after {\\n  display: inline-block;\\n  border-radius: 1em;\\n  background-color: #fff;\\n  border:  1px solid #aaa;\\n  content: '';\\n  float: right;\\n  margin-right: -1em;\\n  margin-top: -1px;\\n  height: 0.9em;\\n  width: 0.9em;\\n}\");\n\n\ndat.controllers.FunctionController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a GUI interface to fire a specified method, a property of an object.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var FunctionController = function(object, property, text) {\n\n    FunctionController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n\n\n  };\n\n  FunctionController.superclass = Controller;\n\n  common.extend(\n\n      FunctionController.prototype,\n      Controller.prototype,\n      {\n        \n        fire: function() {\n          if (this.__onChange) {\n            this.__onChange.call(this);\n          }\n          this.getValue().call(this.object);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n        }\n      }\n\n  );\n\n  return FunctionController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.controllers.BooleanController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a checkbox input to alter the boolean property of an object.\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var BooleanController = function(object, property) {\n\n    BooleanController.superclass.call(this, object, property);\n\n    var _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n  };\n\n  BooleanController.superclass = Controller;\n\n  common.extend(\n\n      BooleanController.prototype,\n      Controller.prototype,\n\n      {\n\n        setValue: function(v) {\n          var toReturn = BooleanController.superclass.prototype.setValue.call(this, v);\n          if (this.__onFinishChange) {\n            this.__onFinishChange.call(this, this.getValue());\n          }\n          this.__prev = this.getValue();\n          return toReturn;\n        },\n\n        updateDisplay: function() {\n          \n          if (this.getValue() === true) {\n            this.__checkbox.setAttribute('checked', 'checked');\n            this.__checkbox.checked = true;    \n          } else {\n              this.__checkbox.checked = false;\n          }\n\n          return BooleanController.superclass.prototype.updateDisplay.call(this);\n\n        }\n\n\n      }\n\n  );\n\n  return BooleanController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common);\n\n\ndat.color.toString = (function (common) {\n\n  return function(color) {\n\n    if (color.a == 1 || common.isUndefined(color.a)) {\n\n      var s = color.hex.toString(16);\n      while (s.length < 6) {\n        s = '0' + s;\n      }\n\n      return '#' + s;\n\n    } else {\n\n      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';\n\n    }\n\n  }\n\n})(dat.utils.common);\n\n\ndat.color.interpret = (function (toString, common) {\n\n  var result, toReturn;\n\n  var interpret = function() {\n\n    toReturn = false;\n\n    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n\n    common.each(INTERPRETATIONS, function(family) {\n\n      if (family.litmus(original)) {\n\n        common.each(family.conversions, function(conversion, conversionName) {\n\n          result = conversion.read(original);\n\n          if (toReturn === false && result !== false) {\n            toReturn = result;\n            result.conversionName = conversionName;\n            result.conversion = conversion;\n            return common.BREAK;\n\n          }\n\n        });\n\n        return common.BREAK;\n\n      }\n\n    });\n\n    return toReturn;\n\n  };\n\n  var INTERPRETATIONS = [\n\n    // Strings\n    {\n\n      litmus: common.isString,\n\n      conversions: {\n\n        THREE_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt(\n                  '0x' +\n                      test[1].toString() + test[1].toString() +\n                      test[2].toString() + test[2].toString() +\n                      test[3].toString() + test[3].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        SIX_CHAR_HEX: {\n\n          read: function(original) {\n\n            var test = original.match(/^#([A-F0-9]{6})$/i);\n            if (test === null) return false;\n\n            return {\n              space: 'HEX',\n              hex: parseInt('0x' + test[1].toString())\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGB: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3])\n            };\n\n          },\n\n          write: toString\n\n        },\n\n        CSS_RGBA: {\n\n          read: function(original) {\n\n            var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);\n            if (test === null) return false;\n\n            return {\n              space: 'RGB',\n              r: parseFloat(test[1]),\n              g: parseFloat(test[2]),\n              b: parseFloat(test[3]),\n              a: parseFloat(test[4])\n            };\n\n          },\n\n          write: toString\n\n        }\n\n      }\n\n    },\n\n    // Numbers\n    {\n\n      litmus: common.isNumber,\n\n      conversions: {\n\n        HEX: {\n          read: function(original) {\n            return {\n              space: 'HEX',\n              hex: original,\n              conversionName: 'HEX'\n            }\n          },\n\n          write: function(color) {\n            return color.hex;\n          }\n        }\n\n      }\n\n    },\n\n    // Arrays\n    {\n\n      litmus: common.isArray,\n\n      conversions: {\n\n        RGB_ARRAY: {\n          read: function(original) {\n            if (original.length != 3) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b];\n          }\n\n        },\n\n        RGBA_ARRAY: {\n          read: function(original) {\n            if (original.length != 4) return false;\n            return {\n              space: 'RGB',\n              r: original[0],\n              g: original[1],\n              b: original[2],\n              a: original[3]\n            };\n          },\n\n          write: function(color) {\n            return [color.r, color.g, color.b, color.a];\n          }\n\n        }\n\n      }\n\n    },\n\n    // Objects\n    {\n\n      litmus: common.isObject,\n\n      conversions: {\n\n        RGBA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b,\n              a: color.a\n            }\n          }\n        },\n\n        RGB_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.r) &&\n                common.isNumber(original.g) &&\n                common.isNumber(original.b)) {\n              return {\n                space: 'RGB',\n                r: original.r,\n                g: original.g,\n                b: original.b\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              r: color.r,\n              g: color.g,\n              b: color.b\n            }\n          }\n        },\n\n        HSVA_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v) &&\n                common.isNumber(original.a)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v,\n                a: original.a\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v,\n              a: color.a\n            }\n          }\n        },\n\n        HSV_OBJ: {\n          read: function(original) {\n            if (common.isNumber(original.h) &&\n                common.isNumber(original.s) &&\n                common.isNumber(original.v)) {\n              return {\n                space: 'HSV',\n                h: original.h,\n                s: original.s,\n                v: original.v\n              }\n            }\n            return false;\n          },\n\n          write: function(color) {\n            return {\n              h: color.h,\n              s: color.s,\n              v: color.v\n            }\n          }\n\n        }\n\n      }\n\n    }\n\n\n  ];\n\n  return interpret;\n\n\n})(dat.color.toString,\ndat.utils.common);\n\n\ndat.GUI = dat.gui.GUI = (function (css, saveDialogueContents, styleSheet, controllerFactory, Controller, BooleanController, FunctionController, NumberControllerBox, NumberControllerSlider, OptionController, ColorController, requestAnimationFrame, CenteredDiv, dom, common) {\n\n  css.inject(styleSheet);\n\n  /** Outer-most className for GUI's */\n  var CSS_NAMESPACE = 'dg';\n\n  var HIDE_KEY_CODE = 72;\n\n  /** The only value shared between the JS and SCSS. Use caution. */\n  var CLOSE_BUTTON_HEIGHT = 20;\n\n  var DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\n  var SUPPORTS_LOCAL_STORAGE = (function() {\n    try {\n      return 'localStorage' in window && window['localStorage'] !== null;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  var SAVE_DIALOGUE;\n\n  /** Have we yet to create an autoPlace GUI? */\n  var auto_place_virgin = true;\n\n  /** Fixed position div that auto place GUI's go inside */\n  var auto_place_container;\n\n  /** Are we hiding the GUI's ? */\n  var hide = false;\n\n  /** GUI's which should be hidden */\n  var hideable_guis = [];\n\n  /**\n   * A lightweight controller library for JavaScript. It allows you to easily\n   * manipulate variables and fire functions on the fly.\n   * @class\n   *\n   * @member dat.gui\n   *\n   * @param {Object} [params]\n   * @param {String} [params.name] The name of this GUI.\n   * @param {Object} [params.load] JSON object representing the saved state of\n   * this GUI.\n   * @param {Boolean} [params.auto=true]\n   * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n   * @param {Boolean} [params.closed] If true, starts closed\n   */\n  var GUI = function(params) {\n\n    var _this = this;\n\n    /**\n     * Outermost DOM Element\n     * @type DOMElement\n     */\n    this.domElement = document.createElement('div');\n    this.__ul = document.createElement('ul');\n    this.domElement.appendChild(this.__ul);\n\n    dom.addClass(this.domElement, CSS_NAMESPACE);\n\n    /**\n     * Nested GUI's by name\n     * @ignore\n     */\n    this.__folders = {};\n\n    this.__controllers = [];\n\n    /**\n     * List of objects I'm remembering for save, only used in top level GUI\n     * @ignore\n     */\n    this.__rememberedObjects = [];\n\n    /**\n     * Maps the index of remembered objects to a map of controllers, only used\n     * in top level GUI.\n     *\n     * @private\n     * @ignore\n     *\n     * @example\n     * [\n     *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n     *  {\n     *    propertyName: Controller\n     *  }\n     * ]\n     */\n    this.__rememberedObjectIndecesToControllers = [];\n\n    this.__listening = [];\n\n    params = params || {};\n\n    // Default parameters\n    params = common.defaults(params, {\n      autoPlace: true,\n      width: GUI.DEFAULT_WIDTH\n    });\n\n    params = common.defaults(params, {\n      resizable: params.autoPlace,\n      hideable: params.autoPlace\n    });\n\n\n    if (!common.isUndefined(params.load)) {\n\n      // Explicit preset\n      if (params.preset) params.load.preset = params.preset;\n\n    } else {\n\n      params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n\n    }\n\n    if (common.isUndefined(params.parent) && params.hideable) {\n      hideable_guis.push(this);\n    }\n\n    // Only root level GUI's are resizable.\n    params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n\n    if (params.autoPlace && common.isUndefined(params.scrollable)) {\n      params.scrollable = true;\n    }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n    // Not part of params because I don't want people passing this in via\n    // constructor. Should be a 'remembered' value.\n    var use_local_storage =\n        SUPPORTS_LOCAL_STORAGE &&\n            localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n    var saveToLocalStorage;\n\n    Object.defineProperties(this,\n\n        /** @lends dat.gui.GUI.prototype */\n        {\n\n          /**\n           * The parent <code>GUI</code>\n           * @type dat.gui.GUI\n           */\n          parent: {\n            get: function() {\n              return params.parent;\n            }\n          },\n\n          scrollable: {\n            get: function() {\n              return params.scrollable;\n            }\n          },\n\n          /**\n           * Handles <code>GUI</code>'s element placement for you\n           * @type Boolean\n           */\n          autoPlace: {\n            get: function() {\n              return params.autoPlace;\n            }\n          },\n\n          /**\n           * The identifier for a set of saved values\n           * @type String\n           */\n          preset: {\n\n            get: function() {\n              if (_this.parent) {\n                return _this.getRoot().preset;\n              } else {\n                return params.load.preset;\n              }\n            },\n\n            set: function(v) {\n              if (_this.parent) {\n                _this.getRoot().preset = v;\n              } else {\n                params.load.preset = v;\n              }\n              setPresetSelectIndex(this);\n              _this.revert();\n            }\n\n          },\n\n          /**\n           * The width of <code>GUI</code> element\n           * @type Number\n           */\n          width: {\n            get: function() {\n              return params.width;\n            },\n            set: function(v) {\n              params.width = v;\n              setWidth(_this, v);\n            }\n          },\n\n          /**\n           * The name of <code>GUI</code>. Used for folders. i.e\n           * a folder's name\n           * @type String\n           */\n          name: {\n            get: function() {\n              return params.name;\n            },\n            set: function(v) {\n              // TODO Check for collisions among sibling folders\n              params.name = v;\n              if (title_row_name) {\n                title_row_name.innerHTML = params.name;\n              }\n            }\n          },\n\n          /**\n           * Whether the <code>GUI</code> is collapsed or not\n           * @type Boolean\n           */\n          closed: {\n            get: function() {\n              return params.closed;\n            },\n            set: function(v) {\n              params.closed = v;\n              if (params.closed) {\n                dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n              } else {\n                dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n              }\n              // For browsers that aren't going to respect the CSS transition,\n              // Lets just check our height against the window height right off\n              // the bat.\n              this.onResize();\n\n              if (_this.__closeButton) {\n                _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n              }\n            }\n          },\n\n          /**\n           * Contains all presets\n           * @type Object\n           */\n          load: {\n            get: function() {\n              return params.load;\n            }\n          },\n\n          /**\n           * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n           * <code>remember</code>ing\n           * @type Boolean\n           */\n          useLocalStorage: {\n\n            get: function() {\n              return use_local_storage;\n            },\n            set: function(bool) {\n              if (SUPPORTS_LOCAL_STORAGE) {\n                use_local_storage = bool;\n                if (bool) {\n                  dom.bind(window, 'unload', saveToLocalStorage);\n                } else {\n                  dom.unbind(window, 'unload', saveToLocalStorage);\n                }\n                localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n              }\n            }\n\n          }\n\n        });\n\n    // Are we a root level GUI?\n    if (common.isUndefined(params.parent)) {\n\n      params.closed = false;\n\n      dom.addClass(this.domElement, GUI.CLASS_MAIN);\n      dom.makeSelectable(this.domElement, false);\n\n      // Are we supposed to be loading locally?\n      if (SUPPORTS_LOCAL_STORAGE) {\n\n        if (use_local_storage) {\n\n          _this.useLocalStorage = true;\n\n          var saved_gui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n          if (saved_gui) {\n            params.load = JSON.parse(saved_gui);\n          }\n\n        }\n\n      }\n\n      this.__closeButton = document.createElement('div');\n      this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n      this.domElement.appendChild(this.__closeButton);\n\n      dom.bind(this.__closeButton, 'click', function() {\n\n        _this.closed = !_this.closed;\n\n\n      });\n\n\n      // Oh, you're a nested GUI!\n    } else {\n\n      if (params.closed === undefined) {\n        params.closed = true;\n      }\n\n      var title_row_name = document.createTextNode(params.name);\n      dom.addClass(title_row_name, 'controller-name');\n\n      var title_row = addRow(_this, title_row_name);\n\n      var on_click_title = function(e) {\n        e.preventDefault();\n        _this.closed = !_this.closed;\n        return false;\n      };\n\n      dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n      dom.addClass(title_row, 'title');\n      dom.bind(title_row, 'click', on_click_title);\n\n      if (!params.closed) {\n        this.closed = false;\n      }\n\n    }\n\n    if (params.autoPlace) {\n\n      if (common.isUndefined(params.parent)) {\n\n        if (auto_place_virgin) {\n          auto_place_container = document.createElement('div');\n          dom.addClass(auto_place_container, CSS_NAMESPACE);\n          dom.addClass(auto_place_container, GUI.CLASS_AUTO_PLACE_CONTAINER);\n          document.body.appendChild(auto_place_container);\n          auto_place_virgin = false;\n        }\n\n        // Put it in the dom for you.\n        auto_place_container.appendChild(this.domElement);\n\n        // Apply the auto styles\n        dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n\n      }\n\n\n      // Make it not elastic.\n      if (!this.parent) setWidth(_this, params.width);\n\n    }\n\n    dom.bind(window, 'resize', function() { _this.onResize() });\n    dom.bind(this.__ul, 'webkitTransitionEnd', function() { _this.onResize(); });\n    dom.bind(this.__ul, 'transitionend', function() { _this.onResize() });\n    dom.bind(this.__ul, 'oTransitionEnd', function() { _this.onResize() });\n    this.onResize();\n\n\n    if (params.resizable) {\n      addResizeHandle(this);\n    }\n\n    saveToLocalStorage = function () {\n      if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n        localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n      }\n    }\n\n    // expose this method publicly\n    this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n    var root = _this.getRoot();\n    function resetWidth() {\n\t      var root = _this.getRoot();\n\t      root.width += 1;\n\t      common.defer(function() {\n\t        root.width -= 1;\n\t      });\n\t    }\n\n\t    if (!params.parent) {\n\t      resetWidth();\n\t    }\n\n  };\n\n  GUI.toggleHide = function() {\n\n    hide = !hide;\n    common.each(hideable_guis, function(gui) {\n      gui.domElement.style.zIndex = hide ? -999 : 999;\n      gui.domElement.style.opacity = hide ? 0 : 1;\n    });\n  };\n\n  GUI.CLASS_AUTO_PLACE = 'a';\n  GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\n  GUI.CLASS_MAIN = 'main';\n  GUI.CLASS_CONTROLLER_ROW = 'cr';\n  GUI.CLASS_TOO_TALL = 'taller-than-window';\n  GUI.CLASS_CLOSED = 'closed';\n  GUI.CLASS_CLOSE_BUTTON = 'close-button';\n  GUI.CLASS_DRAG = 'drag';\n\n  GUI.DEFAULT_WIDTH = 245;\n  GUI.TEXT_CLOSED = 'Close Controls';\n  GUI.TEXT_OPEN = 'Open Controls';\n\n  dom.bind(window, 'keydown', function(e) {\n\n    if (document.activeElement.type !== 'text' &&\n        (e.which === HIDE_KEY_CODE || e.keyCode == HIDE_KEY_CODE)) {\n      GUI.toggleHide();\n    }\n\n  }, false);\n\n  common.extend(\n\n      GUI.prototype,\n\n      /** @lends dat.gui.GUI */\n      {\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.Controller} The new controller that was added.\n         * @instance\n         */\n        add: function(object, property) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                factoryArgs: Array.prototype.slice.call(arguments, 2)\n              }\n          );\n\n        },\n\n        /**\n         * @param object\n         * @param property\n         * @returns {dat.controllers.ColorController} The new controller that was added.\n         * @instance\n         */\n        addColor: function(object, property) {\n\n          return add(\n              this,\n              object,\n              property,\n              {\n                color: true\n              }\n          );\n\n        },\n\n        /**\n         * @param controller\n         * @instance\n         */\n        remove: function(controller) {\n\n          // TODO listening?\n          this.__ul.removeChild(controller.__li);\n          this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n          var _this = this;\n          common.defer(function() {\n            _this.onResize();\n          });\n\n        },\n\n        destroy: function() {\n\n          if (this.autoPlace) {\n            auto_place_container.removeChild(this.domElement);\n          }\n\n        },\n\n        /**\n         * @param name\n         * @returns {dat.gui.GUI} The new folder.\n         * @throws {Error} if this GUI already has a folder by the specified\n         * name\n         * @instance\n         */\n        addFolder: function(name) {\n\n          // We have to prevent collisions on names in order to have a key\n          // by which to remember saved values\n          if (this.__folders[name] !== undefined) {\n            throw new Error('You already have a folder in this GUI by the' +\n                ' name \"' + name + '\"');\n          }\n\n          var new_gui_params = { name: name, parent: this };\n\n          // We need to pass down the autoPlace trait so that we can\n          // attach event listeners to open/close folder actions to\n          // ensure that a scrollbar appears if the window is too short.\n          new_gui_params.autoPlace = this.autoPlace;\n\n          // Do we have saved appearance data for this folder?\n\n          if (this.load && // Anything loaded?\n              this.load.folders && // Was my parent a dead-end?\n              this.load.folders[name]) { // Did daddy remember me?\n\n            // Start me closed if I was closed\n            new_gui_params.closed = this.load.folders[name].closed;\n\n            // Pass down the loaded data\n            new_gui_params.load = this.load.folders[name];\n\n          }\n\n          var gui = new GUI(new_gui_params);\n          this.__folders[name] = gui;\n\n          var li = addRow(this, gui.domElement);\n          dom.addClass(li, 'folder');\n          return gui;\n\n        },\n\n        open: function() {\n          this.closed = false;\n        },\n\n        close: function() {\n          this.closed = true;\n        },\n\n        onResize: function() {\n\n          var root = this.getRoot();\n\n          if (root.scrollable) {\n\n            var top = dom.getOffset(root.__ul).top;\n            var h = 0;\n\n            common.each(root.__ul.childNodes, function(node) {\n              if (! (root.autoPlace && node === root.__save_row))\n                h += dom.getHeight(node);\n            });\n\n            if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n              dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n              root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n            } else {\n              dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n              root.__ul.style.height = 'auto';\n            }\n\n          }\n\n          if (root.__resize_handle) {\n            common.defer(function() {\n              root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n            });\n          }\n\n          if (root.__closeButton) {\n            root.__closeButton.style.width = root.width + 'px';\n          }\n\n        },\n\n        /**\n         * Mark objects for saving. The order of these objects cannot change as\n         * the GUI grows. When remembering new objects, append them to the end\n         * of the list.\n         *\n         * @param {Object...} objects\n         * @throws {Error} if not called on a top level GUI.\n         * @instance\n         */\n        remember: function() {\n\n          if (common.isUndefined(SAVE_DIALOGUE)) {\n            SAVE_DIALOGUE = new CenteredDiv();\n            SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n          }\n\n          if (this.parent) {\n            throw new Error(\"You can only call remember on a top level GUI.\");\n          }\n\n          var _this = this;\n\n          common.each(Array.prototype.slice.call(arguments), function(object) {\n            if (_this.__rememberedObjects.length == 0) {\n              addSaveMenu(_this);\n            }\n            if (_this.__rememberedObjects.indexOf(object) == -1) {\n              _this.__rememberedObjects.push(object);\n            }\n          });\n\n          if (this.autoPlace) {\n            // Set save row width\n            setWidth(this, this.width);\n          }\n\n        },\n\n        /**\n         * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n         * @instance\n         */\n        getRoot: function() {\n          var gui = this;\n          while (gui.parent) {\n            gui = gui.parent;\n          }\n          return gui;\n        },\n\n        /**\n         * @returns {Object} a JSON object representing the current state of\n         * this GUI as well as its remembered properties.\n         * @instance\n         */\n        getSaveObject: function() {\n\n          var toReturn = this.load;\n\n          toReturn.closed = this.closed;\n\n          // Am I remembering any values?\n          if (this.__rememberedObjects.length > 0) {\n\n            toReturn.preset = this.preset;\n\n            if (!toReturn.remembered) {\n              toReturn.remembered = {};\n            }\n\n            toReturn.remembered[this.preset] = getCurrentPreset(this);\n\n          }\n\n          toReturn.folders = {};\n          common.each(this.__folders, function(element, key) {\n            toReturn.folders[key] = element.getSaveObject();\n          });\n\n          return toReturn;\n\n        },\n\n        save: function() {\n\n          if (!this.load.remembered) {\n            this.load.remembered = {};\n          }\n\n          this.load.remembered[this.preset] = getCurrentPreset(this);\n          markPresetModified(this, false);\n          this.saveToLocalStorageIfPossible();\n\n        },\n\n        saveAs: function(presetName) {\n\n          if (!this.load.remembered) {\n\n            // Retain default values upon first save\n            this.load.remembered = {};\n            this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n\n          }\n\n          this.load.remembered[presetName] = getCurrentPreset(this);\n          this.preset = presetName;\n          addPresetOption(this, presetName, true);\n          this.saveToLocalStorageIfPossible();\n\n        },\n\n        revert: function(gui) {\n\n          common.each(this.__controllers, function(controller) {\n            // Make revert work on Default.\n            if (!this.getRoot().load.remembered) {\n              controller.setValue(controller.initialValue);\n            } else {\n              recallSavedValue(gui || this.getRoot(), controller);\n            }\n          }, this);\n\n          common.each(this.__folders, function(folder) {\n            folder.revert(folder);\n          });\n\n          if (!gui) {\n            markPresetModified(this.getRoot(), false);\n          }\n\n\n        },\n\n        listen: function(controller) {\n\n          var init = this.__listening.length == 0;\n          this.__listening.push(controller);\n          if (init) updateDisplays(this.__listening);\n\n        }\n\n      }\n\n  );\n\n  function add(gui, object, property, params) {\n\n    if (object[property] === undefined) {\n      throw new Error(\"Object \" + object + \" has no property \\\"\" + property + \"\\\"\");\n    }\n\n    var controller;\n\n    if (params.color) {\n\n      controller = new ColorController(object, property);\n\n    } else {\n\n      var factoryArgs = [object,property].concat(params.factoryArgs);\n      controller = controllerFactory.apply(gui, factoryArgs);\n\n    }\n\n    if (params.before instanceof Controller) {\n      params.before = params.before.__li;\n    }\n\n    recallSavedValue(gui, controller);\n\n    dom.addClass(controller.domElement, 'c');\n\n    var name = document.createElement('span');\n    dom.addClass(name, 'property-name');\n    name.innerHTML = controller.property;\n\n    var container = document.createElement('div');\n    container.appendChild(name);\n    container.appendChild(controller.domElement);\n\n    var li = addRow(gui, container, params.before);\n\n    dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n    dom.addClass(li, typeof controller.getValue());\n\n    augmentController(gui, li, controller);\n\n    gui.__controllers.push(controller);\n\n    return controller;\n\n  }\n\n  /**\n   * Add a row to the end of the GUI or before another row.\n   *\n   * @param gui\n   * @param [dom] If specified, inserts the dom content in the new row\n   * @param [liBefore] If specified, places the new row before another row\n   */\n  function addRow(gui, dom, liBefore) {\n    var li = document.createElement('li');\n    if (dom) li.appendChild(dom);\n    if (liBefore) {\n      gui.__ul.insertBefore(li, params.before);\n    } else {\n      gui.__ul.appendChild(li);\n    }\n    gui.onResize();\n    return li;\n  }\n\n  function augmentController(gui, li, controller) {\n\n    controller.__li = li;\n    controller.__gui = gui;\n\n    common.extend(controller, {\n\n      options: function(options) {\n\n        if (arguments.length > 1) {\n          controller.remove();\n\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [common.toArray(arguments)]\n              }\n          );\n\n        }\n\n        if (common.isArray(options) || common.isObject(options)) {\n          controller.remove();\n\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [options]\n              }\n          );\n\n        }\n\n      },\n\n      name: function(v) {\n        controller.__li.firstElementChild.firstElementChild.innerHTML = v;\n        return controller;\n      },\n\n      listen: function() {\n        controller.__gui.listen(controller);\n        return controller;\n      },\n\n      remove: function() {\n        controller.__gui.remove(controller);\n        return controller;\n      }\n\n    });\n\n    // All sliders should be accompanied by a box.\n    if (controller instanceof NumberControllerSlider) {\n\n      var box = new NumberControllerBox(controller.object, controller.property,\n          { min: controller.__min, max: controller.__max, step: controller.__step });\n\n      common.each(['updateDisplay', 'onChange', 'onFinishChange'], function(method) {\n        var pc = controller[method];\n        var pb = box[method];\n        controller[method] = box[method] = function() {\n          var args = Array.prototype.slice.call(arguments);\n          pc.apply(controller, args);\n          return pb.apply(box, args);\n        }\n      });\n\n      dom.addClass(li, 'has-slider');\n      controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n\n    }\n    else if (controller instanceof NumberControllerBox) {\n\n      var r = function(returned) {\n\n        // Have we defined both boundaries?\n        if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n\n          // Well, then lets just replace this with a slider.\n          controller.remove();\n          return add(\n              gui,\n              controller.object,\n              controller.property,\n              {\n                before: controller.__li.nextElementSibling,\n                factoryArgs: [controller.__min, controller.__max, controller.__step]\n              });\n\n        }\n\n        return returned;\n\n      };\n\n      controller.min = common.compose(r, controller.min);\n      controller.max = common.compose(r, controller.max);\n\n    }\n    else if (controller instanceof BooleanController) {\n\n      dom.bind(li, 'click', function() {\n        dom.fakeEvent(controller.__checkbox, 'click');\n      });\n\n      dom.bind(controller.__checkbox, 'click', function(e) {\n        e.stopPropagation(); // Prevents double-toggle\n      })\n\n    }\n    else if (controller instanceof FunctionController) {\n\n      dom.bind(li, 'click', function() {\n        dom.fakeEvent(controller.__button, 'click');\n      });\n\n      dom.bind(li, 'mouseover', function() {\n        dom.addClass(controller.__button, 'hover');\n      });\n\n      dom.bind(li, 'mouseout', function() {\n        dom.removeClass(controller.__button, 'hover');\n      });\n\n    }\n    else if (controller instanceof ColorController) {\n\n      dom.addClass(li, 'color');\n      controller.updateDisplay = common.compose(function(r) {\n        li.style.borderLeftColor = controller.__color.toString();\n        return r;\n      }, controller.updateDisplay);\n\n      controller.updateDisplay();\n\n    }\n\n    controller.setValue = common.compose(function(r) {\n      if (gui.getRoot().__preset_select && controller.isModified()) {\n        markPresetModified(gui.getRoot(), true);\n      }\n      return r;\n    }, controller.setValue);\n\n  }\n\n  function recallSavedValue(gui, controller) {\n\n    // Find the topmost GUI, that's where remembered objects live.\n    var root = gui.getRoot();\n\n    // Does the object we're controlling match anything we've been told to\n    // remember?\n    var matched_index = root.__rememberedObjects.indexOf(controller.object);\n\n    // Why yes, it does!\n    if (matched_index != -1) {\n\n      // Let me fetch a map of controllers for thcommon.isObject.\n      var controller_map =\n          root.__rememberedObjectIndecesToControllers[matched_index];\n\n      // Ohp, I believe this is the first controller we've created for this\n      // object. Lets make the map fresh.\n      if (controller_map === undefined) {\n        controller_map = {};\n        root.__rememberedObjectIndecesToControllers[matched_index] =\n            controller_map;\n      }\n\n      // Keep track of this controller\n      controller_map[controller.property] = controller;\n\n      // Okay, now have we saved any values for this controller?\n      if (root.load && root.load.remembered) {\n\n        var preset_map = root.load.remembered;\n\n        // Which preset are we trying to load?\n        var preset;\n\n        if (preset_map[gui.preset]) {\n\n          preset = preset_map[gui.preset];\n\n        } else if (preset_map[DEFAULT_DEFAULT_PRESET_NAME]) {\n\n          // Uhh, you can have the default instead?\n          preset = preset_map[DEFAULT_DEFAULT_PRESET_NAME];\n\n        } else {\n\n          // Nada.\n\n          return;\n\n        }\n\n\n        // Did the loaded object remember thcommon.isObject?\n        if (preset[matched_index] &&\n\n          // Did we remember this particular property?\n            preset[matched_index][controller.property] !== undefined) {\n\n          // We did remember something for this guy ...\n          var value = preset[matched_index][controller.property];\n\n          // And that's what it is.\n          controller.initialValue = value;\n          controller.setValue(value);\n\n        }\n\n      }\n\n    }\n\n  }\n\n  function getLocalStorageHash(gui, key) {\n    // TODO how does this deal with multiple GUI's?\n    return document.location.href + '.' + key;\n\n  }\n\n  function addSaveMenu(gui) {\n\n    var div = gui.__save_row = document.createElement('li');\n\n    dom.addClass(gui.domElement, 'has-save');\n\n    gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n    dom.addClass(div, 'save-row');\n\n    var gears = document.createElement('span');\n    gears.innerHTML = '&nbsp;';\n    dom.addClass(gears, 'button gears');\n\n    // TODO replace with FunctionController\n    var button = document.createElement('span');\n    button.innerHTML = 'Save';\n    dom.addClass(button, 'button');\n    dom.addClass(button, 'save');\n\n    var button2 = document.createElement('span');\n    button2.innerHTML = 'New';\n    dom.addClass(button2, 'button');\n    dom.addClass(button2, 'save-as');\n\n    var button3 = document.createElement('span');\n    button3.innerHTML = 'Revert';\n    dom.addClass(button3, 'button');\n    dom.addClass(button3, 'revert');\n\n    var select = gui.__preset_select = document.createElement('select');\n\n    if (gui.load && gui.load.remembered) {\n\n      common.each(gui.load.remembered, function(value, key) {\n        addPresetOption(gui, key, key == gui.preset);\n      });\n\n    } else {\n      addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n    }\n\n    dom.bind(select, 'change', function() {\n\n\n      for (var index = 0; index < gui.__preset_select.length; index++) {\n        gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n      }\n\n      gui.preset = this.value;\n\n    });\n\n    div.appendChild(select);\n    div.appendChild(gears);\n    div.appendChild(button);\n    div.appendChild(button2);\n    div.appendChild(button3);\n\n    if (SUPPORTS_LOCAL_STORAGE) {\n\n      var saveLocally = document.getElementById('dg-save-locally');\n      var explain = document.getElementById('dg-local-explain');\n\n      saveLocally.style.display = 'block';\n\n      var localStorageCheckBox = document.getElementById('dg-local-storage');\n\n      if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n        localStorageCheckBox.setAttribute('checked', 'checked');\n      }\n\n      function showHideExplain() {\n        explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n      }\n\n      showHideExplain();\n\n      // TODO: Use a boolean controller, fool!\n      dom.bind(localStorageCheckBox, 'change', function() {\n        gui.useLocalStorage = !gui.useLocalStorage;\n        showHideExplain();\n      });\n\n    }\n\n    var newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n    dom.bind(newConstructorTextArea, 'keydown', function(e) {\n      if (e.metaKey && (e.which === 67 || e.keyCode == 67)) {\n        SAVE_DIALOGUE.hide();\n      }\n    });\n\n    dom.bind(gears, 'click', function() {\n      newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n      SAVE_DIALOGUE.show();\n      newConstructorTextArea.focus();\n      newConstructorTextArea.select();\n    });\n\n    dom.bind(button, 'click', function() {\n      gui.save();\n    });\n\n    dom.bind(button2, 'click', function() {\n      var presetName = prompt('Enter a new preset name.');\n      if (presetName) gui.saveAs(presetName);\n    });\n\n    dom.bind(button3, 'click', function() {\n      gui.revert();\n    });\n\n//    div.appendChild(button2);\n\n  }\n\n  function addResizeHandle(gui) {\n\n    gui.__resize_handle = document.createElement('div');\n\n    common.extend(gui.__resize_handle.style, {\n\n      width: '6px',\n      marginLeft: '-3px',\n      height: '200px',\n      cursor: 'ew-resize',\n      position: 'absolute'\n//      border: '1px solid blue'\n\n    });\n\n    var pmouseX;\n\n    dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n    dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n    gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n\n    function dragStart(e) {\n\n      e.preventDefault();\n\n      pmouseX = e.clientX;\n\n      dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n      dom.bind(window, 'mousemove', drag);\n      dom.bind(window, 'mouseup', dragStop);\n\n      return false;\n\n    }\n\n    function drag(e) {\n\n      e.preventDefault();\n\n      gui.width += pmouseX - e.clientX;\n      gui.onResize();\n      pmouseX = e.clientX;\n\n      return false;\n\n    }\n\n    function dragStop() {\n\n      dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n      dom.unbind(window, 'mousemove', drag);\n      dom.unbind(window, 'mouseup', dragStop);\n\n    }\n\n  }\n\n  function setWidth(gui, w) {\n    gui.domElement.style.width = w + 'px';\n    // Auto placed save-rows are position fixed, so we have to\n    // set the width manually if we want it to bleed to the edge\n    if (gui.__save_row && gui.autoPlace) {\n      gui.__save_row.style.width = w + 'px';\n    }if (gui.__closeButton) {\n      gui.__closeButton.style.width = w + 'px';\n    }\n  }\n\n  function getCurrentPreset(gui, useInitialValues) {\n\n    var toReturn = {};\n\n    // For each object I'm remembering\n    common.each(gui.__rememberedObjects, function(val, index) {\n\n      var saved_values = {};\n\n      // The controllers I've made for thcommon.isObject by property\n      var controller_map =\n          gui.__rememberedObjectIndecesToControllers[index];\n\n      // Remember each value for each property\n      common.each(controller_map, function(controller, property) {\n        saved_values[property] = useInitialValues ? controller.initialValue : controller.getValue();\n      });\n\n      // Save the values for thcommon.isObject\n      toReturn[index] = saved_values;\n\n    });\n\n    return toReturn;\n\n  }\n\n  function addPresetOption(gui, name, setSelected) {\n    var opt = document.createElement('option');\n    opt.innerHTML = name;\n    opt.value = name;\n    gui.__preset_select.appendChild(opt);\n    if (setSelected) {\n      gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n    }\n  }\n\n  function setPresetSelectIndex(gui) {\n    for (var index = 0; index < gui.__preset_select.length; index++) {\n      if (gui.__preset_select[index].value == gui.preset) {\n        gui.__preset_select.selectedIndex = index;\n      }\n    }\n  }\n\n  function markPresetModified(gui, modified) {\n    var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n//    console.log('mark', modified, opt);\n    if (modified) {\n      opt.innerHTML = opt.value + \"*\";\n    } else {\n      opt.innerHTML = opt.value;\n    }\n  }\n\n  function updateDisplays(controllerArray) {\n\n\n    if (controllerArray.length != 0) {\n\n      requestAnimationFrame(function() {\n        updateDisplays(controllerArray);\n      });\n\n    }\n\n    common.each(controllerArray, function(c) {\n      c.updateDisplay();\n    });\n\n  }\n\n  return GUI;\n\n})(dat.utils.css,\n\"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n      \\n    </div>\\n    \\n  </div>\\n\\n</div>\",\n\".dg {\\n  /** Clear list styles */\\n  /* Auto-place container */\\n  /* Auto-placed GUI's */\\n  /* Line items that don't contain folders. */\\n  /** Folder names */\\n  /** Hides closed items */\\n  /** Controller row */\\n  /** Name-half (left) */\\n  /** Controller-half (right) */\\n  /** Controller placement */\\n  /** Shorter number boxes when slider is present. */\\n  /** Ensure the entire boolean and function row shows a hand */ }\\n  .dg ul {\\n    list-style: none;\\n    margin: 0;\\n    padding: 0;\\n    width: 100%;\\n    clear: both; }\\n  .dg.ac {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    height: 0;\\n    z-index: 0; }\\n  .dg:not(.ac) .main {\\n    /** Exclude mains in ac so that we don't hide close button */\\n    overflow: hidden; }\\n  .dg.main {\\n    -webkit-transition: opacity 0.1s linear;\\n    -o-transition: opacity 0.1s linear;\\n    -moz-transition: opacity 0.1s linear;\\n    transition: opacity 0.1s linear; }\\n    .dg.main.taller-than-window {\\n      overflow-y: auto; }\\n      .dg.main.taller-than-window .close-button {\\n        opacity: 1;\\n        /* TODO, these are style notes */\\n        margin-top: -1px;\\n        border-top: 1px solid #2c2c2c; }\\n    .dg.main ul.closed .close-button {\\n      opacity: 1 !important; }\\n    .dg.main:hover .close-button,\\n    .dg.main .close-button.drag {\\n      opacity: 1; }\\n    .dg.main .close-button {\\n      /*opacity: 0;*/\\n      -webkit-transition: opacity 0.1s linear;\\n      -o-transition: opacity 0.1s linear;\\n      -moz-transition: opacity 0.1s linear;\\n      transition: opacity 0.1s linear;\\n      border: 0;\\n      position: absolute;\\n      line-height: 19px;\\n      height: 20px;\\n      /* TODO, these are style notes */\\n      cursor: pointer;\\n      text-align: center;\\n      background-color: #000; }\\n      .dg.main .close-button:hover {\\n        background-color: #111; }\\n  .dg.a {\\n    float: right;\\n    margin-right: 15px;\\n    overflow-x: hidden; }\\n    .dg.a.has-save > ul {\\n      margin-top: 27px; }\\n      .dg.a.has-save > ul.closed {\\n        margin-top: 0; }\\n    .dg.a .save-row {\\n      position: fixed;\\n      top: 0;\\n      z-index: 1002; }\\n  .dg li {\\n    -webkit-transition: height 0.1s ease-out;\\n    -o-transition: height 0.1s ease-out;\\n    -moz-transition: height 0.1s ease-out;\\n    transition: height 0.1s ease-out; }\\n  .dg li:not(.folder) {\\n    cursor: auto;\\n    height: 27px;\\n    line-height: 27px;\\n    overflow: hidden;\\n    padding: 0 4px 0 5px; }\\n  .dg li.folder {\\n    padding: 0;\\n    border-left: 4px solid rgba(0, 0, 0, 0); }\\n  .dg li.title {\\n    cursor: pointer;\\n    margin-left: -4px; }\\n  .dg .closed li:not(.title),\\n  .dg .closed ul li,\\n  .dg .closed ul li > * {\\n    height: 0;\\n    overflow: hidden;\\n    border: 0; }\\n  .dg .cr {\\n    clear: both;\\n    padding-left: 3px;\\n    height: 27px; }\\n  .dg .property-name {\\n    cursor: default;\\n    float: left;\\n    clear: left;\\n    width: 40%;\\n    overflow: hidden;\\n    text-overflow: ellipsis; }\\n  .dg .c {\\n    float: left;\\n    width: 60%; }\\n  .dg .c input[type=text] {\\n    border: 0;\\n    margin-top: 4px;\\n    padding: 3px;\\n    width: 100%;\\n    float: right; }\\n  .dg .has-slider input[type=text] {\\n    width: 30%;\\n    /*display: none;*/\\n    margin-left: 0; }\\n  .dg .slider {\\n    float: left;\\n    width: 66%;\\n    margin-left: -5px;\\n    margin-right: 0;\\n    height: 19px;\\n    margin-top: 4px; }\\n  .dg .slider-fg {\\n    height: 100%; }\\n  .dg .c input[type=checkbox] {\\n    margin-top: 9px; }\\n  .dg .c select {\\n    margin-top: 5px; }\\n  .dg .cr.function,\\n  .dg .cr.function .property-name,\\n  .dg .cr.function *,\\n  .dg .cr.boolean,\\n  .dg .cr.boolean * {\\n    cursor: pointer; }\\n  .dg .selector {\\n    display: none;\\n    position: absolute;\\n    margin-left: -9px;\\n    margin-top: 23px;\\n    z-index: 10; }\\n  .dg .c:hover .selector,\\n  .dg .selector.drag {\\n    display: block; }\\n  .dg li.save-row {\\n    padding: 0; }\\n    .dg li.save-row .button {\\n      display: inline-block;\\n      padding: 0px 6px; }\\n  .dg.dialogue {\\n    background-color: #222;\\n    width: 460px;\\n    padding: 15px;\\n    font-size: 13px;\\n    line-height: 15px; }\\n\\n/* TODO Separate style and structure */\\n#dg-new-constructor {\\n  padding: 10px;\\n  color: #222;\\n  font-family: Monaco, monospace;\\n  font-size: 10px;\\n  border: 0;\\n  resize: none;\\n  box-shadow: inset 1px 1px 1px #888;\\n  word-wrap: break-word;\\n  margin: 12px 0;\\n  display: block;\\n  width: 440px;\\n  overflow-y: scroll;\\n  height: 100px;\\n  position: relative; }\\n\\n#dg-local-explain {\\n  display: none;\\n  font-size: 11px;\\n  line-height: 17px;\\n  border-radius: 3px;\\n  background-color: #333;\\n  padding: 8px;\\n  margin-top: 10px; }\\n  #dg-local-explain code {\\n    font-size: 10px; }\\n\\n#dat-gui-save-locally {\\n  display: none; }\\n\\n/** Main type */\\n.dg {\\n  color: #eee;\\n  font: 11px 'Lucida Grande', sans-serif;\\n  text-shadow: 0 -1px 0 #111;\\n  /** Auto place */\\n  /* Controller row, <li> */\\n  /** Controllers */ }\\n  .dg.main {\\n    /** Scrollbar */ }\\n    .dg.main::-webkit-scrollbar {\\n      width: 5px;\\n      background: #1a1a1a; }\\n    .dg.main::-webkit-scrollbar-corner {\\n      height: 0;\\n      display: none; }\\n    .dg.main::-webkit-scrollbar-thumb {\\n      border-radius: 5px;\\n      background: #676767; }\\n  .dg li:not(.folder) {\\n    background: #1a1a1a;\\n    border-bottom: 1px solid #2c2c2c; }\\n  .dg li.save-row {\\n    line-height: 25px;\\n    background: #dad5cb;\\n    border: 0; }\\n    .dg li.save-row select {\\n      margin-left: 5px;\\n      width: 108px; }\\n    .dg li.save-row .button {\\n      margin-left: 5px;\\n      margin-top: 1px;\\n      border-radius: 2px;\\n      font-size: 9px;\\n      line-height: 7px;\\n      padding: 4px 4px 5px 4px;\\n      background: #c5bdad;\\n      color: #fff;\\n      text-shadow: 0 1px 0 #b0a58f;\\n      box-shadow: 0 -1px 0 #b0a58f;\\n      cursor: pointer; }\\n      .dg li.save-row .button.gears {\\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\\n        height: 7px;\\n        width: 8px; }\\n      .dg li.save-row .button:hover {\\n        background-color: #bab19e;\\n        box-shadow: 0 -1px 0 #b0a58f; }\\n  .dg li.folder {\\n    border-bottom: 0; }\\n  .dg li.title {\\n    padding-left: 16px;\\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\\n    cursor: pointer;\\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\\n  .dg .closed li.title {\\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\\n  .dg .cr.boolean {\\n    border-left: 3px solid #806787; }\\n  .dg .cr.function {\\n    border-left: 3px solid #e61d5f; }\\n  .dg .cr.number {\\n    border-left: 3px solid #2fa1d6; }\\n    .dg .cr.number input[type=text] {\\n      color: #2fa1d6; }\\n  .dg .cr.string {\\n    border-left: 3px solid #1ed36f; }\\n    .dg .cr.string input[type=text] {\\n      color: #1ed36f; }\\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\\n    background: #111; }\\n  .dg .c input[type=text] {\\n    background: #303030;\\n    outline: none; }\\n    .dg .c input[type=text]:hover {\\n      background: #3c3c3c; }\\n    .dg .c input[type=text]:focus {\\n      background: #494949;\\n      color: #fff; }\\n  .dg .c .slider {\\n    background: #303030;\\n    cursor: ew-resize; }\\n  .dg .c .slider-fg {\\n    background: #2fa1d6; }\\n  .dg .c .slider:hover {\\n    background: #3c3c3c; }\\n    .dg .c .slider:hover .slider-fg {\\n      background: #44abda; }\\n\",\ndat.controllers.factory = (function (OptionController, NumberControllerBox, NumberControllerSlider, StringController, FunctionController, BooleanController, common) {\n\n      return function(object, property) {\n\n        var initialValue = object[property];\n\n        // Providing options?\n        if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n          return new OptionController(object, property, arguments[2]);\n        }\n\n        // Providing a map?\n\n        if (common.isNumber(initialValue)) {\n\n          if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n\n            // Has min and max.\n            return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n\n          } else {\n\n            return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n\n          }\n\n        }\n\n        if (common.isString(initialValue)) {\n          return new StringController(object, property);\n        }\n\n        if (common.isFunction(initialValue)) {\n          return new FunctionController(object, property, '');\n        }\n\n        if (common.isBoolean(initialValue)) {\n          return new BooleanController(object, property);\n        }\n\n      }\n\n    })(dat.controllers.OptionController,\ndat.controllers.NumberControllerBox,\ndat.controllers.NumberControllerSlider,\ndat.controllers.StringController = (function (Controller, dom, common) {\n\n  /**\n   * @class Provides a text input to alter the string property of an object.\n   *\n   * @extends dat.controllers.Controller\n   *\n   * @param {Object} object The object to be manipulated\n   * @param {string} property The name of the property to be manipulated\n   *\n   * @member dat.controllers\n   */\n  var StringController = function(object, property) {\n\n    StringController.superclass.call(this, object, property);\n\n    var _this = this;\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n    \n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n\n  };\n\n  StringController.superclass = Controller;\n\n  common.extend(\n\n      StringController.prototype,\n      Controller.prototype,\n\n      {\n\n        updateDisplay: function() {\n          // Stops the caret from moving on account of:\n          // keyup -> setValue -> updateDisplay\n          if (!dom.isActive(this.__input)) {\n            this.__input.value = this.getValue();\n          }\n          return StringController.superclass.prototype.updateDisplay.call(this);\n        }\n\n      }\n\n  );\n\n  return StringController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.utils.common),\ndat.controllers.FunctionController,\ndat.controllers.BooleanController,\ndat.utils.common),\ndat.controllers.Controller,\ndat.controllers.BooleanController,\ndat.controllers.FunctionController,\ndat.controllers.NumberControllerBox,\ndat.controllers.NumberControllerSlider,\ndat.controllers.OptionController,\ndat.controllers.ColorController = (function (Controller, dom, Color, interpret, common) {\n\n  var ColorController = function(object, property) {\n\n    ColorController.superclass.call(this, object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    var _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(e) {\n\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(e) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n\n    });\n\n    var value_field = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < .5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n    \n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(value_field.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n    \n    linearGradient(value_field, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      display: 'inline-block',\n      border: '1px solid #555',\n      cursor: 'ns-resize'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', function(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'mouseup', unbindH);\n    });\n\n    function fieldDown(e) {\n      setSV(e);\n      // document.body.style.cursor = 'none';\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'mouseup', unbindSV);\n    }\n\n    function unbindSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'mouseup', unbindSV);\n      // document.body.style.cursor = 'default';\n    }\n\n    function onBlur() {\n      var i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function unbindH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'mouseup', unbindH);\n    }\n\n    this.__saturation_field.appendChild(value_field);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n\n      e.preventDefault();\n\n      var w = dom.getWidth(_this.__saturation_field);\n      var o = dom.getOffset(_this.__saturation_field);\n      var s = (e.clientX - o.left + document.body.scrollLeft) / w;\n      var v = 1 - (e.clientY - o.top + document.body.scrollTop) / w;\n\n      if (v > 1) v = 1;\n      else if (v < 0) v = 0;\n\n      if (s > 1) s = 1;\n      else if (s < 0) s = 0;\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n\n    }\n\n    function setH(e) {\n\n      e.preventDefault();\n\n      var s = dom.getHeight(_this.__hue_field);\n      var o = dom.getOffset(_this.__hue_field);\n      var h = 1 - (e.clientY - o.top + document.body.scrollTop) / s;\n\n      if (h > 1) h = 1;\n      else if (h < 0) h = 0;\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n\n    }\n\n  };\n\n  ColorController.superclass = Controller;\n\n  common.extend(\n\n      ColorController.prototype,\n      Controller.prototype,\n\n      {\n\n        updateDisplay: function() {\n\n          var i = interpret(this.getValue());\n\n          if (i !== false) {\n\n            var mismatch = false;\n\n            // Check for mismatch on the interpreted value.\n\n            common.each(Color.COMPONENTS, function(component) {\n              if (!common.isUndefined(i[component]) &&\n                  !common.isUndefined(this.__color.__state[component]) &&\n                  i[component] !== this.__color.__state[component]) {\n                mismatch = true;\n                return {}; // break\n              }\n            }, this);\n\n            // If nothing diverges, we keep our previous values\n            // for statefulness, otherwise we recalculate fresh\n            if (mismatch) {\n              common.extend(this.__color.__state, i);\n            }\n\n          }\n\n          common.extend(this.__temp.__state, this.__color.__state);\n\n          this.__temp.a = 1;\n\n          var flip = (this.__color.v < .5 || this.__color.s > .5) ? 255 : 0;\n          var _flip = 255 - flip;\n\n          common.extend(this.__field_knob.style, {\n            marginLeft: 100 * this.__color.s - 7 + 'px',\n            marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n            backgroundColor: this.__temp.toString(),\n            border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip +')'\n          });\n\n          this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px'\n\n          this.__temp.s = 1;\n          this.__temp.v = 1;\n\n          linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toString());\n\n          common.extend(this.__input.style, {\n            backgroundColor: this.__input.value = this.__color.toString(),\n            color: 'rgb(' + flip + ',' + flip + ',' + flip +')',\n            textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip +',.7)'\n          });\n\n        }\n\n      }\n\n  );\n  \n  var vendors = ['-moz-','-o-','-webkit-','-ms-',''];\n  \n  function linearGradient(elem, x, a, b) {\n    elem.style.background = '';\n    common.each(vendors, function(vendor) {\n      elem.style.cssText += 'background: ' + vendor + 'linear-gradient('+x+', '+a+' 0%, ' + b + ' 100%); ';\n    });\n  }\n  \n  function hueGradient(elem) {\n    elem.style.background = '';\n    elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);'\n    elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n    elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\n  }\n\n\n  return ColorController;\n\n})(dat.controllers.Controller,\ndat.dom.dom,\ndat.color.Color = (function (interpret, math, toString, common) {\n\n  var Color = function() {\n\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw 'Failed to interpret color arguments';\n    }\n\n    this.__state.a = this.__state.a || 1;\n\n\n  };\n\n  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];\n\n  common.extend(Color.prototype, {\n\n    toString: function() {\n      return toString(this);\n    },\n\n    toOriginal: function() {\n      return this.__state.conversion.write(this);\n    }\n\n  });\n\n  defineRGBComponent(Color.prototype, 'r', 2);\n  defineRGBComponent(Color.prototype, 'g', 1);\n  defineRGBComponent(Color.prototype, 'b', 0);\n\n  defineHSVComponent(Color.prototype, 'h');\n  defineHSVComponent(Color.prototype, 's');\n  defineHSVComponent(Color.prototype, 'v');\n\n  Object.defineProperty(Color.prototype, 'a', {\n\n    get: function() {\n      return this.__state.a;\n    },\n\n    set: function(v) {\n      this.__state.a = v;\n    }\n\n  });\n\n  Object.defineProperty(Color.prototype, 'hex', {\n\n    get: function() {\n\n      if (!this.__state.space !== 'HEX') {\n        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      }\n\n      return this.__state.hex;\n\n    },\n\n    set: function(v) {\n\n      this.__state.space = 'HEX';\n      this.__state.hex = v;\n\n    }\n\n  });\n\n  function defineRGBComponent(target, component, componentHexIndex) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'RGB') {\n          return this.__state[component];\n        }\n\n        recalculateRGB(this, component, componentHexIndex);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'RGB') {\n          recalculateRGB(this, component, componentHexIndex);\n          this.__state.space = 'RGB';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function defineHSVComponent(target, component) {\n\n    Object.defineProperty(target, component, {\n\n      get: function() {\n\n        if (this.__state.space === 'HSV')\n          return this.__state[component];\n\n        recalculateHSV(this);\n\n        return this.__state[component];\n\n      },\n\n      set: function(v) {\n\n        if (this.__state.space !== 'HSV') {\n          recalculateHSV(this);\n          this.__state.space = 'HSV';\n        }\n\n        this.__state[component] = v;\n\n      }\n\n    });\n\n  }\n\n  function recalculateRGB(color, component, componentHexIndex) {\n\n    if (color.__state.space === 'HEX') {\n\n      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n\n    } else if (color.__state.space === 'HSV') {\n\n      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n\n    } else {\n\n      throw 'Corrupted color state';\n\n    }\n\n  }\n\n  function recalculateHSV(color) {\n\n    var result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n    common.extend(color.__state,\n        {\n          s: result.s,\n          v: result.v\n        }\n    );\n\n    if (!common.isNaN(result.h)) {\n      color.__state.h = result.h;\n    } else if (common.isUndefined(color.__state.h)) {\n      color.__state.h = 0;\n    }\n\n  }\n\n  return Color;\n\n})(dat.color.interpret,\ndat.color.math = (function () {\n\n  var tmpComponent;\n\n  return {\n\n    hsv_to_rgb: function(h, s, v) {\n\n      var hi = Math.floor(h / 60) % 6;\n\n      var f = h / 60 - Math.floor(h / 60);\n      var p = v * (1.0 - s);\n      var q = v * (1.0 - (f * s));\n      var t = v * (1.0 - ((1.0 - f) * s));\n      var c = [\n        [v, t, p],\n        [q, v, p],\n        [p, v, t],\n        [p, q, v],\n        [t, p, v],\n        [v, p, q]\n      ][hi];\n\n      return {\n        r: c[0] * 255,\n        g: c[1] * 255,\n        b: c[2] * 255\n      };\n\n    },\n\n    rgb_to_hsv: function(r, g, b) {\n\n      var min = Math.min(r, g, b),\n          max = Math.max(r, g, b),\n          delta = max - min,\n          h, s;\n\n      if (max != 0) {\n        s = delta / max;\n      } else {\n        return {\n          h: NaN,\n          s: 0,\n          v: 0\n        };\n      }\n\n      if (r == max) {\n        h = (g - b) / delta;\n      } else if (g == max) {\n        h = 2 + (b - r) / delta;\n      } else {\n        h = 4 + (r - g) / delta;\n      }\n      h /= 6;\n      if (h < 0) {\n        h += 1;\n      }\n\n      return {\n        h: h * 360,\n        s: s,\n        v: max / 255\n      };\n    },\n\n    rgb_to_hex: function(r, g, b) {\n      var hex = this.hex_with_component(0, 2, r);\n      hex = this.hex_with_component(hex, 1, g);\n      hex = this.hex_with_component(hex, 0, b);\n      return hex;\n    },\n\n    component_from_hex: function(hex, componentIndex) {\n      return (hex >> (componentIndex * 8)) & 0xFF;\n    },\n\n    hex_with_component: function(hex, componentIndex, value) {\n      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));\n    }\n\n  }\n\n})(),\ndat.color.toString,\ndat.utils.common),\ndat.color.interpret,\ndat.utils.common),\ndat.utils.requestAnimationFrame = (function () {\n\n  /**\n   * requirejs version of Paul Irish's RequestAnimationFrame\n   * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n   */\n\n  return window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function(callback, element) {\n\n        window.setTimeout(callback, 1000 / 60);\n\n      };\n})(),\ndat.dom.CenteredDiv = (function (dom, common) {\n\n\n  var CenteredDiv = function() {\n\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    var _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n\n\n  };\n\n  CenteredDiv.prototype.show = function() {\n\n    var _this = this;\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n\n  };\n\n  CenteredDiv.prototype.hide = function() {\n\n    var _this = this;\n\n    var hide = function() {\n\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n  };\n\n  CenteredDiv.prototype.layout = function() {\n    this.domElement.style.left = window.innerWidth/2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight/2 - dom.getHeight(this.domElement) / 2 + 'px';\n  };\n  \n  function lockScroll(e) {\n    console.log(e);\n  }\n\n  return CenteredDiv;\n\n})(dat.dom.dom,\ndat.utils.common),\ndat.dom.dom,\ndat.utils.common);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/dat.gui.js/build/dat.gui.js\n ** module id = 61\n ** module chunks = 0\n **/"],"sourceRoot":""}